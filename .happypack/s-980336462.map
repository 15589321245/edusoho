{"version":3,"sources":["app/Resources/static-src/app/js/activity-manage/live/index.js"],"names":["Live","props","_init","$","_dateTimePicker","_initStep2Form","editor","CKEDITOR","replace","toolbar","filebrowserImageUploadUrl","data","filebrowserFlashUploadUrl","allowedContent","height","on","val","getData","$step2_form","validator","validate","onkeyup","rules","title","required","maxlength","startTime","date","length","digits","max","min","remark","$starttime","datetimepicker","format","language","autoclose","Date"],"mappings":";;;;AAAA;;;;IAEMA,I;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,KAAL;AACD;;;;4BACO;AACN,8BAAWC,EAAE,iBAAF,CAAX;AACA,WAAKC,eAAL;AACA,WAAKC,cAAL;AACD;;;yCACoB;AACnB,UAAIC,SAASC,SAASC,OAAT,CAAiB,oBAAjB,EAAuC;AAClDC,iBAAS,MADyC;AAElDC,mCAA2BP,EAAE,qBAAF,EAAyBQ,IAAzB,CAA8B,gBAA9B,CAFuB;AAGlDC,mCAA2BT,EAAE,qBAAF,EAAyBQ,IAAzB,CAA8B,gBAA9B,CAHuB;AAIlDE,wBAAgB,IAJkC;AAKlDC,gBAAQ;AAL0C,OAAvC,CAAb;AAOAR,aAAOS,EAAP,CAAU,QAAV,EAAoB,YAAM;AACxBZ,UAAE,iBAAF,EAAqBa,GAArB,CAAyBV,OAAOW,OAAP,EAAzB;AACD,OAFD;AAGD;;;qCACgB;AACf,UAAIC,cAAcf,EAAE,aAAF,CAAlB;AACA,UAAIgB,YAAYD,YAAYP,IAAZ,CAAiB,WAAjB,EAA8BQ,SAA9B,CAAhB;AACAA,kBAAYD,YAAYE,QAAZ,CAAqB;AAC/BC,iBAAS,KADsB;AAE/BC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,uBAAW;AAFN,WADF;AAKLC,qBAAW;AACTF,sBAAU,IADD;AAETG,kBAAM;AAFG,WALN;AASLC,kBAAQ;AACNJ,sBAAU,IADJ;AAENK,oBAAQ,IAFF;AAGNC,iBAAK,GAHC;AAINC,iBAAK;AAJC,WATH;AAeLC,kBAAQ;AACNP,uBAAW;AADL;AAfH;AAFwB,OAArB,CAAZ;AAsBD;;;sCAEiB;AAChB,UAAIQ,aAAa9B,EAAE,YAAF,CAAjB;AACA8B,iBAAWC,cAAX,CAA0B;AACxBC,gBAAQ,kBADgB;AAExBC,kBAAU,IAFc;AAGxBC,mBAAW;AAHa,OAA1B;AAKAJ,iBAAWC,cAAX,CAA0B,cAA1B,EAA0C,IAAII,IAAJ,EAA1C;AACD;;;;;;AAGH,IAAItC,IAAJ","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import { initEditor } from '../editor'\n\nclass Live {\n  constructor(props) {\n    this._init();\n  }\n  _init() {\n    initEditor($('[name=\"remark\"]'));\n    this._dateTimePicker();\n    this._initStep2Form();\n  }\n  _initEditorContent() {\n    var editor = CKEDITOR.replace('text-content-field', {\n      toolbar: 'Full',\n      filebrowserImageUploadUrl: $('#text-content-field').data('imageUploadUrl'),\n      filebrowserFlashUploadUrl: $('#text-content-field').data('flashUploadUrl'),\n      allowedContent: true,\n      height: 300\n    });\n    editor.on('change', () => {\n      $('[name=\"remark\"]').val(editor.getData());\n    });\n  }\n  _initStep2Form() {\n    var $step2_form = $(\"#step2-form\");\n    var validator = $step2_form.data('validator', validator);\n    validator = $step2_form.validate({\n      onkeyup: false,\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n        },\n        startTime: {\n          required: true,\n          date: true\n        },\n        length: {\n          required: true,\n          digits: true,\n          max: 300,\n          min: 1\n        },\n        remark: {\n          maxlength: 1000\n        },\n      },\n    });\n  }\n\n  _dateTimePicker() {\n    let $starttime = $('#startTime');\n    $starttime.datetimepicker({\n      format: 'yyyy-mm-dd hh:ii',\n      language: \"zh\",\n      autoclose: true\n    });\n    $starttime.datetimepicker('setStartDate', new Date());\n  }\n}\n\nnew Live();\n"]}