{% set testpaper = testpaper|default(null) %}
{% set targetResultInfo = targetResultInfo|default(null) %}
{% set resultListRout = resultListRout|default('course_manage_testpaper_result_list') %}

{% set taskTitle = task.isOptional ? 'course.testpaper_check.optional_task_title'|trans({'%title%':task.title}) : 'course.catalogue.task_status.task'|trans({'%taskNumber%':task.number, '%taskTitle%':task.title}) %}


<div class="clearfix testpaper-mark-list">
  <div class="testpaper-mark-info col-md-8">
    <div class="row">
      <div class="col-md-8">
        <div class="testpaper-mark-info__title text-overflow" title="{{ taskTitle }}">
          <a class="link-darker" href="#">{{ taskTitle }}</a>
        </div>
        <div class="testpaper-mark-info__name">
          {% if testpaper %}{{ testpaper.name }}{% else %}{{ 'course.testpaper_check.testpaper_delete'|trans }}{% endif %}
        </div>
        <div class="mbm color-gray">
          <span class="mrl">{{'course.testpaper_check.start_date'|trans}}:{{ task.createdTime|date('Y-m-d H:i') }}</span>
        </div>
      </div>
      <div class="col-md-4">
        <div class="testpaper-mark-operation">
          <div class="col-xs-4 text-center mt10"><a class="testpaper-mark-operation__link" data-toggle="tooltip" data-container="body" data-placement="top" title="成绩分布"><i class="es-icon es-icon-check"></i></a></div>
          <div class="col-xs-4 text-center mt10"><a class="testpaper-mark-operation__link" data-toggle="tooltip" data-container="body" data-placement="top" title="答题分布"><i class="es-icon es-icon-check"></i></a></div>
          <div class="col-xs-4 text-center mt10"><a class="testpaper-mark-operation__link" data-toggle="tooltip" data-container="body" data-placement="top" title="批阅" ><i class="es-icon es-icon-check"></i></a></div>
        </div>
      </div>
    </div>
  </div>


  <div class="testpaper-mark-status col-md-4 text-center">
    {% if testpaper %}
      <div class="row">
        <div class="col-xs-4">
          <a class="testpaper-mark-success-status" href="{{ path(resultListRout,{id:targetId,testpaperId:testpaper.id, activityId:task.activityId,status:'finished'}) }}">
            <span class="testpaper-mark-status__text">{{'course.testpaper_check.status.check'|trans}}</span><br>
            <p class="mtm pts">{{ targetResultInfo.finished|default(0) }}</p>
          </a>
        </div>
        <div class="col-xs-4">
          <a class="testpaper-mark-warning-status" href="{{ path(resultListRout,{id:targetId,testpaperId:testpaper.id,activityId:task.activityId,status:'reviewing'}) }}">
            <span class="testpaper-span">{{'course.testpaper_check.status.not_check'|trans}}</span><br>
            <p class="mtm pts">{{ targetResultInfo.reviewing|default(0) }}</p>
          </a>
        </div>
        <div class="col-xs-4">
          <a class="testpaper-mark-danger-status" href="{{ path(resultListRout,{id:targetId,testpaperId:testpaper.id,activityId:task.activityId,status:'doing'}) }}">
            <span class="testpaper-span">{{'course.testpaper_check.status.not_submit'|trans}}</span><br>
            <p class="mtm pts">{{ targetResultInfo.doing|default(0) }}</p>
          </a>
        </div>
      </div>
    {% endif %}
  </div>
</div>