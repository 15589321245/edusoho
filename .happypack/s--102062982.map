{"version":3,"sources":["app/Resources/static-src/app/js/courseset-manage/detail/index.js"],"names":["CKEDITOR","replace","allowedContent","toolbar","filebrowserImageUploadUrl","$","data","click","evt","currentTarget","button","submit","renderMultiGroupComponent","elementId","name","datas","render","document","getElementById","validator","form","publishAddMessage","$form","postal","publish","channel","topic"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAA,SAASC,OAAT,CAAiB,SAAjB,EAA4B;AAC1BC,kBAAgB,IADU;AAE1BC,WAAS,QAFiB;AAG1BC,6BAA2BC,EAAE,0BAAF,EAA8BC,IAA9B,CAAmC,gBAAnC;AAHD,CAA5B;;AAMAD,EAAE,mBAAF,EAAuBE,KAAvB,CAA6B,UAAUC,GAAV,EAAe;AAC1CH,IAAEG,IAAIC,aAAN,EAAqBC,MAArB,CAA4B,SAA5B;AACAL,IAAE,wBAAF,EAA4BM,MAA5B;AACD,CAHD;;AAMA,SAASC,yBAAT,CAAmCC,SAAnC,EAA8CC,IAA9C,EAAoD;AAClD,MAAIC,QAAQV,EAAE,MAAMQ,SAAR,EAAmBP,IAAnB,CAAwB,YAAxB,CAAZ;AACA,qBAASU,MAAT,CAAgB;AACd,eAAW,IADG;AAEd,cAAU,IAFI;AAGd,gBAAYD,KAHE;AAId,eAAWD,OAAO,IAJJ;AAKd,uBAAmBA;AALL,IAAhB,EAOEG,SAASC,cAAT,CAAwBL,SAAxB,CAPF;AASD;;AAEDD,0BAA0B,cAA1B,EAA0C,OAA1C;AACAA,0BAA0B,mBAA1B,EAA+C,WAA/C;;AAEAP,EAAE,gBAAF,EAAoBE,KAApB,CAA0B,UAAUC,GAAV,EAAe;AACvC,MAAIW,UAAUC,IAAV,EAAJ,EAAsB;AACpB;AACAC;AACAC,UAAMX,MAAN;AACD;AACF,CAND;;AAQA,SAASU,iBAAT,GAA6B;AAC3BE,SAAOC,OAAP,CAAe;AACbC,aAAS,sBADI;AAEbC,WAAO;AAFM,GAAf;AAID","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import ReactDOM from 'react-dom';\nimport React from 'react';\nimport MultiInput from 'app/common/component/multi-input';\nimport sortList from 'common/sortable';\n\nCKEDITOR.replace('summary', {\n  allowedContent: true,\n  toolbar: 'Detail',\n  filebrowserImageUploadUrl: $('#courseset-summary-field').data('imageUploadUrl')\n});\n\n$('#courseset-submit').click(function (evt) {\n  $(evt.currentTarget).button('loading');\n  $('#courseset-detail-form').submit();\n});\n\n\nfunction renderMultiGroupComponent(elementId, name) {\n  let datas = $('#' + elementId).data('init-value');\n  ReactDOM.render(<MultiInput\n    blurIsAdd={true}\n    sortable={true}\n    dataSource={datas}\n    inputName={name + \"[]\"}\n    outputDataElement={name}\n  />,\n    document.getElementById(elementId)\n  );\n}\n\nrenderMultiGroupComponent('course-goals', 'goals');\nrenderMultiGroupComponent('intended-students', 'audiences');\n\n$('#course-submit').click(function (evt) {\n  if (validator.form()) {\n    //发消息\n    publishAddMessage();\n    $form.submit();\n  }\n});\n\nfunction publishAddMessage() {\n  postal.publish({\n    channel: \"courseInfoMultiInput\",\n    topic: \"addMultiInput\",\n  });\n}"]}