{"version":3,"sources":["app/Resources/static-src/app/js/classroom/set-picture-crop/index.js"],"names":["CoverCrop","init","imageCrop","element","group","cropedWidth","cropedHeight","afterCrop","response","url","$","data","post","images","document","location","href","click","e","stopPropagation","crop","imgs","large","middle","small","history","go"],"mappings":";;;;AAAA;;;;;;;;IAEMA,S;AACJ,uBAAc;AAAA;;AACZ,SAAKC,IAAL;AACD;;;;2BAEM;AACL,UAAIC,YAAY,0BAAgB;AAC9BC,iBAAS,yBADqB;AAE9BC,eAAO,QAFuB;AAG9BC,qBAAa,GAHiB;AAI9BC,sBAAc;AAJgB,OAAhB,CAAhB;AAMAJ,gBAAUK,SAAV,GAAsB,UAASC,QAAT,EAAmB;AACvC;AACA;AACA;AACA;AACA,YAAIC,MAAMC,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,KAA9B,CAAV;AACAD,UAAEE,IAAF,CAAOH,GAAP,EAAY,EAACI,QAAQL,QAAT,EAAZ,EAAgC,YAAU;AACtCM,mBAASC,QAAT,CAAkBC,IAAlB,GAAuBN,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,SAA9B,CAAvB;AACH,SAFD;AAGD,OATD;;AAWAD,QAAE,qBAAF,EAAyBO,KAAzB,CAA+B,UAASC,CAAT,EAAY;AACzCA,UAAEC,eAAF;AACAjB,kBAAUkB,IAAV,CAAe;AACXC,gBAAM;AACFC,mBAAO,CAAC,GAAD,EAAM,GAAN,CADL;AAEFC,oBAAQ,CAAC,GAAD,EAAM,GAAN,CAFN;AAGFC,mBAAO,CAAC,GAAD,EAAM,GAAN;AAHL;AADK,SAAf;AAOD,OATD;;AAWAd,QAAE,UAAF,EAAcO,KAAd,CAAoB,YAAU;AACtBQ,gBAAQC,EAAR,CAAW,CAAC,CAAZ;AACH,OAFL;AAGD;;;;;;AAIH,IAAI1B,SAAJ;;AAIA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import EsImageCrop from 'libs/js/es-image-crop.js';\n\nclass CoverCrop {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    let imageCrop = new EsImageCrop({\n      element: \"#classroom-picture-crop\",\n      group: \"course\",\n      cropedWidth: 525,\n      cropedHeight: 350\n    });\n    imageCrop.afterCrop = function(response) {\n      // let url = $(\"#upload-picture-btn\").data(\"url\");\n      // $.post(url, { images: JSON.stringify(response) }, function() {\n      //   document.location.href = $(\"#upload-picture-btn\").data(\"gotoUrl\");\n      // });\n      let url = $(\"#upload-picture-btn\").data(\"url\");\n      $.post(url, {images: response}, function(){\n          document.location.href=$(\"#upload-picture-btn\").data(\"gotoUrl\");\n      });\n    };\n\n    $(\"#upload-picture-btn\").click(function(e) {\n      e.stopPropagation();\n      imageCrop.crop({\n          imgs: {\n              large: [525, 350],\n              middle: [345, 230],\n              small: [213, 142],\n          }\n      });\n    })\n\n    $('.go-back').click(function(){\n            history.go(-1);\n        });\n  }\n}\n\n\nnew CoverCrop();\n\n\n\n// define(function(require, exports, module) {\n//     require(\"jquery.jcrop-css\");\n//     require(\"jquery.jcrop\");\n//     var Notify = require('common/bootstrap-notify');\n//     var ImageCrop = require('edusoho.imagecrop');\n\n//     exports.run = function() {\n\n//         var imageCrop = new ImageCrop({\n//             element: \"#classroom-picture-crop\",\n//             group: \"course\",\n//             cropedWidth: 525,\n//             cropedHeight: 350\n//         });\n\n//         imageCrop.on(\"afterCrop\", function(response){\n//             var url = $(\"#upload-picture-btn\").data(\"url\");\n//             $.post(url, {images: response}, function(){\n//                 document.location.href=$(\"#upload-picture-btn\").data(\"gotoUrl\");\n//             });\n//         });\n\n//         $(\"#upload-picture-btn\").click(function(e){\n//             e.stopPropagation();\n\n//             imageCrop.crop({\n//                 imgs: {\n//                     large: [525, 350],\n//                     middle: [345, 230],\n//                     small: [213, 142],\n//                 }\n//             });\n\n//         })\n\n//         $('.go-back').click(function(){\n//             history.go(-1);\n//         });\n\n//     };\n  \n// });"]}