webpackJsonp(["app/js/testpaper-manage/create/index"],[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),o=e("8f840897d9471c8c1fbd"),s=n(o),d=function(){function t(i){r(this,t),this.$form=i,this.$description=this.$form.find('[name="description"]'),this.validator=null,this._initEvent(),this._initEditor(),this._initValidate(),this._initSortList()}return a(t,[{key:"_initEvent",value:function(){var t=this;this.$form.on("click",'[data-role="submit"]',function(i){return t._submit(i)})}},{key:"_initEditor",value:function(){var t=this,i=CKEDITOR.replace(this.$description.attr("id"),{toolbar:"Simple",filebrowserImageUploadUrl:this.$description.data("imageUploadUrl"),height:100});i.on("change",function(){t.$description.val(i.getData())})}},{key:"_initValidate",value:function(){this.validator=this.$form.validate({rules:{name:{required:!0},description:{required:!0,maxlength:500},limitedTime:{min:0,max:1e4,digits:!0},mode:{required:!0},range:{required:!0}},messages:{name:"请输入试卷名称",description:"请输入试卷描述",mode:"请选择生成方式",range:"请选择出题范围"}}),this.$form.find(".testpaper-question-option-item").each(function(){var t=$(this);t.find('[data-role="count"]').rules("add",{min:0,max:function(){return parseInt(t.find('[role="questionNum"]').text())},digits:!0}),t.find('[data-role="score"]').rules("add",{min:0,max:100,digits:!0}),t.find('[data-role="missScore"]').length>0&&t.find('[data-role="missScore"]').rules("add",{min:0,max:function(){return parseInt(t.find('[data-role="score"]').val())},digits:!0})})}},{key:"_initSortList",value:function(){(0,s.default)({element:"#testpaper-question-options",itemSelector:".testpaper-question-option-item",handle:".question-type-sort-handler",isAjax:!1})}},{key:"_submit",value:function(t){var i=this.validator.form();i&&this.$form.submit()}}]),t}();new d($("#testpaper-form"))}]);