{% extends 'TopxiaWebBundle::layout.html.twig' %}

{% block title %}完善资料 - {{ parent() }}{% endblock %}
{% set script_controller = 'auth/login-bind-new' %}

{% block content %}
<div class="row row-6">
  <div class="col-md-6 col-md-offset-3">

    <div class="panel panel-default panel-page">
      <div class="panel-heading"><h2>完善资料</h2></div>

        <div class="alert alert-warning"> 您当前正在使用<strong>{{ client.clientInfo.name }}</strong>登录{{ setting('site.name') }}，请完善资料。 </div>

        <form id="bind-new-form" class="form-vertical" method="post">
          <div class="form-group">
            {{ form_label(form.email, 'Email地址', {label_attr:{class:'control-label'}}) }}
            <div class="controls">
              {{ form_widget(form.email, {attr:{class:'form-control', 'data-url':path('register_email_check')}}) }}
            </div>
          </div>

          <div class="form-group">
            {{ form_label(form.nickname, '昵称', {label_attr:{class:'control-label'}}) }}
            <div class="controls">
              {{ form_widget(form.nickname, {attr:{class:'form-control', 'data-url':path('register_nickname_check')}}) }}
            </div>
          </div>

          <div class="form-group">
            <div class="controls">
              {{ form_rest(form) }}
              <button type="submit" class="btn btn-fat btn-primary btn-large">注册</button>
            </div>
          </div>
        </form>

        <div class="form-group">
          <span class="text-muted">已有帐号？</span>
          <a href="{{ path('login_bind_exist', {type: client.clientInfo.type}) }}">绑定到已有帐号</a>
        </div>

    </div>

  </div>
</div>
{% endblock %}