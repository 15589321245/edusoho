webpackJsonp(["app/js/question-manage/form/index"],{d5fb0e67d2d4c1ebaaed:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){n(this,e),this.$ele=t,this.initEvent()}return r(e,[{key:"initEvent",value:function(){var e=this;this.$ele.on("click",'[data-role="delte-item"]',function(t){return e._deleteItem(t)})}},{key:"_deleteItem",value:function(e){var t=$(e.currentTarget);$.post(t.data("url"),{},function(e){"ok"==e.msg&&(t.closest(".js-attachment-list").siblings(".js-upload-file").show(),t.closest(".js-attachment-list").closest("div").siblings('[data-role="fileId"]').val(""),t.closest("div").remove())})}}]),e}();t.default=i},0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("fed3b995e613c074e80b"),u=r(a),l=n("2cf47b8094e4851a7f1f"),f=r(l),c=n("e85a87f5cf404e5d12c1"),s=r(c),d=n("5a8ff9f4ed340a8713f6"),b=r(d),p=n("3c1fcf442037b440aea5"),h=r(p),y=n("228720083c8f03b23e6d"),_=r(y),v=n("7fed9bfb1a62b2d3ee74"),w=r(v),m=n("d10d1a490b8cc019f3a3"),O=r(m),g=function(){function e(){i(this,e)}return o(e,null,[{key:"getCreator",value:function(t,n){switch(t){case"single_choice":e=new s.default(n);break;case"uncertain_choice":e=new b.default(n);break;case"choice":e=new f.default(n);break;case"determine":e=new h.default(n);break;case"essay":e=new w.default(n);break;case"fill":e=new _.default(n);break;case"material":e=new O.default(n);break;default:e=new u.default(n),e.initTitleEditor(),e.initAnalysisEditor()}return e}}]),e}(),E=$('[data-role="question-form"]'),j=$('[data-role="question-form"]').find('[name="type"]').val();g.getCreator(j,E)},fed3b995e613c074e80b:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("d5fb0e67d2d4c1ebaaed"),u=r(a),l=function(){function e(t){i(this,e),this.$form=t,this.titleFieldId="question-stem-field",this.analysisFieldId="question-analysis-field",this.validator=null,this.titleEditorToolBarName="Minimal",this._init(),this.attachmentActions=new u.default(t)}return o(e,[{key:"_init",value:function(){this._initEvent(),this._initValidate()}},{key:"_initEvent",value:function(){var e=this;this.$form.on("click","[data-role=submit]",function(t){return e.submitForm(t)})}},{key:"submitForm",value:function(e){var t=$(e.currentTarget).data("submission");this.$form.find("[name=submission]").val(t)}},{key:"_initValidate",value:function(){var e=this.$form.validate({onkeyup:!1,rules:{'[data-role="target"]':{required:!0},difficulty:{required:!0},stem:{required:!0},score:{required:!0,number:!0,max:999,min:0}},messages:{'[data-role="target"]':"请选择从属",difficulty:"请选择难度"}});this.validator=e}},{key:"initTitleEditor",value:function(){var e=$("#"+this.titleFieldId),t=CKEDITOR.replace(this.titleFieldId,{toolbar:this.titleEditorToolBarName,filebrowserImageUploadUrl:e.data("imageUploadUrl"),height:e.height()});t.on("change",function(){e.val(t.getData())})}},{key:"initAnalysisEditor",value:function(){var e=$("#"+this.analysisFieldId),t=CKEDITOR.replace(this.analysisFieldId,{toolbar:this.titleEditorToolBarName,filebrowserImageUploadUrl:e.data("imageUploadUrl"),height:e.height()});t.on("change",function(){e.val(t.getData())})}},{key:"titleEditorToolBarName",set:function(e){this._titleEditorToolBarName=e},get:function(){return this._titleEditorToolBarName}}]),e}();t.default=l},"2cf47b8094e4851a7f1f":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n("fed3b995e613c074e80b"),l=r(u),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initTitleEditor(),n.initAnalysisEditor(),n}return a(t,e),t}(l.default);t.default=f},"3c1fcf442037b440aea5":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("fed3b995e613c074e80b"),f=r(l),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initTitleEditor(),n.initAnalysisEditor(),n.$answerField=$('[name="answer[]"]'),n.init(),n}return a(t,e),u(t,[{key:"init",value:function(){this.$answerField.rules("add",{required:!0,messages:{required:"请选择正确答案"}})}}]),t}(f.default);t.default=c},"7fed9bfb1a62b2d3ee74":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("fed3b995e613c074e80b"),f=r(l),c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initTitleEditor(),n.initAnalysisEditor(),n.answerFieldId="question-answer-field",n.$answerField=$("#"+n.answerFieldId),n.init(),n}return a(t,e),u(t,[{key:"init",value:function(){var e=this;this.$answerField.rules("add",{required:!0});var t=CKEDITOR.replace(this.answerFieldId,{toolbar:"Minimal",filebrowserImageUploadUrl:this.$answerField.data("imageUploadUrl"),height:this.$answerField.height()});t.on("change",function(){e.$answerField.val(t.getData())})}}]),t}(f.default);t.default=c},"228720083c8f03b23e6d":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("fed3b995e613c074e80b"),f=r(l);jQuery.validator.addMethod("fillCheck",function(e,t){return this.optional(t)||/(\[\[(.+?)\]\])/i.test(e)},"请输入正确的答案,如今天是[[晴|阴|雨]]天");var c=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.titleEditorToolBarName="Question",n.initTitleEditor(),n.initAnalysisEditor(),n.$titleField=$("#"+n.titleFieldId),n.init(),n}return a(t,e),u(t,[{key:"init",value:function(){this.$titleField.rules("add",{fillCheck:!0})}}]),t}(f.default);t.default=c},d10d1a490b8cc019f3a3:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n("fed3b995e613c074e80b"),l=r(u),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initTitleEditor(),n.initAnalysisEditor(),n}return a(t,e),t}(l.default);t.default=f},e85a87f5cf404e5d12c1:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n("fed3b995e613c074e80b"),l=r(u),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initTitleEditor(),n.initAnalysisEditor(),n}return a(t,e),t}(l.default);t.default=f},"5a8ff9f4ed340a8713f6":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n("fed3b995e613c074e80b"),l=r(u),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initTitleEditor(),n.initAnalysisEditor(),n}return a(t,e),t}(l.default);t.default=f}});