{% extends 'TopxiaWebBundle:Class:layout.html.twig' %}
{% set script_controller = 'class-member/member' %}
{% block class_main %}

  <div class="panel-block">
    <div class="row panel-block-heading">
      <div class="col-xs-12">
        <h3>老师们</h3>
      </div>
    </div>

    <div class="row panel-block-body">
      <div class="col-md-6">
        <div class="media">
          <a href="{{ path('user_show', {id:headTeacher.id}) }}" class="pull-left">
            <img class="media-object" width="48" height="48" src="{{file_path(headTeacher.smallAvatar, 'avatar.png')}}" alt="{{headTeacher.truename}}">
          </a>
          <div class="media-body">
            {% if app.user.id!=headTeacher.id %}
              <button class="btn btn-success btn-xs pull-right" data-toggle="modal" data-target="#modal" data-url="{{path('message_create', {toId:headTeacher.id})}}">发私信</button>
            {% endif %}
            <a href="{{ path('user_show', {id:headTeacher.id}) }}">
              <h5>{{headTeacher.truename}}（班主任）</h5>
            </a>
          </div>
        </div>
      </div>
      {% for teacher in teachers %}
        {% if teacher['id']!=headTeacher.id %}
          <div class="col-md-6">
            <div class="media">
              <a href="{{ path('user_show', {id:teacher.id}) }}" class="pull-left">
                <img class="media-object" width="48" height="48" src="{{file_path(teacher.smallAvatar, 'avatar.png')}}" alt="{{teacher.truename}}">
              </a>
              <div class="media-body">
                {% if app.user.id!=teacher.id %}
                  <button class="btn btn-success btn-xs pull-right" data-toggle="modal" data-target="#modal" data-url="{{path('message_create', {toId:teacher.id})}}">发私信</button>
                {% endif %}
                <a href="{{ path('user_show', {id:teacher.id}) }}">
                  <h5>{{teacher.truename}}</h5>
                </a>
              </div>
            </div>
          </div>
        {% endif %}
      {% else %}
        <div class="empty">尚无任课老师</div>
      {% endfor %}    
    </div>
  </div><!-- /panel-body-block -->

  <div class="panel-block">
    <div class="row panel-block-heading">
      <div class="col-xs-12">
        <h3>同学们</h3>
      </div>
    </div>

    <div class="row panel-block-body class-student-grids">
      {% for student in students %}
        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-4 grid">
          <a href="{{ path('user_show', {id:student.id}) }}">
            <img class="avatar" width="48" height="48" src="{{ file_path(student.smallAvatar, 'avatar.png') }}" alt="{{student.truename}}">
          </a>
          <a href="{{ path('user_show', {id:student.id}) }}" class="truename">{{student.truename}}</a>
          <div class="student-card-content">
            <div class="media">
              <img class="media-object pull-left" src="{{ file_path(student.smallAvatar, 'avatar.png') }}">
              <div class="media-body">
                <spann class="text-success">{{student.truename}} </spann>
                <span class="text-muted"> ({{ student.number }})</span></br>
                {{ setting('point', '学分').name|default('学分') }}：<span class="text-danger">{{student.point}}</span>
                <div class="actions clearfix">
                  {% if app.user.id != student.id %}
                    <button class="btn btn-xs btn-success pull-right" data-toggle="modal" data-target="#modal" data-url="{{path('message_create', {toId:student.id})}}">发私信</button>
                  {% endif %}
                </div>
              </div>
            </div>
          </div> 
        </div>
      {% else %}
        <div class="empty">尚无学生</div>
      {% endfor %}
    </div>
  </div><!-- /panel-body-block -->
{% endblock %}