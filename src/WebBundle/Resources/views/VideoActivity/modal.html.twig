{% extends 'WebBundle:Activity:activity-form-layout.html.twig' %}

{% do script(['http://localhost:12345/build-dev/sdk.js','libs/perfect-scrollbar.js','web/activity-manage/video/index.js']) %}
{% block activity_content %}
  {% set mediaType = activity.mediaType|default('video') %}
  <div class="form-group">
    <div class="col-xs-2 control-label">
      <label for="text-content-field" class="style1">{{ '简介'|trans }}</label>
    </div>
    <div class="col-xs-10">
      <textarea class="form-control" id="text-content-field" name="content"
                data-image-upload-url="{{ path('editor_upload', {token:upload_token('course')}) }}"
                data-flash-upload-url="{{ path('editor_upload', {token:upload_token('course', 'flash')}) }}"
                data-image-download-url="{{ path('editor_download', {token:upload_token('course')}) }}"
      >{{ activity.content|default('') }}</textarea>
    </div>
  </div>

  <div class="form-group">
    <div class="col-xs-2 control-label">
      <label for="media" class="style">{{ '视频'|trans }}</label>
    </div>
    {% include 'WebBundle:FileChooser:file-choose.html.twig'with {mediaType: mediaType,fileType:'video',file: activity.ext.file|default(null) } %}
  </div>
  <div class="form-group for-video-type" id="lesson-length-form-group">
    <div class="col-xs-2 control-label for-video-type">
      <label>{{ '视频时长'|trans }}</label>
    </div>
    <div class="col-xs-10">
      <input id="mediaId" class="form-control" type="hidden" name="mediaId" value={{ activity.mediaId|default(null) }}>
      <input class="form-control width-input width-input-small js-length" id="minute" type="text" name="minute"
             value="{{ activity.minute|default(null) }}">{{ '分'|trans }}
      <input class="form-control width-input width-input-small js-length" id="second" type="text" name="second"
             value="{{ activity.second|default(null) }}">{{ '秒'|trans }}
      <input type="hidden" id="ext_mediaId" name="ext[mediaId]" value="{{ activity.ext.mediaId|default(null) }}">
      <input type="hidden" id="ext_mediaSource" name="ext[mediaSource]" value="{{ activity.ext.mediaSource|default(null) }}">
      <input type="hidden" id="ext_mediaUri" name="ext[mediaUri]" value="{{ activity.ext.mediaUri|default(null) }}">
      <input type="hidden" id="length" name="length" value="{{ activity.length|default(null) }}">
    </div>
  </div>
{% endblock %}

{% block activity_finish %}
  <div class=" form-group">
    <div class="col-xs-2 control-label">
      <label>{{ '完成条件'|trans }}</label>
    </div>
    <div class="col-xs-10">
      <p class="form-control-static">观看到最后</p>
    </div>
  </div>
{% endblock %}