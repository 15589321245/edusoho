{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/settings/pay-password-modal/index.js"],"names":["PayPasswordModal","props","element","$","currentDom","init","initEvent","validate","validator","ajax","rules","required","passwordCheck","maxlength","minlength","equalTo","submitError","data","submitSuccess","message","setTimeout","window","location","reload","on","form","submit"],"mappings":";;;;;;;;AAAA;;;;;;;;KAEMA,gB;AACJ,6BAAYC,KAAZ,EAAmB;AAAA;;AACjB,UAAKC,OAAL,GAAeC,EAAEF,MAAMC,OAAR,CAAf;AACA,UAAKE,UAAL,GAAkBH,MAAMG,UAAxB;AACA,UAAKC,IAAL;AACD;;;;4BACM;AACL,YAAKC,SAAL;AACA,YAAKC,QAAL;AACD;;;gCACU;AACT,WAAIH,aAAa,KAAKA,UAAtB;AACA,WAAII,YAAa,KAAKN,OAAL,CAAaK,QAAb,CAAsB;AACrCE,eAAM,IAD+B;AAErCL,+BAFqC;AAGrCM,gBAAO;AACL,6CAAmC;AACjCC,uBAAU,IADuB;AAEjCC,4BAAe;AAFkB,YAD9B;AAKL,mCAAwB;AACtBD,uBAAU,IADY;AAEtBE,wBAAW,EAFW;AAGtBC,wBAAW;AAHW,YALnB;AAUL,uCAA4B;AAC1BH,uBAAU,IADgB;AAE1BI,sBAAS;AAFiB;AAVvB,UAH8B;AAkBrCC,oBAlBqC,uBAkBzBC,IAlByB,EAkBnB;AAChB,iCAAO,QAAP,EAAiB,sCAAjB;AACD,UApBoC;AAqBrCC,sBArBqC,yBAqBvBD,IArBuB,EAqBjB;AAClB,iCAAO,SAAP,EAAkBA,KAAKE,OAAvB;AACAC,sBAAW,YAAW;AACpBC,oBAAOC,QAAP,CAAgBC,MAAhB;AACD,YAFD,EAEE,IAFF;AAGD;AA1BoC,QAAtB,CAAjB;AA4BA,cAAOf,SAAP;AACD;;;iCACW;AAAA;;AACVL,SAAE,KAAKC,UAAP,EAAmBoB,EAAnB,CAAsB,OAAtB,EAA+B,YAAM;AACnC,aAAI,MAAKjB,QAAL,GAAgBkB,IAAhB,EAAJ,EAA4B;AAC1B,iBAAKvB,OAAL,CAAawB,MAAb;AACD;AACF,QAJD;AAKD;;;;;;AAGH,KAAI1B,gBAAJ,CAAqB;AACnBE,YAAS,6BADU;AAEnBE,eAAY;AAFO,EAArB,E","file":"app/js/settings/pay-password-modal/index.js","sourcesContent":["import notify from 'common/notify';\n\nclass PayPasswordModal {\n  constructor(props) {\n    this.element = $(props.element);\n    this.currentDom = props.currentDom;\n    this.init();\n  }\n  init() {\n    this.initEvent();\n    this.validate();\n  }\n  validate() {\n    let currentDom = this.currentDom;\n    let validator =  this.element.validate({\n      ajax: true,\n      currentDom,\n      rules: {\n        'form[currentUserLoginPassword]':  {\n          required: true,\n          passwordCheck: true\n        },\n        'form[newPayPassword]': {\n          required: true,\n          maxlength: 20,\n          minlength: 5,\n        },\n        'form[confirmPayPassword]': {\n          required: true,\n          equalTo: '#form_newPayPassword'\n        }\n      },\n      submitError(data) {\n        notify('danger', 'pay.security.password.save_fail_hint');\n      },\n      submitSuccess(data) {\n        notify('success', data.message);\n        setTimeout(function() {\n          window.location.reload();\n        },1000);\n      }\n    })\n    return validator;\n  }\n  initEvent() {\n    $(this.currentDom).on('click', () => {\n      if (this.validate().form()) {\n        this.element.submit();\n      }\n    });\n  }\n}\n\nnew PayPasswordModal({\n  element: '#settings-pay-password-form',\n  currentDom: '.js-submit-form'\n})\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/settings/pay-password-modal/index.js"],"sourceRoot":""}