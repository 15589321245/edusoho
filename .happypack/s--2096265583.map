{"version":3,"sources":["app/Resources/static-src/app/js/activity-manage/live/index.js"],"names":["Live","props","_init","validator2","initStep2Form","$step2_form","$","validate","onkeyup","rules","title","required","maxlength","trim","startTime","DateAndTime","after_now","length","digits","max","min","remark","data","dateTimePicker","validator","console","log","$starttime","datetimepicker","format","language","autoclose","endDate","Date","now","on","form"],"mappings":";;;;AAAA;;;;IAEMA,I;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,KAAL;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACD;;;;4BACO;AACN,WAAKC,aAAL;AACD;;;oCAEe;AACd,UAAIC,cAAcC,EAAE,aAAF,CAAlB;AACA,WAAKH,UAAL,GAAkBE,YAAYE,QAAZ,CAAqB;AACrCC,iBAAS,KAD4B;AAErCC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,uBAAW,EAFN;AAGLC,kBAAM;AAHD,WADF;AAMLC,qBAAW;AACTH,sBAAU,IADD;AAETI,yBAAa,IAFJ;AAGTC,uBAAW;AAHF,WANN;AAWLC,kBAAQ;AACNN,sBAAU,IADJ;AAENO,oBAAQ,IAFF;AAGNC,iBAAK,GAHC;AAINC,iBAAK;AAJC,WAXH;AAiBLC,kBAAQ;AACNT,uBAAW;AADL;AAjBH;AAF8B,OAArB,CAAlB;AAwBA,8BAAWN,EAAE,iBAAF,CAAX,EAAiC,KAAKH,UAAtC;AACDE,kBAAYiB,IAAZ,CAAiB,WAAjB,EAA8B,KAAKnB,UAAnC;AACC,WAAKoB,cAAL,CAAoB,KAAKpB,UAAzB;AACD;;;mCAEcqB,S,EAAW;AACxBC,cAAQC,GAAR,CAAYF,SAAZ;AACA,UAAIG,aAAarB,EAAE,YAAF,CAAjB;AACAqB,iBAAWC,cAAX,CAA0B;AACxBC,gBAAQ,kBADgB;AAExBC,kBAAU,IAFc;AAGxBC,mBAAW,IAHa;AAIxBC,iBAAS,IAAIC,IAAJ,CAASA,KAAKC,GAAL,KAAa,QAAQ,GAAR,GAAc,EAAd,GAAmB,IAAzC;AAJe,OAA1B,EAKGC,EALH,CAKM,MALN,EAKc,YAAM;AAClBX,kBAAUY,IAAV;AACD,OAPD;AAQAT,iBAAWC,cAAX,CAA0B,cAA1B,EAA0C,IAAIK,IAAJ,EAA1C;AACD;;;;;;AAGH,IAAIjC,IAAJ","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import { initEditor } from '../editor'\n\nclass Live {\n  constructor(props) {\n    this._init();\n    this.validator2 = null;\n  }\n  _init() {\n    this.initStep2Form();\n  }\n\n  initStep2Form() {\n    let $step2_form = $(\"#step2-form\");\n    this.validator2 = $step2_form.validate({\n      onkeyup: false,\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n          trim: true,\n        },\n        startTime: {\n          required: true,\n          DateAndTime: true,\n          after_now: true,\n        },\n        length: {\n          required: true,\n          digits: true,\n          max: 300,\n          min: 1\n        },\n        remark: {\n          maxlength: 1000\n        },\n      },\n    });\n    initEditor($('[name=\"remark\"]'), this.validator2);\n   $step2_form.data('validator', this.validator2);\n    this.dateTimePicker(this.validator2);\n  }\n\n  dateTimePicker(validator) {\n    console.log(validator);\n    let $starttime = $('#startTime');\n    $starttime.datetimepicker({\n      format: 'yyyy-mm-dd hh:ii',\n      language: \"zh\",\n      autoclose: true,\n      endDate: new Date(Date.now() + 86400 * 365 * 10 * 1000)\n    }).on('hide', () => {\n      validator.form();\n    })\n    $starttime.datetimepicker('setStartDate', new Date());\n  }\n}\n\nnew Live();\n"]}