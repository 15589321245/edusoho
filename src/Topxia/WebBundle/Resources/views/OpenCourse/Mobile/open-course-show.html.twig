{% extends 'TopxiaWebBundle::layout.html.twig' %}
{% set script_controller = 'open-course/open-course' %}

{% block title %}
  {{ setting('site.name', 'EduSoho网校') }}
{% endblock %}

{% block img %}
  <img width="0" height="0" src="{{ filepath(course.largePicture|default(''), 'course.png') }}" >
{% endblock %}

{% block full_content %}
  {% block top_content %}{% endblock %}

  {% if app.request.get('previewType') == 'wx' %}
    {% block header %}{% endblock %}
    <div class="open-course-wechat-preview">
      <div class="container open-course-container">
        {% include 'TopxiaWebBundle:OpenCourse/Mobile:open-course.html.twig' %}
        <div class="open-course-wechat-qrcode hidden-md hidden-sm hidden-xs">
          {# 二维码地址去掉url的query部分 #}
          <img src="{{ qrcode_data_uri(wxPreviewUrl) }}">
          <p class="text-center">微信扫一扫预览</p>
        </div>
      </div>
    </div>
    {% block footer %}{% endblock %}
  {% else %}
  <div class="container open-course-container">
    {% include 'TopxiaWebBundle:OpenCourse/Mobile:open-course.html.twig' %}
  </div>
  {% endif %}
  {% block bottom_content %}{% endblock %}
  {% include 'TopxiaWebBundle:Common:weixin-share.html.twig' with {'type': 'open-course'} %}
{% endblock %}
    