{% extends 'admin/layout.html.twig' %}

{% set menu = 'admin_queue_failed_logs' %}

{% block main %}

  {% if jobs %}
    <table class="table table-striped table-hover">
      <thead>
      <tr>
        <th>{{'ID'|trans}}</th>
        <th>{{'对列名'|trans}}</th>
        <th>{{'消息主体'|trans}}</th>
        <th>{{'类'|trans}}</th>
        <th>{{'超时时间'|trans}}</th>
        <th>{{'优先级'|trans}}</th>
        <th>{{'错误原因'|trans}}</th>
        <th>{{'失败时间'|trans}}</th>
      </tr>
      </thead>
      <tbody>
      {% for log in jobs %}
        <tr id="job-log-table-tr-{{ log.id }}">
          <td>
            {{ log.id }}
          </td>

          <td>
            {{ log.queue }}
          </td>

          <td>
            {{ log.body }}
          </td>

          <td>
            {{ log.class }}
          </td>

          <td>
            {{ log.timeout }}
          </td>

          <td>
            {{ log.priority }}
          </td>

          <td>
            {{ log.reason }}
          </td>

          <td>
            {{ log.failed_time|date('Y-m-d H:i:s') }}
          </td>

        </tr>
      {% endfor %}
      </tbody>

    </table>
  {% else %}
    <div class="empty">{{'暂无任务信息!'|trans}}</div>
  {% endif %}
  {{ admin_macro.paginator(paginator) }}

{% endblock %}