{"version":3,"sources":["app/Resources/static-src/app/js/courseset/create/index.js"],"names":["Creator","$element","$courseSetType","find","$currentCourseSetType","init","validator","validate","onkeyup","currentDom","rules","title","required","trim","open_live_course_title","data","messages","Translator","trans","click","removeClass","$","event","currentTarget","addClass","val","form","submit"],"mappings":";;;;;;IAAMA,O;AACJ,mBAAYC,QAAZ,EAAsB;AAAA;;AACpB,SAAKA,QAAL,GAAgBA,QAAhB;AACA,SAAKC,cAAL,GAAsB,KAAKD,QAAL,CAAcE,IAAd,CAAmB,mBAAnB,CAAtB;AACA,SAAKC,qBAAL,GAA6B,KAAKH,QAAL,CAAcE,IAAd,CAAmB,0BAAnB,CAA7B,CAA4E;AAC5E,SAAKE,IAAL;AACD;;;;2BAEM;AAAA;;AACL,UAAIC,YAAY,KAAKL,QAAL,CAAcM,QAAd,CAAuB;AACrCC,iBAAS,KAD4B;AAErCC,oBAAa,uBAFwB;AAGrCC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,kBAAM,IAFD;AAGLC,oCAAwB,kCAAM;AAC5B,qBAAO,MAAKV,qBAAL,CAA2BW,IAA3B,CAAgC,MAAhC,MAA4C,UAAnD;AACD;AALI;AADF,SAH8B;AAYrCC,kBAAU;AACRL,iBAAO;AACLC,sBAAUK,WAAWC,KAAX,CAAiB,OAAjB,CADL;AAELL,kBAAMI,WAAWC,KAAX,CAAiB,OAAjB,CAFD;AAGLJ,oCAAuBG,WAAWC,KAAX,CAAiB,+BAAjB;AAHlB;AADC;AAZ2B,OAAvB,CAAhB;;AAqBA,WAAKhB,cAAL,CAAoBiB,KAApB,CAA0B,iBAAS;AACjC,cAAKjB,cAAL,CAAoBkB,WAApB,CAAgC,QAAhC;AACA,cAAKhB,qBAAL,GAA6BiB,EAAEC,MAAMC,aAAR,EAAuBC,QAAvB,CAAgC,QAAhC,CAA7B;AACAH,UAAE,oBAAF,EAAwBI,GAAxB,CAA4B,MAAKrB,qBAAL,CAA2BW,IAA3B,CAAgC,MAAhC,CAA5B;AACD,OAJD;;AAMAM,QAAE,uBAAF,EAA2BF,KAA3B,CAAiC,iBAAS;AACxC,YAAIb,UAAUoB,IAAV,EAAJ,EAAsB;AACpB,gBAAKzB,QAAL,CAAc0B,MAAd;AACD;AACF,OAJD;AAKD;;;;;;AAGH,IAAI3B,OAAJ,CAAYqB,EAAE,wBAAF,CAAZ","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["class Creator {\n  constructor($element) {\n    this.$element = $element;\n    this.$courseSetType = this.$element.find('.js-courseSetType');\n    this.$currentCourseSetType = this.$element.find('.js-courseSetType.active');;\n    this.init();\n  }\n\n  init() {\n    let validator = this.$element.validate({\n      onkeyup: false,\n      currentDom:  '#courseset-create-btn',\n      rules: {\n        title: {\n          required: true,\n          trim: true,\n          open_live_course_title: () => {\n            return this.$currentCourseSetType.data('type') === 'liveOpen';\n          }\n        }\n      },\n      messages: {\n        title: {\n          required: Translator.trans('请输入标题'),\n          trim: Translator.trans('请输入标题'),\n          open_live_course_title:Translator.trans('直播公开课标题暂不支持<、>、\\\"、&、‘、’、”、“字符'),\n        }\n      }\n    });\n\n    this.$courseSetType.click(event => {\n      this.$courseSetType.removeClass('active');\n      this.$currentCourseSetType = $(event.currentTarget).addClass('active');\n      $('input[name=\"type\"]').val(this.$currentCourseSetType.data('type'));\n    });\n\n    $('#courseset-create-btn').click(event => {\n      if (validator.form()) {\n        this.$element.submit();\n      }\n    });\n  }\n}\n\nnew Creator($('#courseset-create-form'));\n"]}