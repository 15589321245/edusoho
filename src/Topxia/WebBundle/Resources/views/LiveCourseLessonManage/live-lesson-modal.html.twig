{% extends 'TopxiaWebBundle::bootstrap-modal-layout.html.twig' %}

{% set modal_class = 'modal-lg' %}

{% block title %}{% if liveLesson|default(null) %}编辑{% else %}新增{% endif %}直播课时{% endblock %}

{% block body %}
	
  <form class="form-horizontal" id="live-lesson-form"　method="post" 
  
	  {% if liveLesson|default(null) %}
	  	action="{{ path('live_course_manage_lesson_edit',{courseId:liveCourse.id,lessonId:liveLesson.id}) }}" 
	  {% else %} 
	    action="{{ path('live_course_manage_lesson_create',{id:liveCourse.id}) }}"
	  {% endif %}
	  >
	 
	 <div class="form-group">
		<label class="col-md-2 control-label" for="live-title-field">标题</label>
			<div class="col-md-6 controls">
				<input class="form-control" id="live-title-field" type="text" name="title" value="{{ liveLesson.title|default() }}" tabindex="2">
			</div>
		<label class="control-label"><input type="checkbox" style="background: inherit;
    width: 30px;" name="free" value="1" {% if liveLesson.free|default(0) %} checked="checked" {% endif %} > 免费课时</label>
	</div> 	

	<div class="form-group">

		<label class="col-md-2 control-label" >直播开始时间</label>
		 <div class="col-md-4 controls" style="z-index:2000;">
            <input type="text"  name="startTime" class="form-control" value="{{ liveLesson.startTime|default()|data_format }}">
        </div>
	</div>

	<div class="form-group">
        <label class="col-md-2 control-label" >直播时长</label>
         <div class="col-md-3 controls">
            <input type="text"  name="timeLength" id="live-length-field" class="form-control" value="{{ liveLesson.length|default(60) }}" placeholder="时长">
        </div>
		<label class="control-label">分钟</label>

	
        <input type="hidden" id="live_lesson_time_check" data-url="{% if liveLesson|default(null) %}{{path('live_lesson_time_check',{id:liveCourse.id,lessonId:liveLesson.id}) }}{% else %}{{path('live_lesson_time_check',{id:liveCourse.id})}}{% endif %}">
	</div>

	<div class="form-group">

		<label class="col-md-2 control-label" for="live-summary-field">直播说明</label>
			<div class="col-md-8 controls">
				<textarea class="form-control" id="live_lesson-content-field" rows="10" name="summary">{{ liveLesson.summary|default('') }}</textarea>
			</div>

	</div>

  <input type="hidden" name="_csrf_token" value="{{ csrf_token('site') }}">

  </form>

{% endblock %}

{% block footer %}
  <button type="button" class="btn btn-link" data-dismiss="modal">取消</button>
  <button type="submit" class="btn btn-primary" data-toggle="form-submit" data-target="#live-lesson-form">保存</button>

    <script>app.load('live-course-manage/live-lesson-modal')</script>

{% endblock %}