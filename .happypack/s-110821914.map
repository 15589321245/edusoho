{"version":3,"sources":["app/Resources/static-src/common/bootstrap-modal-hack.js"],"names":["$","document","on","e","imgUrl","app","config","loading_img_path","$this","href","attr","url","data","$target","replace","$loadingImg","html","load","body","addClass","length","preventDefault","submit","$modal","delegateTarget","get"],"mappings":";;AAAC,aAAW;AACVA,IAAEC,QAAF,EAAYC,EAAZ,CAAe,sBAAf,EAAuC,uBAAvC,EAAgE,UAASC,CAAT,EAAY;AAC1E,QAAIC,SAASC,IAAIC,MAAJ,CAAWC,gBAAxB;AACA,QAAIC,QAAQR,EAAE,IAAF,CAAZ;AAAA,QACES,OAAOD,MAAME,IAAN,CAAW,MAAX,CADT;AAAA,QAEEC,MAAMX,EAAE,IAAF,EAAQY,IAAR,CAAa,KAAb,CAFR;AAGA,QAAID,GAAJ,EAAS;AACP,UAAIE,UAAUb,EAAEQ,MAAME,IAAN,CAAW,aAAX,KAA8BD,QAAQA,KAAKK,OAAL,CAAa,gBAAb,EAA+B,EAA/B,CAAxC,CAAd;AACA,UAAIC,cAAc,eAAeX,MAAf,GAAwB,8IAA1C;AACAS,cAAQG,IAAR,CAAaD,WAAb;AACAF,cAAQI,IAAR,CAAaN,GAAb;AACD;AACF,GAXD;AAYA;AACAX,IAAEC,QAAF,EAAYC,EAAZ,CAAe,iBAAf,EAAkC,mBAAlC,EAAuD,YAAW;AAChE,QAAIF,EAAE,QAAF,EAAYU,IAAZ,CAAiB,aAAjB,CAAJ,EAAqCV,EAAEC,SAASiB,IAAX,EAAiBC,QAAjB,CAA0B,YAA1B;AACrC,QAAInB,EAAE,0BAAF,EAA8BoB,MAA9B,GAAuC,CAA3C,EAA8CpB,EAAE,0BAAF,EAA8BgB,IAA9B,CAAmC,EAAnC;AAC/C,GAHD;;AAKAhB,IAAE,QAAF,EAAYE,EAAZ,CAAe,OAAf,EAAwB,2BAAxB,EAAqD,UAASC,CAAT,EAAY;AAC/DA,MAAEkB,cAAF;AACArB,MAAEA,EAAE,IAAF,EAAQY,IAAR,CAAa,QAAb,CAAF,EAA0BU,MAA1B;AACD,GAHD;;AAKAtB,IAAE,QAAF,EAAYE,EAAZ,CAAe,wBAAf,EAAyC,eAAzC,EAA0D,UAASC,CAAT,EAAY;AACpEA,MAAEkB,cAAF;AACA,QAAIE,SAASvB,EAAEG,EAAEqB,cAAJ,CAAb;AACAxB,MAAEyB,GAAF,CAAMzB,EAAE,IAAF,EAAQU,IAAR,CAAa,MAAb,CAAN,EAA4B,UAASM,IAAT,EAAe;AACzCO,aAAOP,IAAP,CAAYA,IAAZ;AACD,KAFD;AAGD,GAND;AAOD,CA/BA,GAAD","file":"bootstrap-modal-hack.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["(function() {\n  $(document).on('click.modal.data-api', '[data-toggle=\"modal\"]', function(e) {\n    var imgUrl = app.config.loading_img_path;\n    var $this = $(this),\n      href = $this.attr('href'),\n      url = $(this).data('url');\n    if (url) {\n      var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, '')));\n      var $loadingImg = \"<img src='\" + imgUrl + \"' class='modal-loading' style='z-index:1041;width:60px;height:60px;position:absolute;top:50%;left:50%;margin-left:-30px;margin-top:-30px;'/>\";\n      $target.html($loadingImg);\n      $target.load(url);\n    }\n  });\n  // 同时存在多个modal时，关闭时还有其他modal存在，防止无法上下拖动\n  $(document).on(\"hidden.bs.modal\", \"#attachment-modal\", function() {\n    if ($(\"#modal\").attr('aria-hidden')) $(document.body).addClass(\"modal-open\");\n    if ($('#material-preview-player').length > 0) $('#material-preview-player').html(\"\");\n  });\n\n  $('.modal').on('click', '[data-toggle=form-submit]', function(e) {\n    e.preventDefault();\n    $($(this).data('target')).submit();\n  });\n\n  $(\".modal\").on('click.modal-pagination', '.pagination a', function(e) {\n    e.preventDefault();\n    var $modal = $(e.delegateTarget);\n    $.get($(this).attr('href'), function(html) {\n      $modal.html(html);\n    });\n  });\n}());\n"]}