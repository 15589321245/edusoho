webpackJsonp(["app/js/course-manage/teachers/index"],{b86432f1d9fcfa467a00:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function initItem(dataSourceUi,data,index,props){var _outputValue,obj={itemId:Math.random(),nickname:data[props.nickname],isVisible:1==data[props.isVisible],avatar:data[props.avatar],seq:index,outputValue:(_outputValue={},_defineProperty(_outputValue,props.id,data[props.id]),_defineProperty(_outputValue,props.isVisible,data[props.isVisible]),_outputValue)};dataSourceUi.push(obj)}function updateChecked(dataSourceUi,id){dataSourceUi.map(function(item,index){item.itemId==id&&(dataSourceUi[index].isVisible=!dataSourceUi[index].isVisible,dataSourceUi[index].outputValue.isVisible=dataSourceUi[index].isVisible?1:0)})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__("33a776824bec073629e5"),_react2=_interopRequireDefault(_react),_multiInput=__webpack_require__("92755c6227786723f528"),_multiInput2=_interopRequireDefault(_multiInput),_list=__webpack_require__("5a4e3678171d13072060"),_list2=_interopRequireDefault(_list),PersonaMultiInput=function(_MultiInput){function PersonaMultiInput(props){_classCallCheck(this,PersonaMultiInput);var _this=_possibleConstructorReturn(this,(PersonaMultiInput.__proto__||Object.getPrototypeOf(PersonaMultiInput)).call(this,props));return _this.searchResult=null,console.log({dataSource:_this.props.dataSource}),_this}return _inherits(PersonaMultiInput,_MultiInput),_createClass(PersonaMultiInput,[{key:"componentWillMount",value:function(){var _this2=this;this.state={dataSourceUi:[],list:[],outputSets:[]},this.props.dataSource.map(function(item,index){initItem(_this2.state.dataSourceUi,item,index+1,_this2.props)}),this.state.list=this.getList(),this.getOutputSets()}},{key:"onChecked",value:function(event){var id=event.currentTarget.value;updateChecked(this.state.dataSourceUi,id),console.log({"updateChecked after":this.state.dataSourceUi}),this.getOutputSets(),this.setState({list:this.getList()})}},{key:"addItem",value:function(data){this.searchResult&&(initItem(this.state.dataSourceUi,this.searchResult,this.state.dataSourceUi.length+1,this.props),this.searchResult=null,this.getOutputSets(),this.setState({list:this.getList()}),console.log({"addItem after":this.state.dataSourceUi}))}},{key:"onSearch",value:function(data){this.searchResult=JSON.parse(data)}},{key:"getList",value:function(){var _this3=this;return console.log(this.props.sortable),_react2["default"].createElement(_list2["default"],{listClassName:this.props.listClassName,dataSourceUi:this.state.dataSourceUi,removeItem:function(itemId){return _this3.removeItem(itemId)},sortItem:function(event){return _this3.sortItem(event)},onChecked:function(event){return _this3.onChecked(event)},sortable:this.props.sortable})}}]),PersonaMultiInput}(_multiInput2["default"]);exports["default"]=PersonaMultiInput,PersonaMultiInput.propTypes=_extends({},_multiInput2["default"].propTypes,{id:_react2["default"].PropTypes.string,nickname:_react2["default"].PropTypes.string,avatar:_react2["default"].PropTypes.string,isVisible:_react2["default"].PropTypes.string}),PersonaMultiInput.defaultProps=_extends({},_multiInput2["default"].defaultProps,{id:"id",nickname:"nickname",avatar:"avatar",isVisible:"isVisible"})},"5a4e3678171d13072060":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__("33a776824bec073629e5"),_react2=_interopRequireDefault(_react),_sortable=__webpack_require__("8f840897d9471c8c1fbd"),_sortable2=_interopRequireDefault(_sortable),List=function(_Component){function List(props){_classCallCheck(this,List);var _this=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this,props));return _this.listId=Math.random().toString().replace(".",""),_this}return _inherits(List,_Component),_createClass(List,[{key:"componentDidMount",value:function(){var _this2=this;this.props.sortable&&((0,_sortable2["default"])({element:"#"+this.listId,itemSelector:"li",ajax:!1},function(data){_this2.props.sortItem(data)}),console.log($("#"+this.listId)))}},{key:"render",value:function(){var _this3=this,dataSourceUi=this.props.dataSourceUi,name="";return dataSourceUi.length>0&&(name="list-group"),_react2["default"].createElement("ul",{id:this.listId,className:"multi-list sortable-list "+name+" "+this.props.listClassName},dataSourceUi.map(function(item,i){return _react2["default"].createElement("li",{className:"list-group-item",id:item.itemId,key:item.itemId,"data-seq":item.seq},_this3.props.sortable&&_react2["default"].createElement("i",{className:"es-icon es-icon-yidong mrl color-gray"}),_react2["default"].createElement("img",{src:item.avatar}),_react2["default"].createElement("span",{className:"label-name text-overflow"},item.nickname),_react2["default"].createElement("label",null,_react2["default"].createElement("input",{type:"checkbox",checked:item.isVisible,onChange:function(event){return _this3.props.onChecked(event)},value:item.itemId}),"显示"),_react2["default"].createElement("a",{className:"btn-close btn-close-lg link-gray",onClick:function(event){return _this3.props.removeItem(event)},id:item.itemId},_react2["default"].createElement("i",{className:"es-icon es-icon-close01 text-sm"})))}))}}]),List}(_react.Component);exports["default"]=List},0:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _reactDom=__webpack_require__("5fdcf1aea784583ca083"),_reactDom2=_interopRequireDefault(_reactDom),_react=__webpack_require__("33a776824bec073629e5"),_react2=_interopRequireDefault(_react),_personaMultiInput=__webpack_require__("b86432f1d9fcfa467a00"),_personaMultiInput2=_interopRequireDefault(_personaMultiInput),_sortable=__webpack_require__("8f840897d9471c8c1fbd");_interopRequireDefault(_sortable);_reactDom2["default"].render(_react2["default"].createElement(_personaMultiInput2["default"],{addable:!0,dataSource:$("#course-teachers").data("init-value"),outputDataElement:"teachers",searchable:{enable:!0,url:$("#course-teachers").data("query-url")+"?q="}}),document.getElementById("course-teachers"))}});