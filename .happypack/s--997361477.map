{"version":3,"sources":["app/Resources/static-src/app/js/classroom/set-picture-crop/index.js"],"names":["define","require","exports","module","Notify","ImageCrop","run","imageCrop","element","group","cropedWidth","cropedHeight","on","response","url","$","data","post","images","document","location","href","click","e","stopPropagation","crop","imgs","large","middle","small","history","go"],"mappings":";;AAAAA,OAAO,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;AACtCF,YAAQ,kBAAR;AACAA,YAAQ,cAAR;AACA,QAAIG,SAASH,QAAQ,yBAAR,CAAb;AACA,QAAII,YAAYJ,QAAQ,mBAAR,CAAhB;;AAEAC,YAAQI,GAAR,GAAc,YAAW;;AAErB,YAAIC,YAAY,IAAIF,SAAJ,CAAc;AAC1BG,qBAAS,yBADiB;AAE1BC,mBAAO,QAFmB;AAG1BC,yBAAa,GAHa;AAI1BC,0BAAc;AAJY,SAAd,CAAhB;;AAOAJ,kBAAUK,EAAV,CAAa,WAAb,EAA0B,UAASC,QAAT,EAAkB;AACxC,gBAAIC,MAAMC,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,KAA9B,CAAV;AACAD,cAAEE,IAAF,CAAOH,GAAP,EAAY,EAACI,QAAQL,QAAT,EAAZ,EAAgC,YAAU;AACtCM,yBAASC,QAAT,CAAkBC,IAAlB,GAAuBN,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,SAA9B,CAAvB;AACH,aAFD;AAGH,SALD;;AAOAD,UAAE,qBAAF,EAAyBO,KAAzB,CAA+B,UAASC,CAAT,EAAW;AACtCA,cAAEC,eAAF;;AAEAjB,sBAAUkB,IAAV,CAAe;AACXC,sBAAM;AACFC,2BAAO,CAAC,GAAD,EAAM,GAAN,CADL;AAEFC,4BAAQ,CAAC,GAAD,EAAM,GAAN,CAFN;AAGFC,2BAAO,CAAC,GAAD,EAAM,GAAN;AAHL;AADK,aAAf;AAQH,SAXD;;AAaAd,UAAE,UAAF,EAAcO,KAAd,CAAoB,YAAU;AAC1BQ,oBAAQC,EAAR,CAAW,CAAC,CAAZ;AACH,SAFD;AAIH,KAjCD;AAmCH,CAzCD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["define(function(require, exports, module) {\n    require(\"jquery.jcrop-css\");\n    require(\"jquery.jcrop\");\n    var Notify = require('common/bootstrap-notify');\n    var ImageCrop = require('edusoho.imagecrop');\n\n    exports.run = function() {\n\n        var imageCrop = new ImageCrop({\n            element: \"#classroom-picture-crop\",\n            group: \"course\",\n            cropedWidth: 525,\n            cropedHeight: 350\n        });\n\n        imageCrop.on(\"afterCrop\", function(response){\n            var url = $(\"#upload-picture-btn\").data(\"url\");\n            $.post(url, {images: response}, function(){\n                document.location.href=$(\"#upload-picture-btn\").data(\"gotoUrl\");\n            });\n        });\n\n        $(\"#upload-picture-btn\").click(function(e){\n            e.stopPropagation();\n\n            imageCrop.crop({\n                imgs: {\n                    large: [525, 350],\n                    middle: [345, 230],\n                    small: [213, 142],\n                }\n            });\n\n        })\n\n        $('.go-back').click(function(){\n            history.go(-1);\n        });\n\n    };\n  \n});"]}