{"version":3,"sources":["app/Resources/static-src/app/js/courseset-manage/detail/index.js"],"names":["detail","init","renderMultiGroupComponent","initCkeditor","submitEvent","CKEDITOR","replace","allowedContent","toolbar","filebrowserImageUploadUrl","$","data","elementId","name","datas","render","document","getElementById","click","evt","publishAddMessage","currentTarget","button","submit","publish","channel","topic"],"mappings":";;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEMA,M;AACJ,oBAAc;AAAA;;AACZ,SAAKC,IAAL;AACD;;;;2BAEM;AACL,WAAKC,yBAAL,CAA+B,cAA/B,EAA+C,OAA/C;AACA,WAAKA,yBAAL,CAA+B,mBAA/B,EAAoD,WAApD;AACA,WAAKC,YAAL;AACA,WAAKC,WAAL;AACD;;;mCAEc;AACbC,eAASC,OAAT,CAAiB,SAAjB,EAA4B;AAC1BC,wBAAgB,IADU;AAE1BC,iBAAS,QAFiB;AAG1BC,mCAA2BC,EAAE,0BAAF,EAA8BC,IAA9B,CAAmC,gBAAnC;AAHD,OAA5B;AAKD;;;8CAEyBC,S,EAAWC,I,EAAM;AACzC,UAAIC,QAAQJ,EAAE,MAAME,SAAR,EAAmBD,IAAnB,CAAwB,YAAxB,CAAZ;AACA,yBAASI,MAAT,CAAgB;AACd,mBAAW,IADG;AAEd,kBAAU,IAFI;AAGd,oBAAYD,KAHE;AAId,mBAAWD,OAAO,IAJJ;AAKd,2BAAmBA,IALL,GAAhB,EAMEG,SAASC,cAAT,CAAwBL,SAAxB,CANF;AAQD;;;kCAEa;AACZF,QAAE,mBAAF,EAAuBQ,KAAvB,CAA6B,UAAUC,GAAV,EAAe;AAC1CC;AACAV,UAAES,IAAIE,aAAN,EAAqBC,MAArB,CAA4B,SAA5B;AACAZ,UAAE,wBAAF,EAA4Ba,MAA5B;AACD,OAJD;AAKD;;;;;;AAaH,SAASH,iBAAT,GAA6B;AAC3B,mBAAOI,OAAP,CAAe;AACbC,aAAS,sBADI;AAEbC,WAAO;AAFM,GAAf;AAID","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import ReactDOM from 'react-dom';\nimport React from 'react';\nimport MultiInput from 'app/common/component/multi-input';\nimport postal from 'postal';\n\nclass detail {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.renderMultiGroupComponent('course-goals', 'goals');\n    this.renderMultiGroupComponent('intended-students', 'audiences');\n    this.initCkeditor();\n    this.submitEvent();\n  }\n\n  initCkeditor() {\n    CKEDITOR.replace('summary', {\n      allowedContent: true,\n      toolbar: 'Detail',\n      filebrowserImageUploadUrl: $('#courseset-summary-field').data('imageUploadUrl')\n    });\n  }\n\n  renderMultiGroupComponent(elementId, name) {\n    let datas = $('#' + elementId).data('init-value');\n    ReactDOM.render(<MultiInput\n      blurIsAdd={true}\n      sortable={true}\n      dataSource={datas}\n      inputName={name + \"[]\"}\n      outputDataElement={name} />,\n      document.getElementById(elementId)\n    );\n  }\n\n  submitEvent() {\n    $('#courseset-submit').click(function (evt) {\n      publishAddMessage();\n      $(evt.currentTarget).button('loading');\n      $('#courseset-detail-form').submit();\n    });\n  }\n\n}\n\n\n\n\n\n\n\n\n\n\nfunction publishAddMessage() {\n  postal.publish({\n    channel: \"courseInfoMultiInput\",\n    topic: \"addMultiInput\",\n  });\n}"]}