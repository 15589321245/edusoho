<tr>
  <td>
    <a href="{% if status == 'reviewing' %}{{ path('course_manage_testpaper_check', {id:paperResult.courseId,resultId:paperResult.id}) }}{% elseif status == 'finished' %}{{ path('testpaper_result_show', {resultId:paperResult.id,source:source|default('course'),targetId:targetId|default(0)}) }}{% endif %}" target="_blank">{{ testpaper.name|plain_text(60) }}</a>
    <br>
    <small class="text-muted">
      {% if course|default(null) %}
        {{ '来自课程《%title%》'|trans({'%title%':courseSet.title|default('')}) }} •
        {{ '计划《%title%》'|trans({'%title%':course.title|default('')}) }}
      {% endif %}
    </small>
    <small class="text-muted mhs">•</small>
    <small class="text-muted">{{'共%score%分 / %itemCount%道题'|trans({'%score%':testpaper.score,'%itemCount%':testpaper.itemCount})}}</small>
  </td>
  <td width="20%" class="vertical-middle">
    {{ web_macro.user_link(student) }} <br>
    <small class="text-muted">{{ paperResult.endTime|date("Y-n-d H:i") }} {{'交卷'|trans}}</small>
  </td>
  <td width="30%" class="vertical-middle">
    {% if status == 'reviewing' and (not isTeacher is defined or isTeacher) %}
      <a href="{{ path('course_manage_testpaper_check', {id:paperResult.courseId,resultId:paperResult.id,source:source|default('course'),targetId:targetId|default(0)}) }}" target="_blank">{{'批阅'|trans}}</a>
    {% endif %}

    {% if status == 'finished' %}
      <div>
        <div class="text-warning">{{'总分'|trans}} <strong>{{ paperResult.score }}</strong> {{'分'|trans}}</div>
        <div class="text-muted"><small>{{'客观题%objectiveScore%分 / 主观题%subjectiveScore%分'|trans({'%objectiveScore%':paperResult.objectiveScore,'%subjectiveScore%':paperResult.subjectiveScore})}}</small></div>
        <div class="text-success"><small>{{ teacher.nickname|default('系统'|trans) }} {{'批于'|trans}}{{ paperResult.checkedTime|date('Y年n月d日 H:i'|trans) }}</small></div>
      </div>
    {% endif %}
  </td>
</tr>