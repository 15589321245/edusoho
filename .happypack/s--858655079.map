{"version":3,"sources":["app/Resources/static-src/app/js/courseset/create/index.js"],"names":["Creator","props","$element","$courseSetType","find","$currentCourseSetType","init","validator","validate","onkeyup","rules","title","required","trim","open_live_course_title","data","messages","click","removeClass","$","event","currentTarget","addClass","val","form","button","submit"],"mappings":";;;;;;IAAMA,O;AACJ,mBAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,QAAL,GAAgBD,KAAhB;AACA,SAAKE,cAAL,GAAsB,KAAKD,QAAL,CAAcE,IAAd,CAAmB,mBAAnB,CAAtB;AACA,SAAKC,qBAAL,GAA6B,KAAKH,QAAL,CAAcE,IAAd,CAAmB,0BAAnB,CAA7B,CAA4E;AAC5E,SAAKE,IAAL;AACD;;;;2BAEM;AAAA;;AACL,UAAIC,YAAY,KAAKL,QAAL,CAAcM,QAAd,CAAuB;AACrCC,iBAAS,KAD4B;AAErCC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,kBAAM,IAFD;AAGLC,oCAAwB,kCAAM;AAC5B,qBAAO,MAAKT,qBAAL,CAA2BU,IAA3B,CAAgC,MAAhC,MAA4C,UAAnD;AACD;AALI;AADF,SAF8B;AAWrCC,kBAAU;;AAERL,iBAAO;AACLG,oCAAuB;AADlB;AAFC;AAX2B,OAAvB,CAAhB;;AAoBA,WAAKX,cAAL,CAAoBc,KAApB,CAA0B,iBAAS;AACjC,cAAKd,cAAL,CAAoBe,WAApB,CAAgC,QAAhC;AACA,cAAKb,qBAAL,GAA6Bc,EAAEC,MAAMC,aAAR,CAA7B;AACA,cAAKhB,qBAAL,CAA2BiB,QAA3B,CAAoC,QAApC;AACAH,UAAE,oBAAF,EAAwBI,GAAxB,CAA4B,MAAKlB,qBAAL,CAA2BU,IAA3B,CAAgC,MAAhC,CAA5B;AACD,OALD;;AAOAI,QAAE,uBAAF,EAA2BF,KAA3B,CAAiC,iBAAS;AACxC,YAAIV,UAAUiB,IAAV,EAAJ,EAAsB;AACpBL,YAAEC,MAAMC,aAAR,EAAuBI,MAAvB,CAA8B,SAA9B;AACA,gBAAKvB,QAAL,CAAcwB,MAAd;AACD;AACF,OALD;AAMD;;;;;;AAGH,IAAI1B,OAAJ,CAAYmB,EAAE,wBAAF,CAAZ","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["class Creator {\n  constructor(props) {\n    this.$element = props;\n    this.$courseSetType = this.$element.find('.js-courseSetType');\n    this.$currentCourseSetType = this.$element.find('.js-courseSetType.active');;\n    this.init();\n  }\n\n  init() {\n    let validator = this.$element.validate({\n      onkeyup: false,\n      rules: {\n        title: {\n          required: true,\n          trim: true,\n          open_live_course_title: () => {\n            return this.$currentCourseSetType.data('type') === 'liveOpen';\n          }\n        }\n      },\n      messages: {\n\n        title: {\n          open_live_course_title:\"请输入有效的课程标题（直播公开课标题暂不支持<、>、\\\"、&、‘、’、”、“字符）\"\n        }\n      }\n    });\n\n\n    this.$courseSetType.click(event => {\n      this.$courseSetType.removeClass('active');\n      this.$currentCourseSetType = $(event.currentTarget);\n      this.$currentCourseSetType.addClass('active');\n      $('input[name=\"type\"]').val(this.$currentCourseSetType.data('type'));\n    });\n\n    $('#courseset-create-btn').click(event => {\n      if (validator.form()) {\n        $(event.currentTarget).button('loading');\n        this.$element.submit();\n      }\n    });\n  }\n}\n\nnew Creator($('#courseset-create-form'));\n"]}