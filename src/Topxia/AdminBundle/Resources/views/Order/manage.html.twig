{% extends 'TopxiaAdminBundle::layout.html.twig' %}

{#
    {% set script_controller = 'trade/index' %}
#}

{% set menu = 'admin_' ~ type ~ '_order' %}


{% block main %}

  <form id="user-search-form" class="form-inline well well-sm" action="" method="get" novalidate>
    <div class="form-group">
      <select class="form-control" name="status">
        {{ select_options(dict('orderStatus'), request.get('status'), '订单状态'|trans) }}
      </select>
    </div>

    <div class="form-group">
      <select class="form-control" name="payment">
        {{ select_options(dict('payment'), request.get('payment'), '支付方式'|trans) }}
      </select>
    </div>

    <div class="form-group" style="display:none;">
      <input class="form-control" type="text" name="paidTimeRange", placeholder="{{'付款时间段'|trans}}">
    </div>

    <span class="divider"></span>

    <div class="form-group">
      <select class="form-control" name="keywordType">
        {% set options = {sn: '订单号'|trans, buyer:'购买者用户名'|trans, targetId: dict_text('targetName', type) ~ '编号'|trans, title: dict_text('targetName', type) ~ '名'|trans} %}
        {{ select_options(options, request.get('keywordType')) }}
      </select>
    </div>

    <div class="form-group">
      <input class="form-control" type="text" name="keyword" value="{{ request.get('keyword') }}" placeholder="{{'关键词'|trans}}">
    </div>

    <button class="btn btn-primary">{{'搜索'|trans}}</button>

  </form>
      
  <table class="table table-striped table-hover" id="order-table">
    {% include 'TopxiaWebBundle:Order:order-table.html.twig' with {mode:'admin'} %}
  </table>

  <div class="paginator">
    {{ web_macro.paginator(paginator) }} 
  </div>


{% endblock %}
