{"version":3,"sources":["plugins/GracefulThemePlugin/theme/static-src/js/default/index.js"],"names":["echo","init","$","length","swiper","pagination","paginationClickable","autoplay","autoplayDisableOnInteraction","loop","calculateHeight","roundLengths","onInit","removeClass","window","parent","document","find","load","main","thisheight","height","foldMenu","b_width","width","$menu","menu_width","$item","sum","num","appendTo","each","index","filter","css","resize","click","toggleClass","stop","toggle","e","$haskey","val","preventDefault","on","hasClass","carousel","interval","scroll","scrollTop","show","hide"],"mappings":";;AAAAA,KAAKC,IAAL;;AAEA,IAAIC,EAAE,0BAAF,EAA8BC,MAA9B,GAAuC,CAA3C,EAA8C;AAC5CD,IAAE,6BAAF,EAAiCE,MAAjC,CAAwC;AACtCC,gBAAY,eAD0B;AAEtCC,yBAAqB,IAFiB;AAGtCC,cAAU,IAH4B;AAItCC,kCAA8B,KAJQ;AAKtCC,UAAM,IALgC;AAMtCC,qBAAiB,IANqB;AAOtCC,kBAAc,IAPwB;AAQtCC,YAAQ,gBAASR,MAAT,EAAiB;AACtBF,QAAE,eAAF,EAAmBW,WAAnB,CAA+B,eAA/B;AACF;AAVqC,GAAxC;AAYD;;AAEDX,EAAEY,OAAOC,MAAP,CAAcC,QAAhB,EAA0BC,IAA1B,CAA+B,aAA/B,EAA8CC,IAA9C,CAAmD,YAAY;AAC7D,MAAIC,OAAOjB,EAAEY,OAAOC,MAAP,CAAcC,QAAhB,EAA0BC,IAA1B,CAA+B,aAA/B,CAAX;AACA,MAAIG,aAAalB,EAAEc,QAAF,EAAYK,MAAZ,EAAjB;AACAF,OAAKE,MAAL,CAAYD,UAAZ;AACD,CAJD;;AAMA,SAASE,QAAT,GAAoB;;AAElB,MAAIC,UAAUrB,EAAEY,MAAF,EAAUU,KAAV,EAAd;AAAA,MACIC,QAAQvB,EAAE,gBAAF,CADZ;AAAA,MAEIwB,aAAaD,MAAMD,KAAN,EAFjB;AAAA,MAGIG,QAAQzB,EAAE,qBAAF,CAHZ;AAAA,MAII0B,MAAM,CAJV;AAAA,MAKIC,MAAM,CALV;;AAOA,MAAK,CAAC3B,EAAE,YAAF,EAAgBC,MAAtB,EAA+B;AAC7B,QAAI0B,MAAM,CAAV,EAAa;AACT3B,QAAE,+FAAF,EAAmG4B,QAAnG,CAA4GL,KAA5G;AACH;AACF,GAJD,MAIO;AACLvB,MAAE,iBAAF,EAAqB4B,QAArB,CAA8B5B,EAAE,gBAAF,CAA9B;AACD;;AAGDyB,QAAMI,IAAN,CAAW,UAASC,KAAT,EAAgB;;AAEzBJ,UAAMA,MAAM1B,EAAE,IAAF,EAAQsB,KAAR,EAAZ;;AAEA,QAAII,MAAMF,aAAY,EAAtB,EAA0B;AACtBG,YAAMG,KAAN;AACA,aAAO,KAAP;AACH;AACF,GARD;;AAUA,MAAIH,MAAM,CAAV,EAAa;;AAEX,QAAK,CAAC3B,EAAE,YAAF,EAAgBC,MAAtB,EAA+B;AAC3BD,QAAE,+FAAF,EAAmG4B,QAAnG,CAA4GL,KAA5G;AACH,KAFD,MAEO;AACHvB,QAAE,iBAAF,EAAqB4B,QAArB,CAA8B5B,EAAE,gBAAF,CAA9B;AACH;;AAEDyB,UAAMM,MAAN,CAAa,UAASD,KAAT,EAAgB;AACzB,aAAOA,SAASH,GAAhB;AACH,KAFD,EAEGC,QAFH,CAEY5B,EAAE,YAAF,CAFZ;AAID;;AAEDA,IAAE,WAAF,EAAegC,GAAf,CAAmB,UAAnB,EAA+B,QAA/B;AAED;;AAEDZ;;AAEApB,EAAEY,MAAF,EAAUqB,MAAV,CAAiB,YAAW;AAC1Bb;AACD,CAFD;;AAIApB,EAAE,WAAF,EAAekC,KAAf,CAAqB,YAAW;AAC9BlC,IAAE,WAAF,EAAegC,GAAf,CAAmB,UAAnB,EAA+B,SAA/B;AACAhC,IAAE,IAAF,EAAQmC,WAAR,CAAoB,gBAApB;AACAnC,IAAE,YAAF,EAAgBoC,IAAhB,GAAuBC,MAAvB;AACD,CAJD;;AAMArC,EAAE,qBAAF,EAAyBkC,KAAzB,CAA+B,YAAW;AACxClC,IAAE,WAAF,EAAegC,GAAf,CAAmB,UAAnB,EAA+B,SAA/B;AACD,CAFD;;AAIA;AACAhC,EAAE,mBAAF,EAAuBkC,KAAvB,CAA6B,UAASI,CAAT,EAAY;AACvCtC,IAAE,MAAF,EAAUW,WAAV,CAAsB,WAAtB,EAAmCwB,WAAnC,CAA+C,aAA/C;AACAnC,IAAE,kBAAF,EAAsBW,WAAtB,CAAkC,IAAlC;AACA,MAAI4B,UAAUvC,EAAE,wBAAF,EAA4BwC,GAA5B,EAAd;AACA,MAAID,WAAW,EAAf,EAAmB;AACfD,MAAEG,cAAF;AACH;AACF,CAPD;;AASAzC,EAAE,gBAAF,EAAoBkC,KAApB,CAA0B,YAAW;AACnClC,IAAE,MAAF,EAAUW,WAAV,CAAsB,uBAAtB;AACD,CAFD;;AAIA;AACAX,EAAE,WAAF,EAAekC,KAAf,CAAqB,YAAW;AAC9BlC,IAAE,MAAF,EAAUW,WAAV,CAAsB,aAAtB,EAAqCwB,WAArC,CAAiD,WAAjD;AACAnC,IAAE,kBAAF,EAAsBW,WAAtB,CAAkC,IAAlC;AACD,CAHD;;AAMAX,EAAE,oBAAF,EAAwB0C,EAAxB,CAA2B,OAA3B,EAAoC,UAASJ,CAAT,EAAY;AAC9C,MAAKtC,EAAE,MAAF,EAAU2C,QAAV,CAAmB,WAAnB,CAAL,EAAuC;AACrC3C,MAAE,MAAF,EAAUW,WAAV,CAAsB,WAAtB;AACA2B,MAAEG,cAAF;AACD;AACF,CALD;;AAOAzC,EAAE,WAAF,EAAe4C,QAAf,CAAwB;AACtBC,YAAU;AADY,CAAxB;;AAIA;AACA7C,EAAEY,MAAF,EAAUkC,MAAV,CAAiB,YAAU;AACzB,MAAI9C,EAAEY,MAAF,EAAUmC,SAAV,KAAwB,GAA5B,EAAiC;AAC/B/C,MAAE,SAAF,EAAagD,IAAb;AACD,GAFD,MAEO;AACLhD,MAAE,SAAF,EAAaiD,IAAb;AACD;AACF,CAND;;AAQAjD,EAAE,SAAF,EAAa0C,EAAb,CAAgB,OAAhB,EAAyB,YAAU;AACjC1C,IAAEY,MAAF,EAAUmC,SAAV,CAAoB,CAApB;AACD,CAFD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["echo.init();\n\nif ($(\".es-poster .swiper-slide\").length > 1) {\n  $('.es-poster.swiper-container').swiper({\n    pagination: '.swiper-pager',\n    paginationClickable: true,\n    autoplay: 5000,\n    autoplayDisableOnInteraction: false,\n    loop: true,\n    calculateHeight: true,\n    roundLengths: true,\n    onInit: function(swiper) {\n       $(\".swiper-slide\").removeClass('swiper-hidden'); \n    }\n  })\n}\n\n$(window.parent.document).find(\"#iframepage\").load(function () {\n  let main = $(window.parent.document).find(\"#iframepage\");\n  let thisheight = $(document).height();\n  main.height(thisheight);\n});\n\nfunction foldMenu() {\n\n  var b_width = $(window).width(),\n      $menu = $('.menu-sec .nav'),\n      menu_width = $menu.width(),\n      $item = $('.menu-sec .nav > li'),\n      sum = 0,\n      num = 0;\n   \n  if ( !$('.menu-more').length ) {\n    if (num > 0) {\n        $('<ul class=\"menu-more\"></ul><span class=\"btn-plus iconfont icon-arrow-down pull-right\"></span>').appendTo($menu);\n    }\n  } else {\n    $('.menu-more > li').appendTo($('.menu-sec .nav'));\n  }\n\n\n  $item.each(function(index) {\n\n    sum = sum + $(this).width();\n\n    if (sum > menu_width -75) {\n        num = index;\n        return false;\n    }\n  })\n\n  if (num > 0) {\n\n    if ( !$('.menu-more').length ) {\n        $('<ul class=\"menu-more\"></ul><span class=\"btn-plus iconfont icon-arrow-down pull-right\"></span>').appendTo($menu);\n    } else {\n        $('.menu-more > li').appendTo($('.menu-sec .nav'));\n    }\n\n    $item.filter(function(index) {\n        return index >= num;\n    }).appendTo($('.menu-more'));\n\n  }\n\n  $('.menu-sec').css('overflow', 'hidden');\n\n}\n\nfoldMenu();\n\n$(window).resize(function() {\n  foldMenu();\n})\n\n$('.btn-plus').click(function() {\n  $('.menu-sec').css('overflow', 'visible');\n  $(this).toggleClass('btn-plus-focus');\n  $('.menu-more').stop().toggle();\n});\n\n$('.menu-sec .dropdown').click(function() {\n  $('.menu-sec').css('overflow', 'visible');\n})\n\n//search\n$('.navbar-form .btn').click(function(e) {\n  $('body').removeClass('menu-open').toggleClass('search-open');\n  $('.navbar-collapse').removeClass('in');\n  let $haskey = $('.one-nav .form-control').val();\n  if ($haskey == '') {\n      e.preventDefault();\n  }\n})\n\n$('.navbar-toggle').click(function() {\n  $('body').removeClass('menu-open search-open');\n})\n\n//折叠menu\n$('.menu-btn').click(function() {\n  $('body').removeClass('search-open').toggleClass('menu-open');\n  $('.navbar-collapse').removeClass('in');\n})\n\n\n$('#content-container').on('click', function(e) {\n  if ( $('body').hasClass('menu-open') ) {\n    $('body').removeClass('menu-open');\n    e.preventDefault();\n  }\n})      \n\n$('.carousel').carousel({\n  interval: 0\n})\n\n//gotop\n$(window).scroll(function(){\n  if ($(window).scrollTop() > 300) {\n    $('.go-top').show();\n  } else {\n    $('.go-top').hide();\n  }\n});\n\n$('.go-top').on('click', function(){\n  $(window).scrollTop(0);\n});"]}