{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/course-manage/create/index.js","webpack:///./app/Resources/static-src/app/js/courseset-manage/intro.js?a3f1*"],"names":["Creator","validator","init","$","popover","html","initValidator","initExpiryMode","checkBoxChange","$form","validate","groups","date","rules","title","required","trim","messages","Translator","trans","click","evt","form","isInitIntro","currentTarget","button","submit","initDatePicker","listLength","find","length","intro","isSetCourseListCookies","on","event","val","removeClass","addClass","prop","$id","$picker","datetimepicker","format","language","document","documentElement","lang","minView","autoclose","endDate","Date","now","$deadline","$expiryDays","$expiryStartDate","$expiryEndDate","expiryMode","elementRemoveRules","$deadlineType","elementAddRules","getDeadlineEndDateRules","getExpiryDaysRules","getExpiryStartDateRules","getExpiryEndDateRules","after_date","after_now_date","before_date","positive_integer","max_year","$element","options","COURSE_BASE_INTRO","COURSE_TASK_INTRO","COURSE_TASK_DETAIL_INTRO","COURSE_LIST_INTRO","COURSE_LIST_INTRO_COOKIE","Intro","customClass","exit","isTaskCreatePage","initTaskCreatePageIntro","isCourseListPage","initNotTaskCreatePageIntro","initCourseListPageIntro","attr","steps","doneLabel","introJs","console","log","setOptions","skipLabel","nextLabel","prevLabel","showBullets","tooltipPosition","showStepNumbers","exitOnEsc","exitOnOverlayClick","tooltipClass","start","onexit","onchange","_currentStep","_introItems","before","remove","trigger","store","get","set","introStart","initAllSteps","initTaskSteps","element","initTaskDetailSteps","initNotTaskPageSteps","Promise","resolve","reject","setTimeout","$courseMenu","slideUp","then","initCourseListIntro","initCourseListSteps","arry","isInitTaskDetailIntro","push","position","introBtnClassName"],"mappings":"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","file":"app/js/course-manage/create/index.js","sourcesContent":["import Intro from 'app/js/courseset-manage/intro';\n\nclass Creator {\n  constructor() {\n    this.validator = null;\n    this.init();\n    // this.isInitIntro();\n  }\n\n  init() {\n    $('[data-toggle=\"popover\"]').popover({\n      html: true,\n    });\n    this.initValidator();\n    this.initExpiryMode();\n    this.checkBoxChange();\n  }\n\n  initValidator() {\n    let $form = $(\"#course-create-form\");\n    this.validator = $form.validate({\n      groups: {\n        date: 'expiryStartDate expiryEndDate'\n      },\n      rules: {\n        title: {\n          required: true,\n          trim: true\n        }\n      },\n      messages: {\n        title: Translator.trans('course.manage.title_required_error_hint'),\n      }\n    });\n\n    $('#course-submit').click((evt) => {\n      if (this.validator.form()) {\n        this.isInitIntro();\n        $(evt.currentTarget).button('loading');\n        $form.submit();\n      }\n    });\n    this.initDatePicker('#expiryStartDate');\n    this.initDatePicker('#expiryEndDate');\n    this.initDatePicker('#deadline');\n  }\n\n  isInitIntro() {\n    let listLength = $('#courses-list-table').find('tbody tr').length;\n    if(listLength == 1) {\n      let intro = new Intro();\n      intro.isSetCourseListCookies();\n    }\n  }\n\n  checkBoxChange() {\n    $('input[name=\"deadlineType\"]').on('change', (event) => {\n      if ($('input[name=\"deadlineType\"]:checked').val() == 'end_date') {\n        $('#deadlineType-date').removeClass('hidden');\n        $('#deadlineType-days').addClass('hidden');\n      } else {\n        $('#deadlineType-date').addClass('hidden');\n        $('#deadlineType-days').removeClass('hidden');\n      }\n      this.initExpiryMode();\n    });\n\n    $('input[name=\"expiryMode\"]').on('change', (event) => {\n      if ($('input[name=\"expiryMode\"]:checked').val() == 'date') {\n        $('#expiry-days').removeClass('hidden').addClass('hidden');\n        $('#expiry-date').removeClass('hidden');\n      } else if ($('input[name=\"expiryMode\"]:checked').val() == 'days') {\n        $('#expiry-date').removeClass('hidden').addClass('hidden');\n        $('#expiry-days').removeClass('hidden');\n        $('input[name=\"deadlineType\"][value=\"days\"]').prop('checked', true);\n      } else {\n        $('#expiry-date').removeClass('hidden').addClass('hidden');\n        $('#expiry-days').removeClass('hidden').addClass('hidden');\n      }\n      this.initExpiryMode();\n    });\n\n    $('input[name=\"learnMode\"]').on('change', (event) => {\n      if ($('input[name=\"learnMode\"]:checked').val() == 'freeMode') {\n        $('#learnLockModeHelp').removeClass('hidden').addClass('hidden');\n        $('#learnFreeModeHelp').removeClass('hidden');\n      } else {\n        $('#learnFreeModeHelp').removeClass('hidden').addClass('hidden');\n        $('#learnLockModeHelp').removeClass('hidden');\n      }\n    });\n  }\n\n  initDatePicker($id) {\n    let $picker = $($id);\n    $picker.datetimepicker({\n      format: 'yyyy-mm-dd',\n      language: document.documentElement.lang,\n      minView: 2, //month\n      autoclose: true,\n      endDate: new Date(Date.now() + 86400 * 365 * 10 * 1000)\n    }).on('hide', () => {\n      this.validator.form();\n    })\n    $picker.datetimepicker('setStartDate', new Date());\n  }\n\n  initExpiryMode() {\n    let $deadline = $('[name=\"deadline\"]');\n    let $expiryDays = $('[name=\"expiryDays\"]');\n    let $expiryStartDate = $('[name=\"expiryStartDate\"]');\n    let $expiryEndDate = $('[name=\"expiryEndDate\"]');\n    let expiryMode = $('[name=\"expiryMode\"]:checked').val();\n    \n    this.elementRemoveRules($deadline);\n    this.elementRemoveRules($expiryDays);\n    this.elementRemoveRules($expiryStartDate);\n    this.elementRemoveRules($expiryEndDate);\n\n    switch (expiryMode) {\n      case 'days':\n        let $deadlineType = $('[name=\"deadlineType\"]:checked');\n        if ($deadlineType.val() === 'end_date') {\n          this.elementAddRules($deadline, this.getDeadlineEndDateRules());\n          this.validator.form();\n          return;\n        }\n        this.elementAddRules($expiryDays, this.getExpiryDaysRules());\n        this.validator.form();\n        break;\n      case 'date':\n        this.elementAddRules($expiryStartDate, this.getExpiryStartDateRules());\n        this.elementAddRules($expiryEndDate, this.getExpiryEndDateRules());\n        this.validator.form();\n        break;\n      default:\n        break;\n    }\n  }\n\n  getExpiryEndDateRules() {\n    return {\n      required: true,\n      date: true,\n      after_date: '#expiryStartDate',\n      messages: {\n        required:Translator.trans('course.manage.expiry_end_date_error_hint')\n      }\n    }\n  }\n\n  getExpiryStartDateRules() {\n    return {\n      required: true,\n      date: true,\n      after_now_date: true,\n      before_date: '#expiryEndDate',\n      messages: {\n        required: Translator.trans('course.manage.expiry_start_date_error_hint')\n      }\n    }\n  }\n\n  getExpiryDaysRules() {\n    return {\n      required: true,\n      positive_integer: true,\n      max_year: true,\n      messages: {\n        required: Translator.trans('course.manage.expiry_days_error_hint')\n      }\n    }\n  }\n\n  getDeadlineEndDateRules() {\n    return {\n      required: true,\n      date: true,\n      after_now_date: true,\n      messages: {\n        required: Translator.trans('course.manage.deadline_end_date_error_hint')\n      }\n    }\n  }\n\n  elementAddRules($element, options) {\n    $element.rules(\"add\", options);\n  }\n\n  elementRemoveRules($element) {\n    $element.rules('remove');\n  }\n}\n\nnew Creator();\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/course-manage/create/index.js","import 'store';\nimport Cookies from 'js-cookie';\nconst COURSE_BASE_INTRO = 'COURSE_BASE_INTRO';\nconst COURSE_TASK_INTRO = 'COURSE_TASK_INTRO';\nconst COURSE_TASK_DETAIL_INTRO = 'COURSE_TASK_DETAIL_INTRO';\nconst COURSE_LIST_INTRO = 'COURSE_LIST_INTRO';\nconst COURSE_LIST_INTRO_COOKIE = 'COURSE_LIST_INTRO_COOKIE';\n\nexport default class Intro {\n  constructor() {\n    this.intro = null;\n    this.customClass = \"es-intro-help multistep\";\n    $('body').on('click','.js-skip',(event)=>{\n      this.intro.exit();\n    });\n  }\n  \n  introType() {\n    if (this.isTaskCreatePage()) {\n      this.initTaskCreatePageIntro();\n      return;\n    }\n    if (!this.isCourseListPage()) {\n      this.initNotTaskCreatePageIntro();\n      return;\n    }\n    this.initCourseListPageIntro();\n  }\n\n  isCourseListPage() {\n    return !!$('#courses-list-table').length;\n  }\n\n  isTaskCreatePage() {\n    return !!$('#step-3').length;\n  }\n\n  isInitTaskDetailIntro() {\n    $('.js-task-manage-item').attr('into-step-id', 'step-5');\n    return !!$('.js-settings-list').length;\n  }\n\n  introStart(steps) {\n    let doneLabel = '<i class=\"es-icon es-icon-close01\"></i>';\n    this.intro = introJs();\n    if(steps.length < 2) {\n       doneLabel= Translator.trans('intro.confirm_hint');\n       this.customClass = \"es-intro-help\";\n    }else {\n       this.customClass = \"es-intro-help multistep\";\n    }\n    console.log(steps.length < 2);\n    console.log(this.customClass);\n    console.log(doneLabel);\n    this.intro.setOptions({\n      steps: steps,\n      skipLabel: doneLabel,\n      nextLabel: Translator.trans('course_set.manage.next_label'),\n      prevLabel: Translator.trans('course_set.manage.prev_label'),\n      doneLabel: doneLabel,\n      showBullets: false,\n      tooltipPosition: 'auto',\n      showStepNumbers: false,\n       exitOnEsc: false,\n      exitOnOverlayClick: false,\n      tooltipClass:this.customClass,\n    });\n    \n    this.intro.start().onexit(function(){\n    }).onchange(()=>{\n      console.log(this.intro);\n      if(this.intro._currentStep ==(this.intro._introItems.length -1 ) ) {\n        $('.introjs-nextbutton').before('<a class=\"introjs-button  done-button js-skip\">'+Translator.trans('intro.confirm_hint')+'<a/>');\n      }\n      else {\n        $('.js-skip').remove();\n      }\n    })\n  }\n\n  initTaskCreatePageIntro() {\n    $('.js-task-manage-item:first .js-item-content').trigger('click');\n    if (!store.get(COURSE_BASE_INTRO) && !store.get(COURSE_TASK_INTRO)) {\n      store.set(COURSE_BASE_INTRO, true);\n      store.set(COURSE_TASK_INTRO, true);\n      this.introStart(this.initAllSteps());\n    } else if (!store.get(COURSE_TASK_INTRO)) {\n      store.set(COURSE_TASK_INTRO, true);\n      this.introStart(this.initTaskSteps());\n    }\n  }\n\n  initTaskDetailIntro(element) {\n    if (!store.get(COURSE_TASK_DETAIL_INTRO)) {\n      store.set(COURSE_TASK_DETAIL_INTRO,true);\n      this.introStart(this.initTaskDetailSteps(element));\n    }\n  }\n\n  initNotTaskCreatePageIntro() {\n    if (!store.get(COURSE_BASE_INTRO)) {\n      store.set(COURSE_BASE_INTRO, true);\n      this.introStart(this.initNotTaskPageSteps());\n    }\n  }\n\n  isSetCourseListCookies() {\n    if (!store.get(COURSE_LIST_INTRO)) {\n      Cookies.set(COURSE_LIST_INTRO_COOKIE, true);\n    }\n  }\n\n  initCourseListPageIntro() {\n    let listLength = $('#courses-list-table').find('tbody tr').length;\n    \n    if (!(listLength === 2) || store.get(COURSE_LIST_INTRO)|| !Cookies.get(COURSE_LIST_INTRO_COOKIE)) {\n      return;\n    }\n    Cookies.remove(COURSE_LIST_INTRO_COOKIE);\n    new Promise((resolve, reject) => {\n      setTimeout(function () {\n        let $courseMenu = $('.js-sidenav-course-menu');\n        if (!$courseMenu.length) {\n          resolve();\n          return;\n        }\n        $('.js-sidenav-course-menu').slideUp(function () {\n          resolve();\n        });\n      }, 100);\n    }).then(() => {\n      setTimeout(() => {\n        this.initCourseListIntro('.js-sidenav');\n        console.log('initCourseListIntro');\n      }, 100);\n    });\n  }\n\n  initCourseListIntro(element) {\n    if (!store.get(COURSE_LIST_INTRO)) {\n      store.set(COURSE_LIST_INTRO, true);\n      this.introStart(this.initCourseListSteps(element));\n    }\n  }\n\n  initAllSteps() {\n    let arry = [\n      {\n        intro: Translator.trans('course_set.manage.upgrade_hint'),\n      },\n      {\n        element: '#step-1',\n        intro: Translator.trans('course_set.manage.upgrade_step1_hint'),\n      },\n      {\n        element: '#step-2',\n        intro: Translator.trans('course_set.manage.upgrade_step2_hint'),\n      },\n      {\n        element: '#step-3',\n        intro: Translator.trans('course_set.manage.upgrade_step3_hint'),\n      }\n    ];\n    //如果存在任务\n    if (this.isInitTaskDetailIntro()) {\n      arry.push({\n        element: '[into-step-id=\"step-5\"]',\n        intro: Translator.trans('course_set.manage.upgrade_step5_hint'),\n      })\n      if (!store.get(COURSE_TASK_DETAIL_INTRO)) {\n        store.set(COURSE_TASK_DETAIL_INTRO,true);\n      }\n    }\n    return arry;\n  }\n\n  initNotTaskPageSteps() {\n    return [\n      {\n        intro: Translator.trans('course_set.manage.upgrade_hint'),\n      },\n      {\n        element: '#step-1',\n        intro: Translator.trans('course_set.manage.upgrade_step1_hint'),\n      },\n      {\n        element: '#step-2',\n        intro: Translator.trans('course_set.manage.upgrade_step2_hint'),\n      }\n    ];\n  }\n\n  initTaskSteps() {\n    let arry = [\n      {\n        element: '#step-3',\n        intro: Translator.trans('course_set.manage.upgrade_step3_hint'),\n      }\n    ];\n    //如果存在任务\n    if (this.isInitTaskDetailIntro()) {\n      arry.push({\n        element: '#step-5',\n        intro: Translator.trans('course_set.manage.upgrade_step5_hint'),\n        position: 'bottom',\n      })\n      if (!store.get(COURSE_TASK_DETAIL_INTRO)) {\n        store.set(COURSE_TASK_DETAIL_INTRO,true);\n      }\n    }\n\n    return arry;\n  }\n\n  initTaskDetailSteps(element) {\n    return [\n      {\n        element: element,\n        intro: Translator.trans('course_set.manage.activity_link_hint'),\n        position: 'bottom',\n      },\n    ];\n  }\n\n  initCourseListSteps(element) {\n    return [\n      {\n        element: element,\n        intro: Translator.trans('course_set.manage.hint')\n      }\n    ];\n  }\n  initResetStep(introBtnClassName='') {\n    return [\n      {\n        element: '.js-intro-btn-group',\n        intro: Translator.trans('course_set.manage.all_tutorial', { 'introBtnClassName': introBtnClassName}),\n        position:'top'\n      }\n    ];\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/courseset-manage/intro.js"],"sourceRoot":""}