{"version":3,"sources":["app/Resources/static-src/app/js/group/thread-add/index.js"],"names":["$userThreadForm","$","groupThreadAddBtn","threadContent","editor","CKEDITOR","replace","toolbar","filebrowserImageUploadUrl","data","allowedContent","height","on","val","getData","formValidator","validate","currentDom","rules","required","minlength","maxlength","click","form","submit"],"mappings":";;AAAA;;;;;;AAEA,IAAIA,kBAAkBC,EAAE,mBAAF,CAAtB;AACA,IAAIC,oBAAoB,uBAAxB;AACA,IAAIC,gBAAgB,gBAApB;;AAEA,gCAAsBH,eAAtB;AACA,IAAII,SAASC,SAASC,OAAT,CAAiBH,aAAjB,EAAgC;AAC3CI,WAAS,QADkC;AAE3CC,6BAA2BP,EAAE,MAAME,aAAR,EAAuBM,IAAvB,CAA4B,gBAA5B,CAFgB;AAG3CC,kBAAgB,IAH2B;AAI3CC,UAAQ;AAJmC,CAAhC,CAAb;AAMAP,OAAOQ,EAAP,CAAU,QAAV,EAAoB,YAAM;AACxBX,IAAE,MAAME,aAAR,EAAuBU,GAAvB,CAA2BT,OAAOU,OAAP,EAA3B;AACD,CAFD;;AAIA,IAAIC,gBAAgBf,gBAAgBgB,QAAhB,CAAyB;AAC3CC,cAAYf,iBAD+B;AAE3CgB,SAAO;AACL,qBAAiB;AACfC,gBAAU,IADK;AAEfC,iBAAW,CAFI;AAGfC,iBAAW;AAHI,KADZ;AAML,uBAAmB;AACjBF,gBAAU,IADO;AAEjBC,iBAAW;AAFM;AANd;AAFoC,CAAzB,CAApB;;AAeAnB,EAAEC,iBAAF,EAAqBoB,KAArB,CAA2B,YAAU;AACnC,MAAGP,cAAcQ,IAAd,EAAH,EAAyB;AACvBvB,oBAAgBwB,MAAhB;AACD;AACF,CAJD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import AttachmentActions from 'app/js/attachment/widget/attachment-actions';\n\nlet $userThreadForm = $('#user-thread-form');\nlet groupThreadAddBtn = '#groupthread-save-btn';\nlet threadContent = 'thread_content';\n\nnew AttachmentActions($userThreadForm);\nlet editor = CKEDITOR.replace(threadContent, {\n  toolbar: 'Thread',\n  filebrowserImageUploadUrl: $(\"#\" + threadContent).data('imageUploadUrl'),\n  allowedContent: true,\n  height: 300\n});\neditor.on('change', () => {\n  $(\"#\" + threadContent).val(editor.getData());\n});\n\nlet formValidator = $userThreadForm.validate({\n  currentDom: groupThreadAddBtn,\n  rules: {\n    'thread[title]': {\n      required: true,\n      minlength: 2,\n      maxlength: 100\n    },\n    'thread[content]': {\n      required: true,\n      minlength: 2,\n    }\n  },\n});\n\n$(groupThreadAddBtn).click(function(){\n  if(formValidator.form()) {\n    $userThreadForm.submit();\n  }\n})\n\n\n\n"]}