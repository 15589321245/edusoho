{"version":3,"sources":["app/Resources/static-src/app/js/task/plugin/note/index.js"],"names":["$content","$","editor","CKEDITOR","replace","toolbar","filebrowserImageUploadUrl","data","allowedContent","height","on","val","getData","click","event","$btn","attr","preventDefault","$form","serializeArray","post","then","response","removeAttr"],"mappings":";;AAAA;;;;;;AAEA,IAAIA,WAAWC,EAAE,qBAAF,CAAf;;AAEA,IAAIC,SAASC,SAASC,OAAT,CAAiB,oBAAjB,EAAuC;AAClDC,WAAS,QADyC;AAElDC,6BAA2BN,SAASO,IAAT,CAAc,gBAAd,CAFuB;AAGlDC,kBAAgB,IAHkC;AAIlDC,UAAQ;AAJ0C,CAAvC,CAAb;;AAOAP,OAAOQ,EAAP,CAAW,QAAX,EAAqB,YAAM;AACzBV,WAASW,GAAT,CAAaT,OAAOU,OAAP,EAAb;AACD,CAFD;;AAKAX,EAAE,gBAAF,EAAoBY,KAApB,CAA0B,UAAUC,KAAV,EAAiB;AACzC,MAAIC,OAAOd,EAAE,IAAF,CAAX;AACAc,OAAKC,IAAL,CAAU,UAAV,EAAsB,UAAtB;AACAF,QAAMG,cAAN;AACA,MAAIC,QAAQjB,EAAE,wBAAF,CAAZ;AACA,MAAIM,OAAOW,MAAMC,cAAN,EAAX;;AAEAlB,IAAEmB,IAAF,CAAOF,MAAMF,IAAN,CAAW,QAAX,CAAP,EAA6BT,IAA7B,EACGc,IADH,CACQ,UAACC,QAAD,EAAc;AAClB;AACA,0BAAO,SAAP,EAAkB,MAAlB;AACAP,SAAKQ,UAAL,CAAgB,UAAhB;AACD,GALH;AAMD,CAbD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import notify from 'common/notify';\n\nlet $content = $('#note-content-field');\n\nlet editor = CKEDITOR.replace('note-content-field', {\n  toolbar: 'Simple',\n  filebrowserImageUploadUrl: $content.data('imageUploadUrl'),\n  allowedContent: true,\n  height: 300\n});\n\neditor.on( 'change', () => {\n  $content.val(editor.getData());\n});\n\n\n$('#note-save-btn').click(function (event) {\n  let $btn = $(this);\n  $btn.attr('disabled', 'disabled');\n  event.preventDefault();\n  let $form = $('#task-note-plugin-form');\n  let data = $form.serializeArray();\n  \n  $.post($form.attr('action'), data)\n    .then((response) => {\n      // \n      notify('success', '保存成功');\n      $btn.removeAttr('disabled');\n    });\n});\n"]}