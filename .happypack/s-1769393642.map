{"version":3,"sources":["app/Resources/static-src/app/js/course-manage/index.js"],"names":["COURSE_FUNCTION_REMASK","$","length","element","ajax","data","console","log","post","ids","response","lessonNum","chapterNum","unitNum","$list","find","each","$item","hasClass","text","store","get","set","modal"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA,IAAMA,yBAAyB,wBAA/B,C,CAAyD;;AAEzD,IAAIC,EAAE,gBAAF,EAAoBC,MAAxB,EAAgC;AAC9B,0BAAS;AACPC,aAAS,gBADF;AAEPC,UAAM;AAFC,GAAT,EAGE,UAACC,IAAD,EAAQ;AACRC,YAAQC,GAAR,CAAYF,IAAZ;AACAJ,MAAEO,IAAF,CAAOP,EAAE,gBAAF,EAAoBI,IAApB,CAAyB,SAAzB,CAAP,EAA4C,EAAEI,KAAKJ,IAAP,EAA5C,EAA2D,UAACK,QAAD,EAAc;AACvE,UAAIC,YAAYC,aAAaC,UAAU,CAAvC;;AAEUC,YAAMC,IAAN,CAAW,6BAAX,EAA0CC,IAA1C,CAA+C,YAAW;AACtD,YAAIC,QAAQhB,EAAE,IAAF,CAAZ;AACA,YAAIgB,MAAMC,QAAN,CAAe,aAAf,CAAJ,EAAmC;AAC/BP;AACAM,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BR,SAA3B;AACH,SAHD,MAGO,IAAIM,MAAMC,QAAN,CAAe,mBAAf,CAAJ,EAAyC;AAC5CL;AACAI,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BN,OAA3B;AACH,SAHM,MAGA,IAAII,MAAMC,QAAN,CAAe,cAAf,CAAJ,EAAoC;AACvCN;AACAC,oBAAU,CAAV;AACAI,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BP,UAA3B;AACH;AAEJ,OAdD;AAeX,KAlBD;AAmBD,GAxBD;AAyBD;;AAGD,IAAG,CAACQ,MAAMC,GAAN,CAAUrB,sBAAV,CAAJ,EAAuC;AACrCoB,QAAME,GAAN,CAAUtB,sBAAV,EAAiC,IAAjC;AACAC,IAAE,wBAAF,EAA4BsB,KAA5B,CAAkC,MAAlC;AACD;;AAED;AACA,wBAAaH,KAAb;AACA;AACA;AACA;AACA","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import {closeCourse, deleteCourse, showSettings, deleteTask, publishTask, unpublishTask} from './help';\nimport sortable from 'common/sortable';\nimport 'store';\nconst COURSE_FUNCTION_REMASK = 'COURSE-FUNCTION-REMASK'; //课程改版功能提醒\n\nif ($('#sortable-list').length) {\n  sortable({\n    element: '#sortable-list',\n    ajax: false,\n  },(data)=>{\n    console.log(data);\n    $.post($('#sortable-list').data('sortUrl'), { ids: data }, (response) => {\n      var lessonNum = chapterNum = unitNum = 0;\n\n                $list.find('.item-lesson, .item-chapter').each(function() {\n                    var $item = $(this);\n                    if ($item.hasClass('item-lesson')) {\n                        lessonNum ++;\n                        $item.find('.number').text(lessonNum);\n                    } else if ($item.hasClass('item-chapter-unit')) {\n                        unitNum ++;\n                        $item.find('.number').text(unitNum);\n                    } else if ($item.hasClass('item-chapter')) {\n                        chapterNum ++;\n                        unitNum = 0;\n                        $item.find('.number').text(chapterNum);\n                    }\n\n                });\n    });\n  });\n}\n\n\nif(!store.get(COURSE_FUNCTION_REMASK)) {\n  store.set(COURSE_FUNCTION_REMASK,true);\n  $('#course-function-modal').modal('show');\n}\n\ncloseCourse();\ndeleteCourse(store);\ndeleteTask();\npublishTask();\nunpublishTask();\nshowSettings();\n"]}