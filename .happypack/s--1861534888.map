{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 651a4bee1487dcac605a","webpack:///./src/index.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}","webpack:///external \"postal\"","webpack:///./src/utils.js","webpack:///./src/state.js","webpack:///./src/XFrameClient.js"],"names":[],"mappings":"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","file":"postal.xframe.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(\"postal\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"postal\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"postalXframe\"] = factory(require(\"lodash\"), require(\"postal\"));\n\telse\n\t\troot[\"postalXframe\"] = factory(root[\"_\"], root[\"postal\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 651a4bee1487dcac605a\n **/","import _ from \"lodash\";\nimport postal from \"postal\";\nimport {\n\t_memoRemoteByInstanceId,\n\t_memoRemoteByTarget,\n\t_disconnectClient,\n\tsafeSerialize\n} from \"./utils\";\nimport { state, env } from \"./state\";\nimport XFrameClient from \"./XFrameClient\";\n\nfunction listener() {\n\tplugin.routeMessage.apply( plugin, arguments );\n}\n\nfunction listenToWorker( worker ) {\n\tif ( !_.include( state.workers, worker ) ) {\n\t\tworker.addEventListener( \"message\", listener );\n\t\tstate.workers.push( worker );\n\t}\n}\n\nXFrameClient.getInstance = function getInstance( source, origin, instanceId ) {\n\tconst client = new XFrameClient( source, {\n\t\torigin: origin,\n\t\tisWorker: ( typeof Worker !== \"undefined\" && source instanceof Worker )\n\t}, instanceId );\n\tif ( client.options.isWorker ) {\n\t\tlistenToWorker( client.target );\n\t}\n\treturn client;\n};\n\nconst NO_OP = function() {};\n\nconst plugin = postal.fedx.transports.xframe = {\n\teagerSerialize: env.useEagerSerialize,\n\tXFrameClient: XFrameClient,\n\tconfigure: function( cfg ) {\n\t\tif ( cfg ) {\n\t\t\tstate.config = _.defaults( _.extend( state.config, cfg ), state.defaults );\n\t\t}\n\t\treturn state.config;\n\t},\n\tclearConfiguration: function() {\n\t\tstate.config = _.extend( {}, state.defaults );\n\t},\n\t//find all iFrames and the parent window if in an iframe\n\tgetTargets: env.isWorker ? function() {\n\t\treturn [ {\n\t\t\ttarget: {\n\t\t\t\tpostMessage: postMessage\n\t\t\t}\n\t\t} ]; // TO-DO: look into this...\n\t} : function() {\n\t\tconst targets = _.map( document.getElementsByTagName( \"iframe\" ), function( i ) {\n\t\t\tvar urlHack = document.createElement( \"a\" );\n\t\t\turlHack.href = i.src;\n\t\t\tlet origin = urlHack.protocol + \"//\" + urlHack.host;\n\t\t\t// The following condition fixes the IE issue of setting the origin while the iframe is 'empty':\n\t\t\t// if the iframe has no 'src' set to some meaningful url (at this very moment),\n\t\t\t// then the urlHack returns neither protocol nor host information.\n\t\t\tif ( origin === \"//\" ) {\n\t\t\t\torigin = null;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttarget: i.contentWindow,\n\t\t\t\torigin: origin || state.config.defaultOriginUrl\n\t\t\t};\n\t\t} );\n\t\tif ( window.parent && window.parent !== window ) {\n\t\t\ttargets.push( {\n\t\t\t\ttarget: window.parent,\n\t\t\t\torigin: \"*\"\n\t\t\t} );\n\t\t}\n\t\treturn targets.concat( state.workers );\n\t},\n\tremotes: [],\n\twrapForTransport: env.useEagerSerialize ? function( packingSlip ) {\n\t\treturn JSON.stringify( {\n\t\t\tpostal: true,\n\t\t\tpackingSlip: packingSlip\n\t\t} );\n\t} : function( packingSlip ) {\n\t\treturn {\n\t\t\tpostal: true,\n\t\t\tpackingSlip: packingSlip\n\t\t};\n\t},\n\tunwrapFromTransport: function( msgData ) {\n\t\tif ( typeof msgData === \"string\" && ( env.useEagerSerialize || msgData.indexOf( '\"postal\":true' ) !== -1 ) ) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse( msgData );\n\t\t\t} catch ( ex ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t} else {\n\t\t\treturn msgData;\n\t\t}\n\t},\n\trouteMessage: function( event ) {\n\t\t// source = remote window or worker?\n\t\tconst source = event.source || event.currentTarget;\n\t\tconst parsed = this.unwrapFromTransport( event.data );\n\t\tif ( parsed.postal ) {\n\t\t\tvar remote = _.find( this.remotes, function( x ) {\n\t\t\t\treturn x.target === source;\n\t\t\t} );\n\t\t\tif ( !remote ) {\n\t\t\t\tremote = XFrameClient.getInstance( source, event.origin, parsed.packingSlip.instanceId );\n\t\t\t\tthis.remotes.push( remote );\n\t\t\t}\n\t\t\tremote.onMessage( parsed.packingSlip );\n\t\t}\n\t},\n\tsendMessage: function( env ) {\n\t\tlet envelope = env;\n\t\tif ( state.config.safeSerialize ) {\n\t\t\tenvelope = safeSerialize( _.cloneDeep( env ) );\n\t\t}\n\t\t_.each( this.remotes, function( remote ) {\n\t\t\tremote.sendMessage( envelope );\n\t\t} );\n\t},\n\tdisconnect: function( options ) {\n\t\toptions = options || {};\n\t\tconst clients = options.instanceId ?\n\t\t\t// an instanceId value or array was provided, let's get the client proxy instances for the id(s)\n\t\t\t_.reduce( _.isArray( options.instanceId ) ? options.instanceId : [ options.instanceId ], _memoRemoteByInstanceId, [], this ) :\n\t\t\t// Ok so we don't have instanceId(s), let's try target(s)\n\t\t\toptions.target ?\n\t\t\t\t// Ok, so we have a targets array, we need to iterate over it and get a list of the proxy/client instances\n\t\t\t\t_.reduce( _.isArray( options.target ) ? options.target : [ options.target ], _memoRemoteByTarget, [], this ) :\n\t\t\t\t// aww, heck - we don't have instanceId(s) or target(s), so it's ALL THE REMOTES\n\t\t\t\tthis.remotes;\n\t\tif ( !options.doNotNotify ) {\n\t\t\t_.each( clients, _disconnectClient, this );\n\t\t}\n\t\tthis.remotes = _.without.apply( null, [ this.remotes ].concat( clients ) );\n\t},\n\tsignalReady: function( targets, callback ) {\n\t\ttargets = _.isArray( targets ) ? targets : [ targets ];\n\t\ttargets = targets.length ? targets : this.getTargets();\n\t\tcallback = callback || NO_OP;\n\t\t_.each( targets, function( def ) {\n\t\t\tif ( def.target ) {\n\t\t\t\tdef.origin = def.origin || state.config.defaultOriginUrl;\n\t\t\t\tlet remote = _.find( this.remotes, function( x ) {\n\t\t\t\t\treturn x.target === def.target;\n\t\t\t\t} );\n\t\t\t\tif ( !remote ) {\n\t\t\t\t\tremote = XFrameClient.getInstance( def.target, def.origin );\n\t\t\t\t\tthis.remotes.push( remote );\n\t\t\t\t}\n\t\t\t\tremote.sendPing( callback );\n\t\t\t}\n\t\t}, this );\n\t},\n\taddEventListener: env.isWorker ? function() {\n\t\taddEventListener( \"message\", listener );\n\t} : function( eventName, handler, bubble ) {\n\t\t// in normal browser context\n\t\tif ( typeof window !== \"undefined\" && typeof window.addEventListener === \"function\" ) {\n\t\t\twindow.addEventListener( eventName, handler, bubble );\n\t\t} else {\n\t\t\tthrow new Error( \"postal.xframe only works with browsers that support window.addEventListener\" );\n\t\t}\n\t},\n\tlistenToWorker: listenToWorker,\n\tstopListeningToWorker: function( worker ) {\n\t\tif ( worker ) {\n\t\t\tworker.removeEventListener( \"message\", listener );\n\t\t\tstate.workers = _.without( state.workers, worker );\n\t\t} else {\n\t\t\twhile ( state.workers.length ) {\n\t\t\t\tstate.workers.pop().removeEventListener( \"message\", listener );\n\t\t\t}\n\t\t}\n\t}\n};\n\nplugin.addEventListener( \"message\", listener, false );\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"postal\"\n ** module id = 2\n ** module chunks = 0\n **/","import _ from \"lodash\";\n\nexport function _memoRemoteByInstanceId( memo, instanceId ) {\n\tvar proxy = _.find( this.remotes, function( x ) {\n\t\treturn x.instanceId === instanceId;\n\t} );\n\tif ( proxy ) {\n\t\tmemo.push( proxy );\n\t}\n\treturn memo;\n}\n\nexport function _memoRemoteByTarget( memo, tgt ) {\n\tvar proxy = _.find( this.remotes, function( x ) {\n\t\treturn x.target === tgt;\n\t} );\n\tif ( proxy ) {\n\t\tmemo.push( proxy );\n\t}\n\treturn memo;\n}\n\nexport function _disconnectClient( client ) {\n\tclient.disconnect();\n}\n\nexport function safeSerialize( envelope ) {\n\tfor ( let [ key, val ] of entries( envelope ) ) {\n\t\tif ( typeof val === \"function\" ) {\n\t\t\tdelete envelope[ key ];\n\t\t}\n\t\tif ( _.isPlainObject( val ) ) {\n\t\t\tsafeSerialize( val );\n\t\t}\n\t\tif ( _.isArray( val ) ) {\n\t\t\t_.each( val, safeSerialize );\n\t\t}\n\t}\n\treturn envelope;\n}\n\nexport var entries = function* ( obj ) {\n\tif ( [ \"object\", \"function\" ].indexOf( typeof obj ) === -1 ) {\n\t\tobj = {};\n\t}\n\tfor ( var k of Object.keys( obj ) ) {\n\t\tyield [ k, obj[ k ] ];\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import _ from \"lodash\";\n\nexport let env = {\n\torigin: location.origin || location.protocol + \"//\" + location.host,\n\tisWorker: ( typeof window === \"undefined\" ) && postMessage && location,\n\t// I know, I KNOW. The alternative was very expensive perf & time-wise\n\t// so I saved you a perf hit by checking the stinking UA. Sigh.\n\t// I sought the opinion of several other devs. We all traveled\n\t// to the far east to consult with the wisdom of a monk - turns\n\t// out he didn\"t know JavaScript, and our passports were stolen on the\n\t// return trip. We stowed away aboard a freighter headed back to the\n\t// US and by the time we got back, no one had heard of IE 8 or 9. True story.\n\tuseEagerSerialize: /MSIE [8,9]/.test( navigator.userAgent )\n};\n\nconst defaults = {\n\tallowedOrigins: [ env.origin ],\n\tenabled: true,\n\tdefaultOriginUrl: \"*\",\n\tsafeSerialize: false\n};\n\nexport let state = {\n\tworkers: [],\n\tconfig: _.extend( {}, defaults ),\n\tdefaults\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/state.js\n **/","import postal from \"postal\";\nimport _ from \"lodash\";\nimport { state, env } from \"./state\";\n\nexport default class XFrameClient extends postal.fedx.FederationClient {\n\n\tconstructor( ...args ) {\n\t\tthis.transportName = \"xframe\";\n\t\tsuper( ...args );\n\t}\n\n\tshouldProcess() {\n\t\tconst hasDomainFilters = !!state.config.allowedOrigins.length;\n\t\treturn state.config.enabled &&\n\t\t\t// another frame/window\n\t\t\t( ( this.options.origin === \"*\" || ( hasDomainFilters && _.contains( state.config.allowedOrigins, this.options.origin ) || !hasDomainFilters ) ) ||\n\t\t\t// worker\n\t\t\t( this.options.isWorker && _.contains( state.workers, this.target ) ) ||\n\t\t\t// we are in a worker\n\t\t\tenv.isWorker );\n\t}\n\n\tsend( packingSlip ) {\n\t\tif ( this.shouldProcess() ) {\n\t\t\tconst context = env.isWorker ? null : this.target;\n\t\t\tconst args = [ postal.fedx.transports.xframe.wrapForTransport( packingSlip ) ];\n\t\t\tif ( !this.options.isWorker && !env.isWorker ) {\n\t\t\t\targs.push( this.options.origin );\n\t\t\t}\n\t\t\tif ( !env.isWorker ) {\n\t\t\t\tif ( args.length === 1 ) {\n\t\t\t\t\tthis.target.postMessage( args[0] );\n\t\t\t\t} else {\n\t\t\t\t\tthis.target.postMessage( args[0], args[1] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.target.postMessage.apply( context, args );\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/XFrameClient.js\n **/"],"sourceRoot":""}