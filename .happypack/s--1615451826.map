{"version":3,"sources":["app/Resources/static-src/app/js/admin/main.js"],"names":["define","require","exports","module","window","$","jQuery","Notify","tooltip","html","load","name","app","jsPaths","split","undefined","basePath","seajs","use","isFunction","run","loadScript","scripts","index","on","success","Translator","trans","title","document","attr","params","url","location","pathname","search","post","data","reload","controller","ajaxSend","a","b","c","type","setRequestHeader","scheduleCrontab"],"mappings":";;AAAAA,OAAO,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,MAA3B,EAAmC;AACzCC,QAAOC,CAAP,GAAWD,OAAOE,MAAP,GAAgBL,QAAQ,QAAR,CAA3B;;AAEAA,SAAQ,aAAR;;AAEAA,SAAQ,WAAR;AACAA,SAAQ,8BAAR;;AAGA,KAAIM,SAASN,QAAQ,yBAAR,CAAb;;AAEAI,GAAE,yBAAF,EAA6BG,OAA7B,CAAqC,EAACC,MAAM,IAAP,EAArC;AACAP,SAAQQ,IAAR,GAAe,UAASC,IAAT,EAAe;AAC7B,MAAIP,OAAOQ,GAAP,CAAWC,OAAX,CAAmBF,KAAKG,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmB,CAAnB,CAAnB,KAA6CC,SAAjD,EAA4D;AAC3DJ,UAAOP,OAAOQ,GAAP,CAAWI,QAAX,GAAsB,qCAAtB,GAA8DL,IAArE;AACA;;AAEDM,QAAMC,GAAN,CAAUP,IAAV,EAAgB,UAASR,MAAT,EAAiB;AAChC,OAAIE,EAAEc,UAAF,CAAahB,OAAOiB,GAApB,CAAJ,EAA8B;AAC7BjB,WAAOiB,GAAP;AACA;AACD,GAJD;AAMA,EAXD;;AAaAlB,SAAQmB,UAAR,GAAqB,UAASC,OAAT,EAAkB;AACtC,OAAI,IAAIC,KAAR,IAAiBD,OAAjB,EAA0B;AACzBpB,WAAQQ,IAAR,CAAaY,QAAQC,KAAR,CAAb;AACA;AAED,EALD;;AAOAlB,GAAE,YAAF,EAAgBmB,EAAhB,CAAmB,OAAnB,EAA4B,eAA5B,EAA6C,YAAW;AACvDjB,SAAOkB,OAAP,CAAeC,WAAWC,KAAX,CAAiB,eAAjB,CAAf;;AAEA,MAAIC,QAAQvB,EAAEwB,QAAF,EAAYC,IAAZ,CAAiB,OAAjB,CAAZ;;AAEAF,UAAQA,MAAMd,KAAN,CAAY,GAAZ,CAAR;;AAEA,MAAIiB,SAAS;AACZH,UAAOA,MAAM,CAAN,CADK;AAEZI,QAAK5B,OAAO6B,QAAP,CAAgBC,QAAhB,GAA2B9B,OAAO6B,QAAP,CAAgBE;AAFpC,GAAb;AAIA9B,IAAE+B,IAAF,CAAO/B,EAAE,IAAF,EAAQgC,IAAR,CAAa,KAAb,CAAP,EAA4BN,MAA5B,EAAoC,YAAW;AAC9C3B,UAAO6B,QAAP,CAAgBK,MAAhB;AACA,GAFD;AAGA,EAdD;;AAgBAjC,GAAE,YAAF,EAAgBmB,EAAhB,CAAmB,OAAnB,EAA4B,0BAA5B,EAAwD,YAAW;AAClEjB,SAAOkB,OAAP,CAAeC,WAAWC,KAAX,CAAiB,WAAjB,CAAf;AACAtB,IAAE+B,IAAF,CAAO/B,EAAE,IAAF,EAAQgC,IAAR,CAAa,KAAb,CAAP,EAA4B,YAAW;AACtCjC,UAAO6B,QAAP,CAAgBK,MAAhB;AACA,GAFD;AAGA,EALD;;AAOAlC,QAAOQ,GAAP,CAAWF,IAAX,GAAkBR,QAAQQ,IAA1B;;AAEA,KAAIE,IAAI2B,UAAR,EAAoB;AACnBrC,UAAQQ,IAAR,CAAaE,IAAI2B,UAAjB;AACA;;AAED,KAAI3B,IAAIU,OAAR,EAAiB;AAChBpB,UAAQmB,UAAR,CAAmBT,IAAIU,OAAvB;AACA;;AAEDjB,GAAEwB,QAAF,EAAYW,QAAZ,CAAqB,UAASC,CAAT,EAAYC,CAAZ,EAAeC,CAAf,EAAkB;AACtC,MAAIA,EAAEC,IAAF,IAAU,MAAd,EAAsB;AACrBF,KAAEG,gBAAF,CAAmB,cAAnB,EAAmCxC,EAAE,uBAAF,EAA2ByB,IAA3B,CAAgC,SAAhC,CAAnC;AACA;AACD,EAJD;;AAMG,KAAIlB,IAAIkC,eAAR,EAAyB;AACrBzC,IAAE+B,IAAF,CAAOxB,IAAIkC,eAAX;AACH;AAEJ,CA3ED","file":"main.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["define(function(require, exports, module) {\n\twindow.$ = window.jQuery = require('jquery');\n\n\trequire('placeholder');\n\n\trequire('bootstrap');\n\trequire('common/bootstrap-modal-hack2');\n  \n\n\tvar Notify = require('common/bootstrap-notify');\n\n\t$('[data-toggle=\"tooltip\"]').tooltip({html: true});\n\texports.load = function(name) {\n\t\tif (window.app.jsPaths[name.split('/', 1)[0]] == undefined) {\n\t\t\tname = window.app.basePath + '/bundles/topxiaadmin/js/controller/' + name;\n\t\t}\n\n\t\tseajs.use(name, function(module) {\n\t\t\tif ($.isFunction(module.run)) {\n\t\t\t\tmodule.run();\n\t\t\t}\n\t\t});\n\n\t};\n\n\texports.loadScript = function(scripts) {\n\t\tfor(var index in scripts) {\n\t\t\texports.load(scripts[index]);\n\t\t}\n\t\t\n\t}\n\n\t$('.shortcuts').on('click', '.shortcut-add', function() {\n\t\tNotify.success(Translator.trans('已添加当前页面为常用链接！'));\n\n\t\tvar title = $(document).attr(\"title\");\n\n\t\ttitle = title.split('|');\n\n\t\tvar params = {\n\t\t\ttitle: title[0],\n\t\t\turl: window.location.pathname + window.location.search\n\t\t};\n\t\t$.post($(this).data('url'), params, function() {\n\t\t\twindow.location.reload();\n\t\t});\n\t});\n\n\t$('.shortcuts').on('click', '.glyphicon-remove-circle', function() {\n\t\tNotify.success(Translator.trans('删除常用链接成功！'));\n\t\t$.post($(this).data('url'), function() {\n\t\t\twindow.location.reload();\n\t\t});\n\t});\n\n\twindow.app.load = exports.load;\n\n\tif (app.controller) {\n\t\texports.load(app.controller);\n\t}\n\n\tif (app.scripts) {\n\t\texports.loadScript(app.scripts);\n\t}\n\n\t$(document).ajaxSend(function(a, b, c) {\n\t\tif (c.type == 'POST') {\n\t\t\tb.setRequestHeader('X-CSRF-Token', $('meta[name=csrf-token]').attr('content'));\n\t\t}\n\t});\n\n    if (app.scheduleCrontab) {\n        $.post(app.scheduleCrontab);\n    }\t\n\n});"]}