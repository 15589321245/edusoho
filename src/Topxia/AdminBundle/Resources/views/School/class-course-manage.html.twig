  {% extends 'TopxiaAdminBundle:School:layout.html.twig' %}

{% block title %}课程设置 - {{ parent() }}{% endblock %}

{% set menu = 'classSetting' %}

{% block main %}
<div class="page-header clearfix">
  <button class="btn btn-info btn-sm pull-right" id="add-navigation-btn" data-toggle="modal" data-target="#modal" data-url="{{path('admin_school_class_course_add', { classId:class.id, gradeId:class.gradeId, term:class.term, public:0 })}}" >选增课程</button>
  <h1 class="pull-left">
    课程设置
    <small class="text-success">
      {{ class_name(class) }}
      {{ class.year}}届
      {% if class.term == 'first' %}
        一学期  
      {% else %}
        二学期
      {% endif %}
    </small>
  </h1>

</div>

<div class="row">
  {% if courses %}
  {% for course in courses%}
  <div class="col-sm-4 col-md-3">
    <div class="thumbnail course-thumbnail">
      <a type="button" class="close course-thumbnail-close" href="{{ path('admin_school_class_course_remove', {classId:class.id, courseId:course.id}) }}" onclick="return confirm('确定移除吗？');"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></a>
      <a href="{{ path('course_show',{id:course.id}) }}"><img  alt="{{ course.title }}" src="{{ file_path(course.middlePicture, 'course-large.png') }}"></a>
      <div class="caption">
        <a href="{{ path('course_show',{id:course.id}) }}"><h3 class="title">{{ course.title }}</h3></a>
        <div class="metas clearfix">
          <span class="pull-left">
            {{ dict_text('gradeName', course.gradeId) }}
            {% if course.term == 'first' %}
            一学期  
            {% else %}
            二学期
            {% endif %}
            {% if course.compulsory == '1' %}
              必修
              {% else %}
              选修
            {% endif %}
          </span>
          <span class="pull-right">{{ course.teachername[0]}}</span>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
  {% else %}
  <span class="empty">该班级暂无课程，快去增加课程吧！</span>
  {% endif %}
</div>


{% endblock %}