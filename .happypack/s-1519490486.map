{"version":3,"sources":["app/Resources/static-src/libs/vendor.js"],"names":["$","popover","html","tooltip","document","ajaxError","event","jqxhr","settings","exception","responseText","location","href","json","jQuery","parseJSON","error","name","ua","navigator","userAgent","toLowerCase","match","attr","window","$loginModal","modal","get","data","ajaxSend","a","b","c","type","setRequestHeader","app","scheduleCrontab","post","mouseenter","addClass","mouseleave","removeClass","length","click","children","noticeSwiper","speed","loop","mode","autoplay","calculateHeight","on","focus","prop","blur","Translator","trans","console","log","lavaLamp","change","parents","trigger"],"mappings":"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","file":"vendor.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import 'babel-polyfill';\nimport 'jquery';\nimport 'bootstrap';\nimport Swiper from 'swiper';\n// import 'placeholder';\nimport 'es6-promise/auto';\nimport 'libs/js/jquery-lavalamp';\nimport 'common/bootstrap-modal-hack';\nimport 'common/script';\nimport 'common/card';\nimport 'common/es-polyfill';\nimport { isMobileDevice } from 'common/utils';\n\nimport './vendor.less';\n\n// 等待确认可删除Cookie\n// var Cookie = require('cookie');  \n\n$('[data-toggle=\"popover\"]').popover({\n  html: true,\n});\n\n$('[data-toggle=\"tooltip\"]').tooltip({\n  html: true,\n});\n\n$(document).ajaxError(function (event, jqxhr, settings, exception) {\n  if (jqxhr.responseText === 'LoginLimit') {\n    location.href = '/login';\n  }\n  let json = jQuery.parseJSON(jqxhr.responseText);\n  let error = json.error;\n  if (!error) {\n    return;\n  }\n\n  if (error.name === 'Unlogin') {\n    let ua = navigator.userAgent.toLowerCase();\n    if (ua.match(/MicroMessenger/i) === \"micromessenger\" && $('meta[name=is-open]').attr('content') !== 0) {\n      window.location.href = '/login/bind/weixinmob?_target_path=' + location.href;\n    } else {\n      let $loginModal = $(\"#login-modal\");\n      $('.modal').modal('hide');\n      $loginModal.modal('show');\n      $.get($loginModal.data('url'), function (html) {\n        $loginModal.html(html);\n      });\n    }\n  }\n});\n\n$(document).ajaxSend(function (a, b, c) {\n  if (c.type === 'POST') {\n    b.setRequestHeader('X-CSRF-Token', $('meta[name=csrf-token]').attr('content'));\n  }\n});\n\nif (app.scheduleCrontab) {\n  $.post(app.scheduleCrontab);\n}\n\n$(\"i.hover-spin\").mouseenter(function () {\n  $(this).addClass(\"md-spin\");\n}).mouseleave(function () {\n  $(this).removeClass(\"md-spin\");\n});\n\nif ($(\".set-email-alert\").length > 0) {\n  $(\".set-email-alert .close\").click(function () {\n    // Cookie.set(\"close_set_email_alert\", 'true');\n  });\n}\n\nif ($(\".announcements-alert\").length > 0) {\n  if ($('.announcements-alert .swiper-container .swiper-wrapper').children().length > 1) {\n    let noticeSwiper = new Swiper('.alert-notice .swiper-container', {\n      speed: 300,\n      loop: true,\n      mode: 'vertical',\n      autoplay: 5000,\n      calculateHeight: true\n    });\n  }\n\n  $(\".announcements-alert .close\").click(function () {\n    // Cookie.set(\"close_announcements_alert\", 'true', {\n    //   path: '/'\n    // });\n  });\n}\n\nif (!isMobileDevice()) {\n  $(\"body\").on(\"mouseenter\", \"li.nav-hover\", function (event) {\n    $(this).addClass(\"open\");\n  }).on(\"mouseleave\", \"li.nav-hover\", function (event) {\n    $(this).removeClass(\"open\");\n  });\n} else {\n  $(\"li.nav-hover >a\").attr(\"data-toggle\", \"dropdown\");\n}\n\n$(\".js-search\").focus(function () {\n  $(this).prop(\"placeholder\", \"\").addClass(\"active\");\n}).blur(function () {\n  $(this).prop(\"placeholder\", Translator.trans('搜索')).removeClass(\"active\");\n});\n\nif ($(\".nav.nav-tabs\").length > 0 && !isMobileDevice()) {\n  // console.log(lavaLamp);\n  console.log($(\".nav.nav-tabs\"));\n  $(\".nav.nav-tabs\").lavaLamp();\n}\n\n$(\"select[name='language']\").change(function () {\n  // Cookie.set(\"locale\", $('select[name=language]').val(), { 'path': '/' });\n  $(\"select[name='language']\").parents('form').trigger('submit');\n});"]}