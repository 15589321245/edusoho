{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/courseset-manage/base/base.js","webpack:///./app/Resources/static-src/app/js/courseset-manage/base/index.js"],"names":["Base","init","initValidator","initTags","$form","$","validator","validate","rules","title","maxlength","required","depends","val","trim","course_title","subtitle","click","event","form","currentTarget","button","submit","$tags","select2","ajax","url","data","dataType","quietMillis","term","page","q","page_limit","results","console","log","map","item","id","name","initSelection","element","callback","split","each","push","formatSelection","formatResult","formatSearching","Translator","trans","multiple","maximumSelectionSize","placeholder","width","createSearchChoice"],"mappings":";;;;;;;;;;;;;;;KAAqBA,I;AACnB,mBAAc;AAAA;;AACZ,UAAKC,IAAL;AACD;;;;4BAEM;AACL,YAAKC,aAAL;AACA,YAAKC,QAAL;AACD;;;qCAEe;AACd,WAAMC,QAAQC,EAAE,iBAAF,CAAd;AACA,WAAMC,YAAYF,MAAMG,QAAN,CAAe;AAC/BC,gBAAO;AACLC,kBAAO;AACLC,wBAAW,GADN;AAELC,uBAAU;AACRC,sBADQ,qBACG;AACTP,mBAAE,IAAF,EAAQQ,GAAR,CAAYR,EAAES,IAAF,CAAOT,EAAE,IAAF,EAAQQ,GAAR,EAAP,CAAZ;AACA,wBAAO,IAAP;AACD;AAJO,cAFL;AAQNE,2BAAc;AARR,YADF;AAWLC,qBAAU;AACRL,uBAAU;AACRC,sBADQ,qBACG;AACTP,mBAAE,IAAF,EAAQQ,GAAR,CAAYR,EAAES,IAAF,CAAOT,EAAE,IAAF,EAAQQ,GAAR,EAAP,CAAZ;AACA,wBAAO,KAAP;AACD;AAJO,cADF;AAOTE,2BAAc;AAPL;AAXL;AADwB,QAAf,CAAlB;AAuBAV,SAAE,wBAAF,EAA4BY,KAA5B,CAAkC,UAACC,KAAD,EAAW;AAC3C,aAAIZ,UAAUa,IAAV,EAAJ,EAAsB;AACpBd,aAAEa,MAAME,aAAR,EAAuBC,MAAvB,CAA8B,SAA9B;AACAjB,iBAAMkB,MAAN;AACD;AACF,QALD;AAMD;;;gCAEU;AACT,WAAMC,QAAQlB,EAAE,OAAF,CAAd;AACAkB,aAAMC,OAAN,CAAc;AACZC,eAAM;AACJC,gBAAKH,MAAMI,IAAN,CAAW,KAAX,CADD;AAEJC,qBAAU,MAFN;AAGJC,wBAAa,GAHT;AAIJF,eAJI,gBAIEG,IAJF,EAIQC,IAJR,EAIc;AAChB,oBAAO;AACLC,kBAAGF,IADE;AAELG,2BAAY;AAFP,cAAP;AAID,YATG;AAUJC,kBAVI,mBAUKP,IAVL,EAUW;AACbQ,qBAAQC,GAAR,CAAYT,IAAZ;AACA,oBAAO;AACLO,wBAASP,KAAKU,GAAL,CAAS,UAACC,IAAD,EAAU;AAC1B,wBAAO,EAAEC,IAAID,KAAKE,IAAX,EAAiBA,MAAMF,KAAKE,IAA5B,EAAP;AACD,gBAFQ;AADJ,cAAP;AAKD;AAjBG,UADM;AAoBZC,sBApBY,yBAoBGC,OApBH,EAoBYC,QApBZ,EAoBsB;AAChC,eAAMhB,OAAO,EAAb;AACAtB,aAAEqC,QAAQ7B,GAAR,GAAc+B,KAAd,CAAoB,GAApB,CAAF,EAA4BC,IAA5B,CAAiC,YAAY;AAC3ClB,kBAAKmB,IAAL,CAAU;AACRP,mBAAI,IADI;AAERC,qBAAM;AAFE,cAAV;AAID,YALD;AAMAG,oBAAShB,IAAT;AACD,UA7BW;AA8BZoB,wBA9BY,2BA8BKT,IA9BL,EA8BW;AACrB,kBAAOA,KAAKE,IAAZ;AACD,UAhCW;AAiCZQ,qBAjCY,wBAiCEV,IAjCF,EAiCQ;AAClB,kBAAOA,KAAKE,IAAZ;AACD,UAnCW;;AAoCZS,0BAAiB,2BAAW;AAC1B,kBAAOC,WAAWC,KAAX,CAAiB,qBAAjB,CAAP;AACD,UAtCW;AAuCZC,mBAAU,IAvCE;AAwCZC,+BAAsB,EAxCV;AAyCZC,sBAAaJ,WAAWC,KAAX,CAAiB,qCAAjB,CAzCD;AA0CZI,gBAAO,KA1CK;AA2CZC,2BA3CY,gCA2CU;AACpB,kBAAO,IAAP;AACD;AA7CW,QAAd;AA+CD;;;;;;mBA5FkBxD,I;;;;;;;;;ACArB;;;;;;AACA,sB","file":"app/js/courseset-manage/base/index.js","sourcesContent":["export default class Base {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.initValidator();\n    this.initTags();\n  }\n\n  initValidator() {\n    const $form = $('#courseset-form');\n    const validator = $form.validate({\n      rules: {\n        title: {\n          maxlength: 100,\n          required: {\n            depends () {\n              $(this).val($.trim($(this).val()));\n              return true;\n            }\n          },\n\t        course_title: true\n        },\n        subtitle: {\n          required: {\n            depends () {\n              $(this).val($.trim($(this).val()));\n              return false;\n            }\n          },\n\t        course_title: true\n        }\n      },\n    });\n    $('#courseset-base-submit').click((event) => {\n      if (validator.form()) {\n        $(event.currentTarget).button('loading');\n        $form.submit();\n      }\n    });\n  }\n\n  initTags() {\n    const $tags = $('#tags');\n    $tags.select2({\n      ajax: {\n        url: $tags.data('url'),\n        dataType: 'json',\n        quietMillis: 500,\n        data (term, page) {\n          return {\n            q: term,\n            page_limit: 10\n          };\n        },\n        results (data) {\n          console.log(data);\n          return {\n            results: data.map((item) => {\n              return { id: item.name, name: item.name };\n            })\n          };\n        }\n      },\n      initSelection (element, callback) {\n        const data = [];\n        $(element.val().split(',')).each(function () {\n          data.push({\n            id: this,\n            name: this\n          });\n        });\n        callback(data);\n      },\n      formatSelection (item) {\n        return item.name;\n      },\n      formatResult (item) {\n        return item.name;\n      },\n      formatSearching: function() {\n        return Translator.trans('site.searching_hint');\n      },\n      multiple: true,\n      maximumSelectionSize: 20,\n      placeholder: Translator.trans('course_set.manage.tag_required_hint'),\n      width: 'off',\n      createSearchChoice () {\n        return null;\n      }\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/courseset-manage/base/base.js","import Base from './base';\nnew Base();\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/courseset-manage/base/index.js"],"sourceRoot":""}