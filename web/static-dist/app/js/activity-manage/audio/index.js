webpackJsonp(["app/js/activity-manage/audio/index"],[function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function d(){var e=$("#step2-form"),a=e.data("validator",a);a=e.validate({groups:{date:"minute second"},rules:{title:{required:!0,maxlength:50},content:"required",minute:"required unsigned_integer",second:"required second_range","ext[mediaId]":"required"},messages:{minute:{required:"请输入时长"},second:{required:"请输入时长"},"ext[mediaId]":"请上传或选择%display%"}})}var i=t("eca7a2561fa47d3f75f6"),r=n(i),o=t("f324dbdea53170d5000f");jQuery.validator.addMethod("unsigned_integer",function(e,a){return this.optional(a)||/^([1-9]\d*|0)$/.test(e)},"必须为非负整数"),jQuery.validator.addMethod("second_range",function(e,a){return this.optional(a)||/^([0-9]|[012345][0-9]|59)$/.test(e)},"秒数只能在0-59之间"),(0,o.showChooserType)($('[name="ext[mediaId]"]')),d(),$(".js-length").blur(function(){var e=$("#step2-form").data("validator");if(e&&e.form()){var a=0|parseInt($("#minute").val()),t=0|parseInt($("#second").val());$("#length").val(60*a+t)}});var s=new r.default,u=function(e){if((0,o.chooserUiClose)(),e.length){var a=parseInt(e.length/60),t=Math.round(e.length%60);$("#minute").val(a),$("#second").val(t),$("#length").val(60*a+t)}$('[name="ext[mediaId]"]').val(e.source),"self"==e.source?($("#ext_mediaId").val(e.id),$("#ext_mediaUri").val("")):($("#ext_mediaId").val(""),$("#ext_mediaUri").val(e.uri))};s.on("select",u)}]);