{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/courseset-manage/detail/index.js"],"names":["detail","init","initCkeditor","renderMultiGroupComponent","submitForm","CKEDITOR","replace","allowedContent","toolbar","filebrowserImageUploadUrl","$","data","elementId","name","datas","render","document","getElementById","click","event","publishAddMessage","currentTarget","button","submit","publish","channel","topic"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;KAEMA,M;AACJ,qBAAc;AAAA;;AACZ,UAAKC,IAAL;AACD;;;;4BAEM;AACL,YAAKC,YAAL;AACA,YAAKC,yBAAL,CAA+B,cAA/B,EAA+C,OAA/C;AACA,YAAKA,yBAAL,CAA+B,mBAA/B,EAAoD,WAApD;AACA,YAAKC,UAAL;AACD;;;oCAEc;AACbC,gBAASC,OAAT,CAAiB,SAAjB,EAA4B;AAC1BC,yBAAgB,IADU;AAE1BC,kBAAS,QAFiB;AAG1BC,oCAA2BC,EAAE,0BAAF,EAA8BC,IAA9B,CAAmC,gBAAnC;AAHD,QAA5B;AAKD;;;+CAEyBC,S,EAAWC,I,EAAM;AACzC,WAAIC,QAAQJ,EAAE,MAAME,SAAR,EAAmBD,IAAnB,CAAwB,YAAxB,CAAZ;AACA,0BAASI,MAAT,CAAgB;AACd,oBAAW,IADG;AAEd,mBAAU,IAFI;AAGd,qBAAYD,KAHE;AAId,oBAAWD,OAAO,IAJJ;AAKd,4BAAmBA,IALL,GAAhB,EAMEG,SAASC,cAAT,CAAwBL,SAAxB,CANF;AAQD;;;kCAEY;AAAA;;AACXF,SAAE,mBAAF,EAAuBQ,KAAvB,CAA6B,UAACC,KAAD,EAAW;AACtC,eAAKC,iBAAL;AACAV,WAAES,MAAME,aAAR,EAAuBC,MAAvB,CAA8B,SAA9B;AACAZ,WAAE,wBAAF,EAA4Ba,MAA5B;AACD,QAJD;AAKD;;;yCAEmB;AAClB,wBAAOC,OAAP,CAAe;AACbC,kBAAS,sBADI;AAEbC,gBAAO;AAFM,QAAf;AAID;;;;;;AAGH,KAAI1B,MAAJ,G","file":"app/js/courseset-manage/detail/index.js","sourcesContent":["import ReactDOM from 'react-dom';\nimport React from 'react';\nimport MultiInput from 'app/common/component/multi-input';\nimport postal from 'postal';\n\nclass detail {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.initCkeditor();\n    this.renderMultiGroupComponent('course-goals', 'goals');\n    this.renderMultiGroupComponent('intended-students', 'audiences');\n    this.submitForm();\n  }\n\n  initCkeditor() {\n    CKEDITOR.replace('summary', {\n      allowedContent: true,\n      toolbar: 'Detail',\n      filebrowserImageUploadUrl: $('#courseset-summary-field').data('imageUploadUrl')\n    });\n  }\n\n  renderMultiGroupComponent(elementId, name) {\n    let datas = $('#' + elementId).data('init-value');\n    ReactDOM.render(<MultiInput\n      blurIsAdd={true}\n      sortable={true}\n      dataSource={datas}\n      inputName={name + \"[]\"}\n      outputDataElement={name} />,\n      document.getElementById(elementId)\n    );\n  }\n\n  submitForm() {\n    $('#courseset-submit').click((event) => {\n      this.publishAddMessage();\n      $(event.currentTarget).button('loading');\n      $('#courseset-detail-form').submit();\n    });\n  }\n\n  publishAddMessage() {\n    postal.publish({\n      channel: \"courseInfoMultiInput\",\n      topic: \"addMultiInput\",\n    });\n  }\n}\n\nnew detail();\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/courseset-manage/detail/index.js"],"sourceRoot":""}