webpackJsonp(["app/js/question-manage/picker/index"],{0:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n("63fff8fb24f3bd1f61cd"),o=(i(r),n("747f91e0ad2f3f24118e")),a=i(o);new a.default($("#question-picker-body"),$("#question-checked-form"))},"747f91e0ad2f3f24118e":function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("63fff8fb24f3bd1f61cd"),c=(i(a),function(){function e(t,n){r(this,e),this.$pickBody=t,this.$modal=this.$pickBody.closest(".modal"),this.$form=n,this._initEvent()}return o(e,[{key:"_initEvent",value:function(){var e=this;this.$pickBody.find(".search-question-btn").on("click",function(t){return e._searchQuestion(t)}),this.$pickBody.find('[data-role="picked-item"]').on("click",function(t){return e._pickItem(t)}),this.$pickBody.find(".question-preview").on("click",function(t){return e._questionPreview(t)})}},{key:"_searchQuestion",value:function(e){var t=$(e.currentTarget),n=t.closest("form");e.preventDefault(),$.get(n.attr("action"),n.serialize(),function(e){t.closest(".modal").html(e)})}},{key:"_pickItem",value:function(e){var t=$(e.currentTarget),n=parseInt(t.data("replace")),i=this;$.get(t.data("url"),function(e){n?($("#question-item-"+n).parents("tbody").find("[data-parent-id="+n+"]").remove(),$("#question-item-"+n).replaceWith(e)):i.$form.find("tbody").append(e),i._refreshSeqs(),i._refreshPassedDivShow(),i.$modal.modal("hide"),i.emitter.trigger("question_picked")})}},{key:"_refreshSeqs",value:function(){var e=1;this.$form.find("tbody tr").each(function(t,n){var i=$(n);i.find("td.seq").html(e),e++})}},{key:"_refreshPassedDivShow",value:function(){var e=!1;if(this.$form.find("tbody tr").each(function(){"essay"!=$(this).data("type")&&"material"!=$(this).data("type")||(e=!0)}),e)$(".correctPercentDiv").html("");else{var t='这是一份纯客观题的作业，正确率达到为<input type="text" name="passedCondition[]" class="form-control width-input width-input-mini correctPercent1" value="60" />％合格，<input type="text" name="passedCondition[]" class="form-control width-input width-input-mini correctPercent2" value="80" />％良好，<input type="text" name="passedCondition[]" class="form-control width-input width-input-mini correctPercent3" value="100" />％优秀';$(".correctPercentDiv").html(t)}}},{key:"_questionPreview",value:function(e){window.open($(e.currentTarget).data("url"),"_blank","directories=0,height=580,width=820,scrollbars=1,toolbar=0,status=0,menubar=0,location=0")}}]),e}());t.default=c}});