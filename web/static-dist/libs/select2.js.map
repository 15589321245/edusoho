{"version":3,"sources":["webpack:///webpack/bootstrap d2872b6d6d9391c6275e?dfcf****************","webpack:///./app/Resources/static-src/libs/select2.js"],"names":["jQuery","window","$","fn","each2","extend","c","j","i","l","length","context","call","undefined","Select2","KEY","AbstractSelect2","SingleSelect2","MultiSelect2","nextUid","sizer","lastMousePosition","x","y","$document","scrollBarDimensions","TAB","ENTER","ESC","SPACE","LEFT","UP","RIGHT","DOWN","SHIFT","CTRL","ALT","PAGE_UP","PAGE_DOWN","HOME","END","BACKSPACE","DELETE","isArrow","k","which","isControl","e","metaKey","isFunctionKey","MEASURE_SCROLLBAR_TEMPLATE","document","counter","indexOf","value","array","equal","measureScrollbar","$template","appendTo","dim","width","clientWidth","height","clientHeight","remove","a","b","constructor","String","splitVal","string","separator","val","split","trim","getSideBorderPadding","element","outerWidth","installKeyUpChangeEvent","key","on","data","removeData","trigger","pageX","pageY","installFilteredMouseMove","lastpos","target","debounce","quietMillis","ctx","timeout","args","arguments","clearTimeout","setTimeout","apply","thunk","formula","evaluated","installDebouncedScroll","threshold","notify","get","focus","$el","activeElement","el","pos","range","is","setSelectionRange","createTextRange","collapse","select","getCursorInfo","offset","selectionStart","selectionEnd","sel","selection","createRange","text","moveStart","killEvent","event","preventDefault","stopPropagation","killEventImmediately","stopImmediatePropagation","measureTextWidth","style","currentStyle","getComputedStyle","createElement","css","position","left","top","display","fontSize","fontFamily","fontStyle","fontWeight","letterSpacing","textTransform","whiteSpace","attr","append","syncCssClasses","dest","src","adapter","classes","replacements","adapted","push","join","markMatch","term","markup","escapeMarkup","match","toUpperCase","tl","substring","defaultEscapeMarkup","replace_map","replace","ajax","options","requestSequence","handler","ajaxUrl","url","self","query","requestNumber","transport","select2","ajaxDefaults","deprecated","type","cache","jsonpCallback","dataType","params","page","abort","isFunction","success","results","callback","local","dataText","tmp","item","isArray","dataItem","t","filtered","process","datum","collection","group","children","hasOwnProperty","childDatum","matcher","tags","isFunc","each","isObject","id","checkFormatter","formatter","formatterName","Error","evaluate","countResults","count","defaultTokenizer","input","selectCallback","opts","original","dupe","token","index","createSearchChoice","tokenSeparators","clazz","SuperClass","methods","prototype","parent","Object","bind","func","init","search","resultsSelector","disabled","readonly","nodeSelector","prepareOpts","destroy","container","createContainer","containerId","containerSelector","body","closest","adaptContainerCssClass","containerCss","addClass","containerCssClass","elementTabIndex","before","dropdown","find","dropdownCssClass","resultsPage","initContainer","highlightUnderEvent","loadMoreIfNeeded","mousewheel","delta","deltaX","deltaY","scrollTop","scrollHeight","updateResults","removeClass","treeview","selectHighlighted","initSelection","monitorSource","maximumInputLength","prop","enable","autofocus","propertyObserver","off","tabindex","removeAttr","show","optionToData","locked","getChildrenByIndent","$node","$children","nextUntil","$nodesToNextRoot","filterVal","expandNode","isExpandAll","slideDown","$father","prevAll","first","hasClass","treeviewExpandedClass","hide","collapseNode","slideUp","idKey","tagName","toLowerCase","populateResults","populate","result","depth","selectable","compound","node","label","innerContainer","formatted","indentCount","sortResults","lastIndexOf","indentChar","RegExp","formatResultCssClass","formatResult","html","thisIndentCount","$icon","next","treeviewInitState","treeviewCollapsedClass","prepend","click","$that","$selectedNode","selectedNodeIndentCount","$rootParent","filter","defaults","more","placeholderOption","elm","getPlaceholder","getPlaceholderOption","not","sync","enabled","adaptDropdownCssClass","mutationCallback","mutations","forEach","WebKitMutationObserver","observe","attributes","subtree","triggerSelect","evt","Event","object","isDefaultPrevented","triggerChange","details","blurOnChange","blur","isInterfaceEnabled","enabledInterface","enableInterface","_enabled","_readonly","toggleClass","close","opened","positionDropdown","$dropdown","outerHeight","dropHeight","viewPortRight","scrollLeft","viewportBottom","dropTop","dropLeft","enoughRoomBelow","enoughRoomAbove","dropWidth","enoughRoomOnRight","aboveNow","bodyOffset","above","$resultsListNode","resultsList","dropdownAutoWidth","thisWidth","dropdownCss","shouldOpen","clearDropdownAlignmentPreference","open","opening","cid","scroll","resize","orient","mask","maskCss","last","detach","selectOnBlur","noFocus","prev","_makeMaskCss","that","parents","add","Math","max","documentElement","scrollWidth","empty","clearSearch","externalSearch","getMaximumSelectionSize","maximumSelectionSize","ensureHighlightVisible","child","hb","rb","highlight","findHighlightableChoices","moveHighlight","choices","choice","countSelectableResults","below","loadMorePadding","postprocessResults","formatLoadMore","tokenize","initial","lastTerm","showSearchInput","postRender","render","maxSelSize","formatSelectionTooBig","minimumInputLength","formatInputTooShort","showSearch","formatInputTooLong","formatSearching","def","unshift","formatNoMatches","items","cancel","focusSearch","highlighted","onSelect","placeholder","firstOption","initContainerWidth","resolveContainerWidth","attrs","matches","focusser","len","minimumResultsForSearch","isFocused","openOnEnter","altKey","ctrlKey","shiftKey","allowClear","clear","setPlaceholder","removed","selected","isPlaceholderOptionSelected","updateSelection","is_match","noop","noHighlightUpdate","min","old","oldData","added","cssClass","formatSelection","formatSelectionCssClass","ids","grep","ordered","splice","selectChoice","selector","searchContainer","_this","keydowns","selectedChoice","unselect","resizeSearch","clearPlaceholder","maxWidth","getMaxSearchWidth","getVal","addSelectedChoice","tokenizer","closeOnSelect","enableChoice","enabledItem","disabledItem","replaceWith","fadeOut","dequeue","insertBefore","setVal","minimumWidth","containerLeft","searchWidth","sideBorderPadding","unique","buildChangeDetails","current","slice","changeDetails","map","onSortStart","onSortEnd","values","Array","method","multiple","allowedMethods","valueMethods","methodsMap","n","limit","pageNumber","util","single","multi"],"mappings":"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","file":"libs/select2.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static-dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d2872b6d6d9391c6275e","/* eslint-disable */\nvar jQuery = window.$;\n    /*\nCopyright 2012 Igor Vaynberg\n\nVersion: 3.4.1 Timestamp: Thu Jun 27 18:02:10 PDT 2013\n\nThis software is licensed under the Apache License, Version 2.0 (the \"Apache License\") or the GNU\nGeneral Public License version 2 (the \"GPL License\"). You may choose either license to govern your\nuse of this software only upon the condition that you accept all of the terms of either the Apache\nLicense or the GPL License.\n\nYou may obtain a copy of the Apache License and the GPL License at:\n\n    http://www.apache.org/licenses/LICENSE-2.0\n    http://www.gnu.org/licenses/gpl-2.0.html\n\nUnless required by applicable law or agreed to in writing, software distributed under the\nApache License or the GPL Licesnse is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\nCONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for\nthe specific language governing permissions and limitations under the Apache License and the GPL License.\n*/\n    (function($) {\n        if (typeof $.fn.each2 == \"undefined\") {\n            $.fn.extend({\n                /*\n            * 4-10 times faster .each replacement\n            * use it carefully, as it overrides jQuery context of element on each iteration\n            */\n                each2: function(c) {\n                    var j = $([ 0 ]), i = -1, l = this.length;\n                    while (++i < l && (j.context = j[0] = this[i]) && c.call(j[0], i, j) !== false) ;\n                    return this;\n                }\n            });\n        }\n    })(jQuery);\n    (function($, undefined) {\n        \"use strict\";\n        /*global document, window, jQuery, console */\n        if (window.Select2 !== undefined) {\n            return;\n        }\n        var KEY, AbstractSelect2, SingleSelect2, MultiSelect2, nextUid, sizer, lastMousePosition = {\n            x: 0,\n            y: 0\n        }, $document, scrollBarDimensions, KEY = {\n            TAB: 9,\n            ENTER: 13,\n            ESC: 27,\n            SPACE: 32,\n            LEFT: 37,\n            UP: 38,\n            RIGHT: 39,\n            DOWN: 40,\n            SHIFT: 16,\n            CTRL: 17,\n            ALT: 18,\n            PAGE_UP: 33,\n            PAGE_DOWN: 34,\n            HOME: 36,\n            END: 35,\n            BACKSPACE: 8,\n            DELETE: 46,\n            isArrow: function(k) {\n                k = k.which ? k.which : k;\n                switch (k) {\n                  case KEY.LEFT:\n                  case KEY.RIGHT:\n                  case KEY.UP:\n                  case KEY.DOWN:\n                    return true;\n                }\n                return false;\n            },\n            isControl: function(e) {\n                var k = e.which;\n                switch (k) {\n                  case KEY.SHIFT:\n                  case KEY.CTRL:\n                  case KEY.ALT:\n                    return true;\n                }\n                if (e.metaKey) return true;\n                return false;\n            },\n            isFunctionKey: function(k) {\n                k = k.which ? k.which : k;\n                return k >= 112 && k <= 123;\n            }\n        }, MEASURE_SCROLLBAR_TEMPLATE = \"<div class='select2-measure-scrollbar'></div>\";\n        $document = $(document);\n        nextUid = function() {\n            var counter = 1;\n            return function() {\n                return counter++;\n            };\n        }();\n        function indexOf(value, array) {\n            var i = 0, l = array.length;\n            for (;i < l; i = i + 1) {\n                if (equal(value, array[i])) return i;\n            }\n            return -1;\n        }\n        function measureScrollbar() {\n            var $template = $(MEASURE_SCROLLBAR_TEMPLATE);\n            $template.appendTo(\"body\");\n            var dim = {\n                width: $template.width() - $template[0].clientWidth,\n                height: $template.height() - $template[0].clientHeight\n            };\n            $template.remove();\n            return dim;\n        }\n        /**\n     * Compares equality of a and b\n     * @param a\n     * @param b\n     */\n        function equal(a, b) {\n            if (a === b) return true;\n            if (a === undefined || b === undefined) return false;\n            if (a === null || b === null) return false;\n            // Check whether 'a' or 'b' is a string (primitive or object).\n            // The concatenation of an empty string (+'') converts its argument to a string's primitive.\n            if (a.constructor === String) return a + \"\" === b + \"\";\n            // a+'' - in case 'a' is a String object\n            if (b.constructor === String) return b + \"\" === a + \"\";\n            // b+'' - in case 'b' is a String object\n            return false;\n        }\n        /**\n     * Splits the string into an array of values, trimming each value. An empty array is returned for nulls or empty\n     * strings\n     * @param string\n     * @param separator\n     */\n        function splitVal(string, separator) {\n            var val, i, l;\n            if (string === null || string.length < 1) return [];\n            val = string.split(separator);\n            for (i = 0, l = val.length; i < l; i = i + 1) val[i] = $.trim(val[i]);\n            return val;\n        }\n        function getSideBorderPadding(element) {\n            return element.outerWidth(false) - element.width();\n        }\n        function installKeyUpChangeEvent(element) {\n            var key = \"keyup-change-value\";\n            element.on(\"keydown\", function() {\n                if ($.data(element, key) === undefined) {\n                    $.data(element, key, element.val());\n                }\n            });\n            element.on(\"keyup\", function() {\n                var val = $.data(element, key);\n                if (val !== undefined && element.val() !== val) {\n                    $.removeData(element, key);\n                    element.trigger(\"keyup-change\");\n                }\n            });\n        }\n        $document.on(\"mousemove\", function(e) {\n            lastMousePosition.x = e.pageX;\n            lastMousePosition.y = e.pageY;\n        });\n        /**\n     * filters mouse events so an event is fired only if the mouse moved.\n     *\n     * filters out mouse events that occur when mouse is stationary but\n     * the elements under the pointer are scrolled.\n     */\n        function installFilteredMouseMove(element) {\n            element.on(\"mousemove\", function(e) {\n                var lastpos = lastMousePosition;\n                if (lastpos === undefined || lastpos.x !== e.pageX || lastpos.y !== e.pageY) {\n                    $(e.target).trigger(\"mousemove-filtered\", e);\n                }\n            });\n        }\n        /**\n     * Debounces a function. Returns a function that calls the original fn function only if no invocations have been made\n     * within the last quietMillis milliseconds.\n     *\n     * @param quietMillis number of milliseconds to wait before invoking fn\n     * @param fn function to be debounced\n     * @param ctx object to be used as this reference within fn\n     * @return debounced version of fn\n     */\n        function debounce(quietMillis, fn, ctx) {\n            ctx = ctx || undefined;\n            var timeout;\n            return function() {\n                var args = arguments;\n                window.clearTimeout(timeout);\n                timeout = window.setTimeout(function() {\n                    fn.apply(ctx, args);\n                }, quietMillis);\n            };\n        }\n        /**\n     * A simple implementation of a thunk\n     * @param formula function used to lazily initialize the thunk\n     * @return {Function}\n     */\n        function thunk(formula) {\n            var evaluated = false, value;\n            return function() {\n                if (evaluated === false) {\n                    value = formula();\n                    evaluated = true;\n                }\n                return value;\n            };\n        }\n        function installDebouncedScroll(threshold, element) {\n            var notify = debounce(threshold, function(e) {\n                element.trigger(\"scroll-debounced\", e);\n            });\n            element.on(\"scroll\", function(e) {\n                if (indexOf(e.target, element.get()) >= 0) notify(e);\n            });\n        }\n        function focus($el) {\n            if ($el[0] === document.activeElement) return;\n            /* set the focus in a 0 timeout - that way the focus is set after the processing\n            of the current event has finished - which seems like the only reliable way\n            to set focus */\n            window.setTimeout(function() {\n                var el = $el[0], pos = $el.val().length, range;\n                $el.focus();\n                /* make sure el received focus so we do not error out when trying to manipulate the caret.\n                sometimes modals or others listeners may steal it after its set */\n                if ($el.is(\":visible\") && el === document.activeElement) {\n                    /* after the focus is set move the caret to the end, necessary when we val()\n                    just before setting focus */\n                    if (el.setSelectionRange) {\n                        el.setSelectionRange(pos, pos);\n                    } else if (el.createTextRange) {\n                        range = el.createTextRange();\n                        range.collapse(false);\n                        range.select();\n                    }\n                }\n            }, 0);\n        }\n        function getCursorInfo(el) {\n            el = $(el)[0];\n            var offset = 0;\n            var length = 0;\n            if (\"selectionStart\" in el) {\n                offset = el.selectionStart;\n                length = el.selectionEnd - offset;\n            } else if (\"selection\" in document) {\n                el.focus();\n                var sel = document.selection.createRange();\n                length = document.selection.createRange().text.length;\n                sel.moveStart(\"character\", -el.value.length);\n                offset = sel.text.length - length;\n            }\n            return {\n                offset: offset,\n                length: length\n            };\n        }\n        function killEvent(event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        function killEventImmediately(event) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n        }\n        function measureTextWidth(e) {\n            if (!sizer) {\n                var style = e[0].currentStyle || window.getComputedStyle(e[0], null);\n                sizer = $(document.createElement(\"div\")).css({\n                    position: \"absolute\",\n                    left: \"-10000px\",\n                    top: \"-10000px\",\n                    display: \"none\",\n                    fontSize: style.fontSize,\n                    fontFamily: style.fontFamily,\n                    fontStyle: style.fontStyle,\n                    fontWeight: style.fontWeight,\n                    letterSpacing: style.letterSpacing,\n                    textTransform: style.textTransform,\n                    whiteSpace: \"nowrap\"\n                });\n                sizer.attr(\"class\", \"select2-sizer\");\n                $(\"body\").append(sizer);\n            }\n            sizer.text(e.val());\n            return sizer.width();\n        }\n        function syncCssClasses(dest, src, adapter) {\n            var classes, replacements = [], adapted;\n            classes = dest.attr(\"class\");\n            if (classes) {\n                classes = \"\" + classes;\n                // for IE which returns object\n                $(classes.split(\" \")).each2(function() {\n                    if (this.indexOf(\"select2-\") === 0) {\n                        replacements.push(this);\n                    }\n                });\n            }\n            classes = src.attr(\"class\");\n            if (classes) {\n                classes = \"\" + classes;\n                // for IE which returns object\n                $(classes.split(\" \")).each2(function() {\n                    if (this.indexOf(\"select2-\") !== 0) {\n                        adapted = adapter(this);\n                        if (adapted) {\n                            replacements.push(this);\n                        }\n                    }\n                });\n            }\n            dest.attr(\"class\", replacements.join(\" \"));\n        }\n        function markMatch(text, term, markup, escapeMarkup) {\n            markup.push(\"<div class='select2-result-text'>\");\n            var match = text.toUpperCase().indexOf(term.toUpperCase()), tl = term.length;\n            if (match < 0) {\n                markup.push(escapeMarkup(text));\n                return;\n            }\n            markup.push(escapeMarkup(text.substring(0, match)));\n            markup.push(\"<span class='select2-match'>\");\n            markup.push(escapeMarkup(text.substring(match, match + tl)));\n            markup.push(\"</span>\");\n            markup.push(escapeMarkup(text.substring(match + tl, text.length)));\n            markup.push(\"</div>\");\n        }\n        function defaultEscapeMarkup(markup) {\n            var replace_map = {\n                \"\\\\\": \"&#92;\",\n                \"&\": \"&amp;\",\n                \"<\": \"&lt;\",\n                \">\": \"&gt;\",\n                '\"': \"&quot;\",\n                \"'\": \"&#39;\",\n                \"/\": \"&#47;\"\n            };\n            return String(markup).replace(/[&<>\"'\\/\\\\]/g, function(match) {\n                return replace_map[match];\n            });\n        }\n        /**\n     * Produces an ajax-based query function\n     *\n     * @param options object containing configuration paramters\n     * @param options.params parameter map for the transport ajax call, can contain such options as cache, jsonpCallback, etc. see $.ajax\n     * @param options.transport function that will be used to execute the ajax request. must be compatible with parameters supported by $.ajax\n     * @param options.url url for the data\n     * @param options.data a function(searchTerm, pageNumber, context) that should return an object containing query string parameters for the above url.\n     * @param options.dataType request data type: ajax, jsonp, other datatatypes supported by jQuery's $.ajax function or the transport function if specified\n     * @param options.quietMillis (optional) milliseconds to wait before making the ajaxRequest, helps debounce the ajax function if invoked too often\n     * @param options.results a function(remoteData, pageNumber) that converts data returned form the remote request to the format expected by Select2.\n     *      The expected format is an object containing the following keys:\n     *      results array of objects that will be used as choices\n     *      more (optional) boolean indicating whether there are more results available\n     *      Example: {results:[{id:1, text:'Red'},{id:2, text:'Blue'}], more:true}\n     */\n        function ajax(options) {\n            var timeout, // current scheduled but not yet executed request\n            requestSequence = 0, // sequence used to drop out-of-order responses\n            handler = null, quietMillis = options.quietMillis || 100, ajaxUrl = options.url, self = this;\n            return function(query) {\n                window.clearTimeout(timeout);\n                timeout = window.setTimeout(function() {\n                    requestSequence += 1;\n                    // increment the sequence\n                    var requestNumber = requestSequence, // this request's sequence number\n                    data = options.data, // ajax data function\n                    url = ajaxUrl, // ajax url string or function\n                    transport = options.transport || $.fn.select2.ajaxDefaults.transport, // deprecated - to be removed in 4.0  - use params instead\n                    deprecated = {\n                        type: options.type || \"GET\",\n                        // set type of request (GET or POST)\n                        cache: options.cache || false,\n                        jsonpCallback: options.jsonpCallback || undefined,\n                        dataType: options.dataType || \"json\"\n                    }, params = $.extend({}, $.fn.select2.ajaxDefaults.params, deprecated);\n                    data = data ? data.call(self, query.term, query.page, query.context) : null;\n                    url = typeof url === \"function\" ? url.call(self, query.term, query.page, query.context) : url;\n                    if (handler) {\n                        handler.abort();\n                    }\n                    if (options.params) {\n                        if ($.isFunction(options.params)) {\n                            $.extend(params, options.params.call(self));\n                        } else {\n                            $.extend(params, options.params);\n                        }\n                    }\n                    $.extend(params, {\n                        url: url,\n                        dataType: options.dataType,\n                        data: data,\n                        success: function(data) {\n                            if (requestNumber < requestSequence) {\n                                return;\n                            }\n                            // TODO - replace query.page with query so users have access to term, page, etc.\n                            var results = options.results(data, query.page);\n                            query.callback(results);\n                        }\n                    });\n                    handler = transport.call(self, params);\n                }, quietMillis);\n            };\n        }\n        /**\n     * Produces a query function that works with a local array\n     *\n     * @param options object containing configuration parameters. The options parameter can either be an array or an\n     * object.\n     *\n     * If the array form is used it is assumed that it contains objects with 'id' and 'text' keys.\n     *\n     * If the object form is used ti is assumed that it contains 'data' and 'text' keys. The 'data' key should contain\n     * an array of objects that will be used as choices. These objects must contain at least an 'id' key. The 'text'\n     * key can either be a String in which case it is expected that each element in the 'data' array has a key with the\n     * value of 'text' which will be used to match choices. Alternatively, text can be a function(item) that can extract\n     * the text.\n     */\n        function local(options) {\n            var data = options, // data elements\n            dataText, tmp, text = function(item) {\n                return \"\" + item.text;\n            };\n            // function used to retrieve the text portion of a data item that is matched against the search\n            if ($.isArray(data)) {\n                tmp = data;\n                data = {\n                    results: tmp\n                };\n            }\n            if ($.isFunction(data) === false) {\n                tmp = data;\n                data = function() {\n                    return tmp;\n                };\n            }\n            var dataItem = data();\n            if (dataItem.text) {\n                text = dataItem.text;\n                // if text is not a function we assume it to be a key name\n                if (!$.isFunction(text)) {\n                    dataText = dataItem.text;\n                    // we need to store this in a separate variable because in the next step data gets reset and data.text is no longer available\n                    text = function(item) {\n                        return item[dataText];\n                    };\n                }\n            }\n            return function(query) {\n                var t = query.term, filtered = {\n                    results: []\n                }, process;\n                if (t === \"\") {\n                    query.callback(data());\n                    return;\n                }\n                process = function(datum, collection) {\n                    var group, attr;\n                    datum = datum[0];\n                    if (datum.children) {\n                        group = {};\n                        for (attr in datum) {\n                            if (datum.hasOwnProperty(attr)) group[attr] = datum[attr];\n                        }\n                        group.children = [];\n                        $(datum.children).each2(function(i, childDatum) {\n                            process(childDatum, group.children);\n                        });\n                        if (group.children.length || query.matcher(t, text(group), datum)) {\n                            collection.push(group);\n                        }\n                    } else {\n                        if (query.matcher(t, text(datum), datum)) {\n                            collection.push(datum);\n                        }\n                    }\n                };\n                $(data().results).each2(function(i, datum) {\n                    process(datum, filtered.results);\n                });\n                query.callback(filtered);\n            };\n        }\n        // TODO javadoc\n        function tags(data) {\n            var isFunc = $.isFunction(data);\n            return function(query) {\n                var t = query.term, filtered = {\n                    results: []\n                };\n                $(isFunc ? data() : data).each(function() {\n                    var isObject = this.text !== undefined, text = isObject ? this.text : this;\n                    if (t === \"\" || query.matcher(t, text)) {\n                        filtered.results.push(isObject ? this : {\n                            id: this,\n                            text: this\n                        });\n                    }\n                });\n                query.callback(filtered);\n            };\n        }\n        /**\n     * Checks if the formatter function should be used.\n     *\n     * Throws an error if it is not a function. Returns true if it should be used,\n     * false if no formatting should be performed.\n     *\n     * @param formatter\n     */\n        function checkFormatter(formatter, formatterName) {\n            if ($.isFunction(formatter)) return true;\n            if (!formatter) return false;\n            throw new Error(formatterName + \" must be a function or a falsy value\");\n        }\n        function evaluate(val) {\n            return $.isFunction(val) ? val() : val;\n        }\n        function countResults(results) {\n            var count = 0;\n            $.each(results, function(i, item) {\n                if (item.children) {\n                    count += countResults(item.children);\n                } else {\n                    count++;\n                }\n            });\n            return count;\n        }\n        /**\n     * Default tokenizer. This function uses breaks the input on substring match of any string from the\n     * opts.tokenSeparators array and uses opts.createSearchChoice to create the choice object. Both of those\n     * two options have to be defined in order for the tokenizer to work.\n     *\n     * @param input text user has typed so far or pasted into the search field\n     * @param selection currently selected choices\n     * @param selectCallback function(choice) callback tho add the choice to selection\n     * @param opts select2's opts\n     * @return undefined/null to leave the current input unchanged, or a string to change the input to the returned value\n     */\n        function defaultTokenizer(input, selection, selectCallback, opts) {\n            var original = input, // store the original so we can compare and know if we need to tell the search to update its text\n            dupe = false, // check for whether a token we extracted represents a duplicate selected choice\n            token, // token\n            index, // position at which the separator was found\n            i, l, // looping variables\n            separator;\n            // the matched separator\n            if (!opts.createSearchChoice || !opts.tokenSeparators || opts.tokenSeparators.length < 1) return undefined;\n            while (true) {\n                index = -1;\n                for (i = 0, l = opts.tokenSeparators.length; i < l; i++) {\n                    separator = opts.tokenSeparators[i];\n                    index = input.indexOf(separator);\n                    if (index >= 0) break;\n                }\n                if (index < 0) break;\n                // did not find any token separator in the input string, bail\n                token = input.substring(0, index);\n                input = input.substring(index + separator.length);\n                if (token.length > 0) {\n                    token = opts.createSearchChoice.call(this, token, selection);\n                    if (token !== undefined && token !== null && opts.id(token) !== undefined && opts.id(token) !== null) {\n                        dupe = false;\n                        for (i = 0, l = selection.length; i < l; i++) {\n                            if (equal(opts.id(token), opts.id(selection[i]))) {\n                                dupe = true;\n                                break;\n                            }\n                        }\n                        if (!dupe) selectCallback(token);\n                    }\n                }\n            }\n            if (original !== input) return input;\n        }\n        /**\n     * Creates a new class\n     *\n     * @param superClass\n     * @param methods\n     */\n        function clazz(SuperClass, methods) {\n            var constructor = function() {};\n            constructor.prototype = new SuperClass();\n            constructor.prototype.constructor = constructor;\n            constructor.prototype.parent = SuperClass.prototype;\n            constructor.prototype = $.extend(constructor.prototype, methods);\n            return constructor;\n        }\n        AbstractSelect2 = clazz(Object, {\n            // abstract\n            bind: function(func) {\n                var self = this;\n                return function() {\n                    func.apply(self, arguments);\n                };\n            },\n            // abstract\n            init: function(opts) {\n                var results, search, resultsSelector = \".select2-results\", disabled, readonly, nodeSelector = \".select2-result\";\n                // prepare options\n                this.opts = opts = this.prepareOpts(opts);\n                this.id = opts.id;\n                // destroy if called on an existing component\n                if (opts.element.data(\"select2\") !== undefined && opts.element.data(\"select2\") !== null) {\n                    opts.element.data(\"select2\").destroy();\n                }\n                this.container = this.createContainer();\n                this.containerId = \"s2id_\" + (opts.element.attr(\"id\") || \"autogen\" + nextUid());\n                this.containerSelector = \"#\" + this.containerId.replace(/([;&,\\.\\+\\*\\~':\"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, \"\\\\$1\");\n                this.container.attr(\"id\", this.containerId);\n                // cache the body so future lookups are cheap\n                this.body = thunk(function() {\n                    return opts.element.closest(\"body\");\n                });\n                syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass);\n                this.container.css(evaluate(opts.containerCss));\n                this.container.addClass(evaluate(opts.containerCssClass));\n                this.elementTabIndex = this.opts.element.attr(\"tabindex\");\n                // swap container for the element\n                this.opts.element.data(\"select2\", this).attr(\"tabindex\", \"-1\").before(this.container);\n                this.container.data(\"select2\", this);\n                this.dropdown = this.container.find(\".select2-drop\");\n                this.dropdown.addClass(evaluate(opts.dropdownCssClass));\n                this.dropdown.data(\"select2\", this);\n                this.results = results = this.container.find(resultsSelector);\n                this.search = search = this.container.find(\"input.select2-input\");\n                this.resultsPage = 0;\n                this.context = null;\n                // initialize the container\n                this.initContainer();\n                installFilteredMouseMove(this.results);\n                this.dropdown.on(\"mousemove-filtered touchstart touchmove touchend\", resultsSelector, this.bind(this.highlightUnderEvent));\n                installDebouncedScroll(80, this.results);\n                this.dropdown.on(\"scroll-debounced\", resultsSelector, this.bind(this.loadMoreIfNeeded));\n                // do not propagate change event from the search field out of the component\n                $(this.container).on(\"change\", \".select2-input\", function(e) {\n                    e.stopPropagation();\n                });\n                $(this.dropdown).on(\"change\", \".select2-input\", function(e) {\n                    e.stopPropagation();\n                });\n                // if jquery.mousewheel plugin is installed we can prevent out-of-bounds scrolling of results via mousewheel\n                if ($.fn.mousewheel) {\n                    results.mousewheel(function(e, delta, deltaX, deltaY) {\n                        var top = results.scrollTop(), height;\n                        if (deltaY > 0 && top - deltaY <= 0) {\n                            results.scrollTop(0);\n                            killEvent(e);\n                        } else if (deltaY < 0 && results.get(0).scrollHeight - results.scrollTop() + deltaY <= results.height()) {\n                            results.scrollTop(results.get(0).scrollHeight - results.height());\n                            killEvent(e);\n                        }\n                    });\n                }\n                installKeyUpChangeEvent(search);\n                search.on(\"keyup-change input paste\", this.bind(this.updateResults));\n                search.on(\"focus\", function() {\n                    search.addClass(\"select2-focused\");\n                });\n                search.on(\"blur\", function() {\n                    search.removeClass(\"select2-focused\");\n                });\n                if (this.opts.treeview) {\n                    nodeSelector = \".select2-result-text\";\n                }\n                this.dropdown.on(\"mouseup\", nodeSelector, this.bind(function(e) {\n                    if ($(e.target).closest(\".select2-result-selectable\").length > 0) {\n                        this.highlightUnderEvent(e);\n                        this.selectHighlighted(e);\n                    }\n                }));\n                // trap all mouse events from leaving the dropdown. sometimes there may be a modal that is listening\n                // for mouse events outside of itself so it can close itself. since the dropdown is now outside the select2's\n                // dom it will trigger the popup close, which is not what we want\n                this.dropdown.on(\"click mouseup mousedown\", function(e) {\n                    e.stopPropagation();\n                });\n                if ($.isFunction(this.opts.initSelection)) {\n                    // initialize selection based on the current value of the source element\n                    this.initSelection();\n                    // if the user has provided a function that can set selection based on the value of the source element\n                    // we monitor the change event on the element and trigger it, allowing for two way synchronization\n                    this.monitorSource();\n                }\n                if (opts.maximumInputLength !== null) {\n                    this.search.attr(\"maxlength\", opts.maximumInputLength);\n                }\n                var disabled = opts.element.prop(\"disabled\");\n                if (disabled === undefined) disabled = false;\n                this.enable(!disabled);\n                var readonly = opts.element.prop(\"readonly\");\n                if (readonly === undefined) readonly = false;\n                this.readonly(readonly);\n                // Calculate size of scrollbar\n                scrollBarDimensions = scrollBarDimensions || measureScrollbar();\n                this.autofocus = opts.element.prop(\"autofocus\");\n                opts.element.prop(\"autofocus\", false);\n                if (this.autofocus) this.focus();\n            },\n            // abstract\n            destroy: function() {\n                var element = this.opts.element, select2 = element.data(\"select2\");\n                if (this.propertyObserver) {\n                    delete this.propertyObserver;\n                    this.propertyObserver = null;\n                }\n                if (select2 !== undefined) {\n                    select2.container.remove();\n                    select2.dropdown.remove();\n                    element.removeClass(\"select2-offscreen\").removeData(\"select2\").off(\".select2\").prop(\"autofocus\", this.autofocus || false);\n                    if (this.elementTabIndex) {\n                        element.attr({\n                            tabindex: this.elementTabIndex\n                        });\n                    } else {\n                        element.removeAttr(\"tabindex\");\n                    }\n                    element.show();\n                }\n            },\n            // abstract\n            optionToData: function(element) {\n                if (element.is(\"option\")) {\n                    return {\n                        id: element.prop(\"value\"),\n                        text: element.text(),\n                        element: element.get(),\n                        css: element.attr(\"class\"),\n                        disabled: element.prop(\"disabled\"),\n                        locked: equal(element.attr(\"locked\"), \"locked\") || equal(element.data(\"locked\"), true)\n                    };\n                } else if (element.is(\"optgroup\")) {\n                    return {\n                        text: element.attr(\"label\"),\n                        children: [],\n                        element: element.get(),\n                        css: element.attr(\"class\")\n                    };\n                }\n            },\n            // abstract\n            getChildrenByIndent: function($node) {\n                var $children = $node.nextUntil('[data-indent-count=\"' + $node.data('indent-count') + '\"]');\n                var $nodesToNextRoot = $node.nextUntil('[data-indent-count=\"0\"]');\n                /**\n                 * fix status blow\n                 * 0\n                 *  1\n                 *   2\n                 *    3\n                 *  1\n                 * when get level 2's children, last level 1 node was included\n                 */\n                if ($children.length > $nodesToNextRoot.length) {\n                    return $nodesToNextRoot;\n                }\n                return $children;\n            },\n            // abstract\n            filterVal: function(val) {\n                return val.replace(/[\\.]/g, '-').replace(/-$/g, '');\n            },\n            // abstract\n            expandNode: function($node, isExpandAll) {\n                var self = this;\n                var $children = self.getChildrenByIndent($node);\n                $children.slideDown();\n                $children.each2(function() {\n                    var $father = $(this).prevAll('[data-indent-count=\"' + ($(this).data('indent-count') - 1) + '\"]').first();\n                    if ($father.hasClass('collapsed')) {\n                        if (isExpandAll) {\n                            $father.removeClass('collapsed').addClass('expanded');\n                            $father.find('.select2-tree-icon').addClass(self.opts.treeviewExpandedClass);\n                        } else {\n                            $(this).hide();\n                        }\n                    }\n                });\n            },\n            // abstract\n            collapseNode: function($node) {\n                var $children = this.getChildrenByIndent($node);\n                $children.slideUp();\n            },\n            // abstract\n            prepareOpts: function(opts) {\n                var element, select, idKey, ajaxUrl, self = this;\n                element = opts.element;\n                if (element.get(0).tagName.toLowerCase() === \"select\") {\n                    this.select = select = opts.element;\n                }\n                if (select) {\n                    // these options are not allowed when attached to a select because they are picked up off the element itself\n                    $.each([ \"id\", \"multiple\", \"ajax\", \"query\", \"createSearchChoice\", \"initSelection\", \"data\", \"tags\" ], function() {\n                        if (this in opts) {\n                            throw new Error(\"Option '\" + this + \"' is not allowed for Select2 when attached to a <select> element.\");\n                        }\n                    });\n                }\n                opts = $.extend({}, {\n                    populateResults: function(container, results, query) {\n                        var populate, data, result, children, id = this.opts.id;\n                        populate = function(results, container, depth) {\n                            var i, l, result, selectable, disabled, compound, node, label, innerContainer, formatted, indentCount = 0;\n                            results = opts.sortResults(results, container, query);\n                            for (i = 0, l = results.length; i < l; i = i + 1) {\n                                result = results[i];\n                                disabled = result.disabled === true;\n                                selectable = !disabled && id(result) !== undefined;\n                                compound = result.children && result.children.length > 0;\n                                if (opts.treeview) {\n                                    indentCount = result.text.lastIndexOf(opts.indentChar) + 1;\n                                    result.text = result.text.replace(new RegExp(\"^\" + opts.indentChar + \"*\"), '');\n                                }\n                                node = $(\"<li></li>\");\n                                node.attr(\"id\", \"select2-result-\" + self.filterVal(result.id));\n                                node.attr(\"data-indent-count\", indentCount);\n                                node.addClass(\"select2-results-dept-\" + depth);\n                                node.addClass(\"select2-result\");\n                                node.addClass(selectable ? \"select2-result-selectable\" : \"select2-result-unselectable\");\n                                if (disabled) {\n                                    node.addClass(\"select2-disabled\");\n                                }\n                                if (compound) {\n                                    node.addClass(\"select2-result-with-children\");\n                                }\n                                node.addClass(self.opts.formatResultCssClass(result));\n                                label = $(document.createElement(\"div\"));\n                                label.addClass(\"select2-result-label\");\n                                label.css({'padding-left': 5 + 15 * indentCount});\n                                formatted = opts.formatResult(result, label, query, self.opts.escapeMarkup);\n                                if (formatted !== undefined) {\n                                    label.html(formatted);\n                                }\n                                node.append(label);\n                                if (compound) {\n                                    innerContainer = $(\"<ul></ul>\");\n                                    innerContainer.addClass(\"select2-result-sub\");\n                                    populate(result.children, innerContainer, depth + 1);\n                                    node.append(innerContainer);\n                                }\n                                node.data(\"select2-data\", result);\n                                container.append(node);\n                            }\n                        };\n                        populate(results, container, 0);\n\n                        //treeview\n                        if (opts.treeview) {\n                            // init tree state\n                            $('.select2-result').each2(function() {\n                                var thisIndentCount = $(this).data('indent-count');\n                                var $icon = $('<i class=\"select2-tree-icon\"></i>');\n                                if ($(this).next().length > 0 && $(this).next().data('indentCount') > thisIndentCount) {\n                                    var $children = self.getChildrenByIndent($(this));\n                                    if ($children.length > 0) {\n                                        $(this).addClass('select2-result-parent');\n                                        if (opts.treeviewInitState == 'expanded' || query.term) {\n                                            $(this).addClass('expanded');\n                                            $icon.addClass(opts.treeviewExpandedClass);\n                                        } else {\n                                            $(this).addClass('collapsed');\n                                            $children.hide();\n                                            $icon.addClass(opts.treeviewCollapsedClass);\n                                        }\n                                    }\n                                }\n                                $(this).find('.select2-result-label').prepend($icon);\n                            });\n\n                            $('.select2-tree-icon').click(function() {\n                                var $that = $(this);\n                                var $node = $that.closest('li.select2-result');\n                                \n                                if ($node.hasClass('expanded')) {\n                                    $node.removeClass('expanded').addClass('collapsed');\n                                    $that.removeClass(opts.treeviewExpandedClass).addClass(opts.treeviewCollapsedClass);\n                                    //collapse\n                                    self.collapseNode($node);\n                                } else {\n                                    $node.removeClass('collapsed').addClass('expanded');\n                                    $that.removeClass(opts.treeviewCollapsedClass).addClass(opts.treeviewExpandedClass);\n                                    //expand\n                                    self.expandNode($node, false);\n                                }\n                                \n                            });\n\n                            //auto expand current selected node's all parent when dropdown\n                            if (self.opts.element.val()) {\n                                var $selectedNode = $('#select2-result-' + self.filterVal(self.opts.element.val()));\n                                var selectedNodeIndentCount = $selectedNode.data('indentCount');\n\n                                // show brother node\n                                // $selectedNode.show();\n                                // $selectedNode.nextUntil('[data-indent-count=\"' + (selectedNodeIndentCount - 1 ) + '\"]').show();\n\n                                //show all parent node\n                                // var $rootParent;\n                                // for (var i = selectedNodeIndentCount - 1; i >= 0; i--) {\n                                //     var $parent = $selectedNode.prevAll('[data-indent-count=\"' + i + '\"]').filter('.select2-result-parent').first();\n                                //     if ($parent.length > 0) {\n                                //         $rootParent = $parent;\n                                //     }\n                                // }\n                                \n                                if (selectedNodeIndentCount > 0) {\n                                    var $rootParent = $selectedNode.prevAll('[data-indent-count=\"0\"]').filter('.select2-result-parent').first();\n                                    self.expandNode($rootParent, true);\n                                }\n                                \n                            }\n                        }\n                    }\n                }, $.fn.select2.defaults, opts);\n                if (typeof opts.id !== \"function\") {\n                    idKey = opts.id;\n                    opts.id = function(e) {\n                        return e[idKey];\n                    };\n                }\n                if ($.isArray(opts.element.data(\"select2Tags\"))) {\n                    if (\"tags\" in opts) {\n                        throw \"tags specified as both an attribute 'data-select2-tags' and in options of Select2 \" + opts.element.attr(\"id\");\n                    }\n                    opts.tags = opts.element.data(\"select2Tags\");\n                }\n                if (select) {\n                    opts.query = this.bind(function(query) {\n                        var data = {\n                            results: [],\n                            more: false\n                        }, term = query.term, children, placeholderOption, process;\n                        process = function(element, collection) {\n                            var group;\n                            if (element.is(\"option\")) {\n                                if (query.matcher(term, element.text(), element)) {\n                                    collection.push(self.optionToData(element));\n                                }\n                            } else if (element.is(\"optgroup\")) {\n                                group = self.optionToData(element);\n                                element.children().each2(function(i, elm) {\n                                    process(elm, group.children);\n                                });\n                                if (group.children.length > 0) {\n                                    collection.push(group);\n                                }\n                            }\n                        };\n                        children = element.children();\n                        // ignore the placeholder option if there is one\n                        if (this.getPlaceholder() !== undefined && children.length > 0) {\n                            placeholderOption = this.getPlaceholderOption();\n                            if (placeholderOption) {\n                                children = children.not(placeholderOption);\n                            }\n                        }\n                        children.each2(function(i, elm) {\n                            process(elm, data.results);\n                        });\n                        query.callback(data);\n                    });\n                    // this is needed because inside val() we construct choices from options and there id is hardcoded\n                    opts.id = function(e) {\n                        return e.id;\n                    };\n                    opts.formatResultCssClass = function(data) {\n                        return data.css;\n                    };\n                } else {\n                    if (!(\"query\" in opts)) {\n                        if (\"ajax\" in opts) {\n                            ajaxUrl = opts.element.data(\"ajax-url\");\n                            if (ajaxUrl && ajaxUrl.length > 0) {\n                                opts.ajax.url = ajaxUrl;\n                            }\n                            opts.query = ajax.call(opts.element, opts.ajax);\n                        } else if (\"data\" in opts) {\n                            opts.query = local(opts.data);\n                        } else if (\"tags\" in opts) {\n                            opts.query = tags(opts.tags);\n                            if (opts.createSearchChoice === undefined) {\n                                opts.createSearchChoice = function(term) {\n                                    return {\n                                        id: term,\n                                        text: term\n                                    };\n                                };\n                            }\n                            if (opts.initSelection === undefined) {\n                                opts.initSelection = function(element, callback) {\n                                    var data = [];\n                                    $(splitVal(element.val(), opts.separator)).each(function() {\n                                        var id = this, text = this, tags = opts.tags;\n                                        if ($.isFunction(tags)) tags = tags();\n                                        $(tags).each(function() {\n                                            if (equal(this.id, id)) {\n                                                text = this.text;\n                                                return false;\n                                            }\n                                        });\n                                        data.push({\n                                            id: id,\n                                            text: text\n                                        });\n                                    });\n                                    callback(data);\n                                };\n                            }\n                        }\n                    }\n                }\n                if (typeof opts.query !== \"function\") {\n                    throw \"query function not defined for Select2 \" + opts.element.attr(\"id\");\n                }\n                return opts;\n            },\n            /**\n         * Monitor the original element for changes and update select2 accordingly\n         */\n            // abstract\n            monitorSource: function() {\n                var el = this.opts.element, sync;\n                el.on(\"change.select2\", this.bind(function(e) {\n                    if (this.opts.element.data(\"select2-change-triggered\") !== true) {\n                        this.initSelection();\n                    }\n                }));\n                sync = this.bind(function() {\n                    var enabled, readonly, self = this;\n                    // sync enabled state\n                    var disabled = el.prop(\"disabled\");\n                    if (disabled === undefined) disabled = false;\n                    this.enable(!disabled);\n                    var readonly = el.prop(\"readonly\");\n                    if (readonly === undefined) readonly = false;\n                    this.readonly(readonly);\n                    syncCssClasses(this.container, this.opts.element, this.opts.adaptContainerCssClass);\n                    this.container.addClass(evaluate(this.opts.containerCssClass));\n                    syncCssClasses(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass);\n                    this.dropdown.addClass(evaluate(this.opts.dropdownCssClass));\n                });\n                // mozilla and IE\n                el.on(\"propertychange.select2 DOMAttrModified.select2\", sync);\n                // hold onto a reference of the callback to work around a chromium bug\n                if (this.mutationCallback === undefined) {\n                    this.mutationCallback = function(mutations) {\n                        mutations.forEach(sync);\n                    };\n                }\n                // safari and chrome\n                if (typeof WebKitMutationObserver !== \"undefined\") {\n                    if (this.propertyObserver) {\n                        delete this.propertyObserver;\n                        this.propertyObserver = null;\n                    }\n                    this.propertyObserver = new WebKitMutationObserver(this.mutationCallback);\n                    this.propertyObserver.observe(el.get(0), {\n                        attributes: true,\n                        subtree: false\n                    });\n                }\n            },\n            // abstract\n            triggerSelect: function(data) {\n                var evt = $.Event(\"select2-selecting\", {\n                    val: this.id(data),\n                    object: data\n                });\n                this.opts.element.trigger(evt);\n                return !evt.isDefaultPrevented();\n            },\n            /**\n         * Triggers the change event on the source element\n         */\n            // abstract\n            triggerChange: function(details) {\n                details = details || {};\n                details = $.extend({}, details, {\n                    type: \"change\",\n                    val: this.val()\n                });\n                // prevents recursive triggering\n                this.opts.element.data(\"select2-change-triggered\", true);\n                this.opts.element.trigger(details);\n                this.opts.element.data(\"select2-change-triggered\", false);\n                // some validation frameworks ignore the change event and listen instead to keyup, click for selects\n                // so here we trigger the click event manually\n                this.opts.element.click();\n                // ValidationEngine ignorea the change event and listens instead to blur\n                // so here we trigger the blur event manually if so desired\n                if (this.opts.blurOnChange) this.opts.element.blur();\n            },\n            //abstract\n            isInterfaceEnabled: function() {\n                return this.enabledInterface === true;\n            },\n            // abstract\n            enableInterface: function() {\n                var enabled = this._enabled && !this._readonly, disabled = !enabled;\n                if (enabled === this.enabledInterface) return false;\n                this.container.toggleClass(\"select2-container-disabled\", disabled);\n                this.close();\n                this.enabledInterface = enabled;\n                return true;\n            },\n            // abstract\n            enable: function(enabled) {\n                if (enabled === undefined) enabled = true;\n                if (this._enabled === enabled) return false;\n                this._enabled = enabled;\n                this.opts.element.prop(\"disabled\", !enabled);\n                this.enableInterface();\n                return true;\n            },\n            // abstract\n            readonly: function(enabled) {\n                if (enabled === undefined) enabled = false;\n                if (this._readonly === enabled) return false;\n                this._readonly = enabled;\n                this.opts.element.prop(\"readonly\", enabled);\n                this.enableInterface();\n                return true;\n            },\n            // abstract\n            opened: function() {\n                return this.container.hasClass(\"select2-dropdown-open\");\n            },\n            // abstract\n            positionDropdown: function() {\n                var $dropdown = this.dropdown, offset = this.container.offset(), height = this.container.outerHeight(false), width = this.container.outerWidth(false), dropHeight = $dropdown.outerHeight(false), viewPortRight = $(window).scrollLeft() + $(window).width(), viewportBottom = $(window).scrollTop() + $(window).height(), dropTop = offset.top + height, dropLeft = offset.left, enoughRoomBelow = dropTop + dropHeight <= viewportBottom, enoughRoomAbove = offset.top - dropHeight >= this.body().scrollTop(), dropWidth = 0, enoughRoomOnRight = dropLeft + dropWidth <= viewPortRight, aboveNow = $dropdown.hasClass(\"select2-drop-above\"), bodyOffset, above, css, $resultsListNode, resultsList;\n                if (this.opts.dropdownAutoWidth) {\n                    $resultsListNode = $(\".select2-result\", $dropdown);\n                    $dropdown.addClass(\"select2-drop-auto-width\");\n                    $dropdown.css(\"width\", \"\");\n                    // set dropdown width to longest node content's width\n                    $resultsListNode.each2(function() {\n                        var thisWidth = $(this).data('indentCount') * 25 + $(this).find('.select2-result-text').text().length * 14;\n                        dropWidth = dropWidth > thisWidth ? dropWidth : thisWidth;\n                    });\n                    resultsList = $(\".select2-results\", $dropdown)[0];\n                    dropWidth += (resultsList.scrollHeight === resultsList.clientHeight ? 0 : scrollBarDimensions.width);\n                    \n                    dropWidth > width ? width = dropWidth : dropWidth = width;\n                    enoughRoomOnRight = dropLeft + dropWidth <= viewPortRight;\n                } else {\n                    this.container.removeClass(\"select2-drop-auto-width\");\n                }\n                //console.log(\"below/ droptop:\", dropTop, \"dropHeight\", dropHeight, \"sum\", (dropTop+dropHeight)+\" viewport bottom\", viewportBottom, \"enough?\", enoughRoomBelow);\n                //console.log(\"above/ offset.top\", offset.top, \"dropHeight\", dropHeight, \"top\", (offset.top-dropHeight), \"scrollTop\", this.body().scrollTop(), \"enough?\", enoughRoomAbove);\n                // fix positioning when body has an offset and is not position: static\n                if (this.body().css(\"position\") !== \"static\") {\n                    bodyOffset = this.body().offset();\n                    dropTop -= bodyOffset.top;\n                    dropLeft -= bodyOffset.left;\n                }\n                // always prefer the current above/below alignment, unless there is not enough room\n                if (aboveNow) {\n                    above = true;\n                    if (!enoughRoomAbove && enoughRoomBelow) above = false;\n                } else {\n                    above = false;\n                    if (!enoughRoomBelow && enoughRoomAbove) above = true;\n                }\n                if (!enoughRoomOnRight) {\n                    dropLeft = offset.left + width - dropWidth;\n                }\n                if (above) {\n                    dropTop = offset.top - dropHeight;\n                    this.container.addClass(\"select2-drop-above\");\n                    $dropdown.addClass(\"select2-drop-above\");\n                } else {\n                    this.container.removeClass(\"select2-drop-above\");\n                    $dropdown.removeClass(\"select2-drop-above\");\n                }\n                css = $.extend({\n                    top: dropTop,\n                    left: dropLeft,\n                    width: width\n                }, evaluate(this.opts.dropdownCss));\n                $dropdown.css(css);\n            },\n            // abstract\n            shouldOpen: function() {\n                var event;\n                if (this.opened()) return false;\n                if (this._enabled === false || this._readonly === true) return false;\n                event = $.Event(\"select2-opening\");\n                this.opts.element.trigger(event);\n                return !event.isDefaultPrevented();\n            },\n            // abstract\n            clearDropdownAlignmentPreference: function() {\n                // clear the classes used to figure out the preference of where the dropdown should be opened\n                this.container.removeClass(\"select2-drop-above\");\n                this.dropdown.removeClass(\"select2-drop-above\");\n            },\n            /**\n         * Opens the dropdown\n         *\n         * @return {Boolean} whether or not dropdown was opened. This method will return false if, for example,\n         * the dropdown is already open, or if the 'open' event listener on the element called preventDefault().\n         */\n            // abstract\n            open: function() {\n                if (!this.shouldOpen()) return false;\n                this.opening();\n                return true;\n            },\n            /**\n         * Performs the opening of the dropdown\n         */\n            // abstract\n            opening: function() {\n                var cid = this.containerId, scroll = \"scroll.\" + cid, resize = \"resize.\" + cid, orient = \"orientationchange.\" + cid, mask, maskCss;\n                this.container.addClass(\"select2-dropdown-open\").addClass(\"select2-container-active\");\n                this.clearDropdownAlignmentPreference();\n                if (this.dropdown[0] !== this.body().children().last()[0]) {\n                    this.dropdown.detach().appendTo(this.body());\n                }\n                // create the dropdown mask if doesnt already exist\n                mask = $(\"#select2-drop-mask\");\n                if (mask.length == 0) {\n                    mask = $(document.createElement(\"div\"));\n                    mask.attr(\"id\", \"select2-drop-mask\").attr(\"class\", \"select2-drop-mask\");\n                    mask.hide();\n                    mask.appendTo(this.body());\n                    mask.on(\"mousedown touchstart click\", function(e) {\n                        var dropdown = $(\"#select2-drop\"), self;\n                        if (dropdown.length > 0) {\n                            self = dropdown.data(\"select2\");\n                            if (self.opts.selectOnBlur) {\n                                self.selectHighlighted({\n                                    noFocus: true\n                                });\n                            }\n                            self.close();\n                            e.preventDefault();\n                            e.stopPropagation();\n                        }\n                    });\n                }\n                // ensure the mask is always right before the dropdown\n                if (this.dropdown.prev()[0] !== mask[0]) {\n                    this.dropdown.before(mask);\n                }\n                // move the global id to the correct dropdown\n                $(\"#select2-drop\").removeAttr(\"id\");\n                this.dropdown.attr(\"id\", \"select2-drop\");\n                // show the elements\n                maskCss = _makeMaskCss();\n                mask.css(maskCss).show();\n                this.dropdown.show();\n                this.positionDropdown();\n                this.dropdown.addClass(\"select2-drop-active\");\n                // attach listeners to events that can change the position of the container and thus require\n                // the position of the dropdown to be updated as well so it does not come unglued from the container\n                var that = this;\n                this.container.parents().add(window).each(function() {\n                    $(this).on(resize + \" \" + scroll + \" \" + orient, function(e) {\n                        var maskCss = _makeMaskCss();\n                        $(\"#select2-drop-mask\").css(maskCss);\n                        that.positionDropdown();\n                    });\n                });\n                function _makeMaskCss() {\n                    return {\n                        width: Math.max(document.documentElement.scrollWidth, $(window).width()),\n                        height: Math.max(document.documentElement.scrollHeight, $(window).height())\n                    };\n                }\n            },\n            // abstract\n            close: function() {\n                if (!this.opened()) return;\n                var cid = this.containerId, scroll = \"scroll.\" + cid, resize = \"resize.\" + cid, orient = \"orientationchange.\" + cid;\n                // unbind event listeners\n                this.container.parents().add(window).each(function() {\n                    $(this).off(scroll).off(resize).off(orient);\n                });\n                this.clearDropdownAlignmentPreference();\n                $(\"#select2-drop-mask\").hide();\n                this.dropdown.removeAttr(\"id\");\n                // only the active dropdown has the select2-drop id\n                this.dropdown.hide();\n                this.container.removeClass(\"select2-dropdown-open\");\n                this.results.empty();\n                this.clearSearch();\n                this.search.removeClass(\"select2-active\");\n                this.opts.element.trigger($.Event(\"select2-close\"));\n            },\n            /**\n         * Opens control, sets input value, and updates results.\n         */\n            // abstract\n            externalSearch: function(term) {\n                this.open();\n                this.search.val(term);\n                this.updateResults(false);\n            },\n            // abstract\n            clearSearch: function() {},\n            //abstract\n            getMaximumSelectionSize: function() {\n                return evaluate(this.opts.maximumSelectionSize);\n            },\n            // abstract\n            ensureHighlightVisible: function() {\n                var results = this.results, children, index, child, hb, rb, y, more;\n                index = this.highlight();\n                if (index < 0) return;\n                if (index == 0) {\n                    // if the first element is highlighted scroll all the way to the top,\n                    // that way any unselectable headers above it will also be scrolled\n                    // into view\n                    results.scrollTop(0);\n                    return;\n                }\n                children = this.findHighlightableChoices().find(\".select2-result-label\");\n                child = $(children[index]);\n                hb = child.offset().top + child.outerHeight(true);\n                // if this is the last child lets also make sure select2-more-results is visible\n                if (index === children.length - 1) {\n                    more = results.find(\"li.select2-more-results\");\n                    if (more.length > 0) {\n                        hb = more.offset().top + more.outerHeight(true);\n                    }\n                }\n                rb = results.offset().top + results.outerHeight(true);\n                if (hb > rb) {\n                    results.scrollTop(results.scrollTop() + (hb - rb));\n                }\n                y = child.offset().top - results.offset().top;\n                // make sure the top of the element is visible\n                if (y < 0 && child.css(\"display\") != \"none\") {\n                    results.scrollTop(results.scrollTop() + y);\n                }\n            },\n            // abstract\n            findHighlightableChoices: function() {\n                return this.results.find(\".select2-result-selectable:not(.select2-selected):not(.select2-disabled)\");\n            },\n            // abstract\n            moveHighlight: function(delta) {\n                var choices = this.findHighlightableChoices(), index = this.highlight();\n                while (index > -1 && index < choices.length) {\n                    index += delta;\n                    var choice = $(choices[index]);\n                    if (choice.hasClass(\"select2-result-selectable\") && !choice.hasClass(\"select2-disabled\") && !choice.hasClass(\"select2-selected\")) {\n                        this.highlight(index);\n                        break;\n                    }\n                }\n            },\n            // abstract\n            highlight: function(index) {\n                var choices = this.findHighlightableChoices(), choice, data;\n                if (arguments.length === 0) {\n                    return indexOf(choices.filter(\".select2-highlighted\")[0], choices.get());\n                }\n                if (index >= choices.length) index = choices.length - 1;\n                if (index < 0) index = 0;\n                this.results.find(\".select2-highlighted\").removeClass(\"select2-highlighted\");\n                choice = $(choices[index]);\n                choice.addClass(\"select2-highlighted\");\n                this.ensureHighlightVisible();\n                data = choice.data(\"select2-data\");\n                if (data) {\n                    this.opts.element.trigger({\n                        type: \"select2-highlight\",\n                        val: this.id(data),\n                        choice: data\n                    });\n                }\n            },\n            // abstract\n            countSelectableResults: function() {\n                return this.findHighlightableChoices().length;\n            },\n            // abstract\n            highlightUnderEvent: function(event) {\n                var el = $(event.target).closest(\".select2-result-selectable\");\n                if (el.length > 0 && !el.is(\".select2-highlighted\")) {\n                    var choices = this.findHighlightableChoices();\n                    this.highlight(choices.index(el));\n                } else if (el.length == 0) {\n                    // if we are over an unselectable item remove al highlights\n                    this.results.find(\".select2-highlighted\").removeClass(\"select2-highlighted\");\n                }\n            },\n            // abstract\n            loadMoreIfNeeded: function() {\n                var results = this.results, more = results.find(\"li.select2-more-results\"), below, // pixels the element is below the scroll fold, below==0 is when the element is starting to be visible\n                offset = -1, // index of first element without data\n                page = this.resultsPage + 1, self = this, term = this.search.val(), context = this.context;\n                if (more.length === 0) return;\n                below = more.offset().top - results.offset().top - results.height();\n                if (below <= this.opts.loadMorePadding) {\n                    more.addClass(\"select2-active\");\n                    this.opts.query({\n                        element: this.opts.element,\n                        term: term,\n                        page: page,\n                        context: context,\n                        matcher: this.opts.matcher,\n                        callback: this.bind(function(data) {\n                            // ignore a response if the select2 has been closed before it was received\n                            if (!self.opened()) return;\n                            self.opts.populateResults.call(this, results, data.results, {\n                                term: term,\n                                page: page,\n                                context: context\n                            });\n                            self.postprocessResults(data, false, false);\n                            if (data.more === true) {\n                                more.detach().appendTo(results).text(self.opts.formatLoadMore(page + 1));\n                                window.setTimeout(function() {\n                                    self.loadMoreIfNeeded();\n                                }, 10);\n                            } else {\n                                more.remove();\n                            }\n                            self.positionDropdown();\n                            self.resultsPage = page;\n                            self.context = data.context;\n                        })\n                    });\n                }\n            },\n            /**\n         * Default tokenizer function which does nothing\n         */\n            tokenize: function() {},\n            /**\n         * @param initial whether or not this is the call to this method right after the dropdown has been opened\n         */\n            // abstract\n            updateResults: function(initial) {\n                var search = this.search, results = this.results, opts = this.opts, data, self = this, input, term = search.val(), lastTerm = $.data(this.container, \"select2-last-term\");\n                // prevent duplicate queries against the same term\n                if (initial !== true && lastTerm && equal(term, lastTerm)) return;\n                $.data(this.container, \"select2-last-term\", term);\n                // if the search is currently hidden we do not alter the results\n                if (initial !== true && (this.showSearchInput === false || !this.opened())) {\n                    return;\n                }\n                function postRender() {\n                    search.removeClass(\"select2-active\");\n                    self.positionDropdown();\n                }\n                function render(html) {\n                    results.html(html);\n                    postRender();\n                }\n                var maxSelSize = this.getMaximumSelectionSize();\n                if (maxSelSize >= 1) {\n                    data = this.data();\n                    if ($.isArray(data) && data.length >= maxSelSize && checkFormatter(opts.formatSelectionTooBig, \"formatSelectionTooBig\")) {\n                        render(\"<li class='select2-selection-limit'>\" + opts.formatSelectionTooBig(maxSelSize) + \"</li>\");\n                        return;\n                    }\n                }\n                if (search.val().length < opts.minimumInputLength) {\n                    if (checkFormatter(opts.formatInputTooShort, \"formatInputTooShort\")) {\n                        render(\"<li class='select2-no-results'>\" + opts.formatInputTooShort(search.val(), opts.minimumInputLength) + \"</li>\");\n                    } else {\n                        render(\"\");\n                    }\n                    if (initial && this.showSearch) this.showSearch(true);\n                    return;\n                }\n                if (opts.maximumInputLength && search.val().length > opts.maximumInputLength) {\n                    if (checkFormatter(opts.formatInputTooLong, \"formatInputTooLong\")) {\n                        render(\"<li class='select2-no-results'>\" + opts.formatInputTooLong(search.val(), opts.maximumInputLength) + \"</li>\");\n                    } else {\n                        render(\"\");\n                    }\n                    return;\n                }\n                if (opts.formatSearching && this.findHighlightableChoices().length === 0) {\n                    render(\"<li class='select2-searching'>\" + opts.formatSearching() + \"</li>\");\n                }\n                search.addClass(\"select2-active\");\n                // give the tokenizer a chance to pre-process the input\n                input = this.tokenize();\n                if (input != undefined && input != null) {\n                    search.val(input);\n                }\n                this.resultsPage = 1;\n                opts.query({\n                    element: opts.element,\n                    term: search.val(),\n                    page: this.resultsPage,\n                    context: null,\n                    matcher: opts.matcher,\n                    callback: this.bind(function(data) {\n                        var def;\n                        // default choice\n                        // ignore a response if the select2 has been closed before it was received\n                        if (!this.opened()) {\n                            this.search.removeClass(\"select2-active\");\n                            return;\n                        }\n                        // save context, if any\n                        this.context = data.context === undefined ? null : data.context;\n                        // create a default choice and prepend it to the list\n                        if (this.opts.createSearchChoice && search.val() !== \"\") {\n                            def = this.opts.createSearchChoice.call(self, search.val(), data.results);\n                            if (def !== undefined && def !== null && self.id(def) !== undefined && self.id(def) !== null) {\n                                if ($(data.results).filter(function() {\n                                    return equal(self.id(this), self.id(def));\n                                }).length === 0) {\n                                    data.results.unshift(def);\n                                }\n                            }\n                        }\n                        if (data.results.length === 0 && checkFormatter(opts.formatNoMatches, \"formatNoMatches\")) {\n                            render(\"<li class='select2-no-results'>\" + opts.formatNoMatches(search.val()) + \"</li>\");\n                            return;\n                        }\n                        results.empty();\n                        self.opts.populateResults.call(this, results, data.results, {\n                            term: search.val(),\n                            page: this.resultsPage,\n                            context: null\n                        });\n                        if (data.more === true && checkFormatter(opts.formatLoadMore, \"formatLoadMore\")) {\n                            results.append(\"<li class='select2-more-results'>\" + self.opts.escapeMarkup(opts.formatLoadMore(this.resultsPage)) + \"</li>\");\n                            window.setTimeout(function() {\n                                self.loadMoreIfNeeded();\n                            }, 10);\n                        }\n                        this.postprocessResults(data, initial);\n                        postRender();\n                        this.opts.element.trigger({\n                            type: \"select2-loaded\",\n                            items: data\n                        });\n                    })\n                });\n            },\n            // abstract\n            cancel: function() {\n                this.close();\n            },\n            // abstract\n            blur: function() {\n                // if selectOnBlur == true, select the currently highlighted option\n                if (this.opts.selectOnBlur) this.selectHighlighted({\n                    noFocus: true\n                });\n                this.close();\n                this.container.removeClass(\"select2-container-active\");\n                // synonymous to .is(':focus'), which is available in jquery >= 1.6\n                if (this.search[0] === document.activeElement) {\n                    this.search.blur();\n                }\n                this.clearSearch();\n                this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n            },\n            // abstract\n            focusSearch: function() {\n                focus(this.search);\n            },\n            // abstract\n            selectHighlighted: function(options) {\n                var index = this.highlight(), highlighted = this.results.find(\".select2-highlighted\"), data = highlighted.closest(\".select2-result\").data(\"select2-data\");\n                if (data) {\n                    this.highlight(index);\n                    this.onSelect(data, options);\n                } else if (options && options.noFocus) {\n                    this.close();\n                }\n            },\n            // abstract\n            getPlaceholder: function() {\n                var placeholderOption;\n                return this.opts.element.attr(\"placeholder\") || this.opts.element.attr(\"data-placeholder\") || // jquery 1.4 compat\n                this.opts.element.data(\"placeholder\") || this.opts.placeholder || ((placeholderOption = this.getPlaceholderOption()) !== undefined ? placeholderOption.text() : undefined);\n            },\n            // abstract\n            getPlaceholderOption: function() {\n                if (this.select) {\n                    var firstOption = this.select.children().first();\n                    if (this.opts.placeholderOption !== undefined) {\n                        //Determine the placeholder option based on the specified placeholderOption setting\n                        return this.opts.placeholderOption === \"first\" && firstOption || typeof this.opts.placeholderOption === \"function\" && this.opts.placeholderOption(this.select);\n                    } else if (firstOption.text() === \"\" && firstOption.val() === \"\") {\n                        //No explicit placeholder option specified, use the first if it's blank\n                        return firstOption;\n                    }\n                }\n            },\n            /**\n         * Get the desired width for the container element.  This is\n         * derived first from option `width` passed to select2, then\n         * the inline 'style' on the original element, and finally\n         * falls back to the jQuery calculated element width.\n         */\n            // abstract\n            initContainerWidth: function() {\n                function resolveContainerWidth() {\n                    var style, attrs, matches, i, l;\n                    if (this.opts.width === \"off\") {\n                        return null;\n                    } else if (this.opts.width === \"element\") {\n                        return this.opts.element.outerWidth(false) === 0 ? \"auto\" : this.opts.element.outerWidth(false) + \"px\";\n                    } else if (this.opts.width === \"copy\" || this.opts.width === \"resolve\") {\n                        // check if there is inline style on the element that contains width\n                        style = this.opts.element.attr(\"style\");\n                        if (style !== undefined) {\n                            attrs = style.split(\";\");\n                            for (i = 0, l = attrs.length; i < l; i = i + 1) {\n                                matches = attrs[i].replace(/\\s/g, \"\").match(/width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);\n                                if (matches !== null && matches.length >= 1) return matches[1];\n                            }\n                        }\n                        if (this.opts.width === \"resolve\") {\n                            // next check if css('width') can resolve a width that is percent based, this is sometimes possible\n                            // when attached to input type=hidden or elements hidden via css\n                            style = this.opts.element.css(\"width\");\n                            if (style.indexOf(\"%\") > 0) return style;\n                            // finally, fallback on the calculated width of the element\n                            return this.opts.element.outerWidth(false) === 0 ? \"auto\" : this.opts.element.outerWidth(false) + \"px\";\n                        }\n                        return null;\n                    } else if ($.isFunction(this.opts.width)) {\n                        return this.opts.width();\n                    } else {\n                        return this.opts.width;\n                    }\n                }\n                var width = resolveContainerWidth.call(this);\n                if (width !== null) {\n                    this.container.css(\"width\", width);\n                }\n            }\n        });\n        SingleSelect2 = clazz(AbstractSelect2, {\n            // single\n            createContainer: function() {\n                var container = $(document.createElement(\"div\")).attr({\n                    \"class\": \"select2-container\"\n                }).html([ \"<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>\", \"   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>\", \"   <span class='select2-arrow'><b></b></span>\", \"</a>\", \"<input class='select2-focusser select2-offscreen' type='text'/>\", \"<div class='select2-drop select2-display-none'>\", \"   <div class='select2-search'>\", \"       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>\", \"   </div>\", \"   <ul class='select2-results'>\", \"   </ul>\", \"</div>\" ].join(\"\"));\n                return container;\n            },\n            // single\n            enableInterface: function() {\n                if (this.parent.enableInterface.apply(this, arguments)) {\n                    this.focusser.prop(\"disabled\", !this.isInterfaceEnabled());\n                }\n            },\n            // single\n            opening: function() {\n                var el, range, len;\n                if (this.opts.minimumResultsForSearch >= 0) {\n                    this.showSearch(true);\n                }\n                this.parent.opening.apply(this, arguments);\n                if (this.showSearchInput !== false) {\n                    // IE appends focusser.val() at the end of field :/ so we manually insert it at the beginning using a range\n                    // all other browsers handle this just fine\n                    this.search.val(this.focusser.val());\n                }\n                this.search.focus();\n                // move the cursor to the end after focussing, otherwise it will be at the beginning and\n                // new text will appear *before* focusser.val()\n                el = this.search.get(0);\n                if (el.createTextRange) {\n                    range = el.createTextRange();\n                    range.collapse(false);\n                    range.select();\n                } else if (el.setSelectionRange) {\n                    len = this.search.val().length;\n                    el.setSelectionRange(len, len);\n                }\n                this.focusser.prop(\"disabled\", true).val(\"\");\n                this.updateResults(true);\n                this.opts.element.trigger($.Event(\"select2-open\"));\n            },\n            // single\n            close: function() {\n                if (!this.opened()) return;\n                this.parent.close.apply(this, arguments);\n                this.focusser.removeAttr(\"disabled\");\n                this.focusser.focus();\n            },\n            // single\n            focus: function() {\n                if (this.opened()) {\n                    this.close();\n                } else {\n                    this.focusser.removeAttr(\"disabled\");\n                    this.focusser.focus();\n                }\n            },\n            // single\n            isFocused: function() {\n                return this.container.hasClass(\"select2-container-active\");\n            },\n            // single\n            cancel: function() {\n                this.parent.cancel.apply(this, arguments);\n                this.focusser.removeAttr(\"disabled\");\n                this.focusser.focus();\n            },\n            // single\n            initContainer: function() {\n                var selection, container = this.container, dropdown = this.dropdown;\n                if (this.opts.minimumResultsForSearch < 0) {\n                    this.showSearch(false);\n                } else {\n                    this.showSearch(true);\n                }\n                this.selection = selection = container.find(\".select2-choice\");\n                this.focusser = container.find(\".select2-focusser\");\n                // rewrite labels from original element to focusser\n                this.focusser.attr(\"id\", \"s2id_autogen\" + nextUid());\n                $(\"label[for='\" + this.opts.element.attr(\"id\") + \"']\").attr(\"for\", this.focusser.attr(\"id\"));\n                this.focusser.attr(\"tabindex\", this.elementTabIndex);\n                this.search.on(\"keydown\", this.bind(function(e) {\n                    if (!this.isInterfaceEnabled()) return;\n                    if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {\n                        // prevent the page from scrolling\n                        killEvent(e);\n                        return;\n                    }\n                    switch (e.which) {\n                      case KEY.UP:\n                      case KEY.DOWN:\n                        this.moveHighlight(e.which === KEY.UP ? -1 : 1);\n                        killEvent(e);\n                        return;\n\n                      case KEY.ENTER:\n                        this.selectHighlighted();\n                        killEvent(e);\n                        return;\n\n                      case KEY.TAB:\n                        this.selectHighlighted({\n                            noFocus: true\n                        });\n                        return;\n\n                      case KEY.ESC:\n                        this.cancel(e);\n                        killEvent(e);\n                        return;\n                    }\n                }));\n                this.search.on(\"blur\", this.bind(function(e) {\n                    // a workaround for chrome to keep the search field focussed when the scroll bar is used to scroll the dropdown.\n                    // without this the search field loses focus which is annoying\n                    if (document.activeElement === this.body().get(0)) {\n                        window.setTimeout(this.bind(function() {\n                            this.search.focus();\n                        }), 0);\n                    }\n                }));\n                this.focusser.on(\"keydown\", this.bind(function(e) {\n                    if (!this.isInterfaceEnabled()) return;\n                    if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC) {\n                        return;\n                    }\n                    if (this.opts.openOnEnter === false && e.which === KEY.ENTER) {\n                        killEvent(e);\n                        return;\n                    }\n                    if (e.which == KEY.DOWN || e.which == KEY.UP || e.which == KEY.ENTER && this.opts.openOnEnter) {\n                        if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) return;\n                        this.open();\n                        killEvent(e);\n                        return;\n                    }\n                    if (e.which == KEY.DELETE || e.which == KEY.BACKSPACE) {\n                        if (this.opts.allowClear) {\n                            this.clear();\n                        }\n                        killEvent(e);\n                        return;\n                    }\n                }));\n                installKeyUpChangeEvent(this.focusser);\n                this.focusser.on(\"keyup-change input\", this.bind(function(e) {\n                    if (this.opts.minimumResultsForSearch >= 0) {\n                        e.stopPropagation();\n                        if (this.opened()) return;\n                        this.open();\n                    }\n                }));\n                selection.on(\"mousedown\", \"abbr\", this.bind(function(e) {\n                    if (!this.isInterfaceEnabled()) return;\n                    this.clear();\n                    killEventImmediately(e);\n                    this.close();\n                    this.selection.focus();\n                }));\n                selection.on(\"mousedown\", this.bind(function(e) {\n                    if (!this.container.hasClass(\"select2-container-active\")) {\n                        this.opts.element.trigger($.Event(\"select2-focus\"));\n                    }\n                    if (this.opened()) {\n                        this.close();\n                    } else if (this.isInterfaceEnabled()) {\n                        this.open();\n                    }\n                    killEvent(e);\n                }));\n                dropdown.on(\"mousedown\", this.bind(function() {\n                    this.search.focus();\n                }));\n                selection.on(\"focus\", this.bind(function(e) {\n                    killEvent(e);\n                }));\n                this.focusser.on(\"focus\", this.bind(function() {\n                    if (!this.container.hasClass(\"select2-container-active\")) {\n                        this.opts.element.trigger($.Event(\"select2-focus\"));\n                    }\n                    this.container.addClass(\"select2-container-active\");\n                })).on(\"blur\", this.bind(function() {\n                    if (!this.opened()) {\n                        this.container.removeClass(\"select2-container-active\");\n                        this.opts.element.trigger($.Event(\"select2-blur\"));\n                    }\n                }));\n                this.search.on(\"focus\", this.bind(function() {\n                    if (!this.container.hasClass(\"select2-container-active\")) {\n                        this.opts.element.trigger($.Event(\"select2-focus\"));\n                    }\n                    this.container.addClass(\"select2-container-active\");\n                }));\n                this.initContainerWidth();\n                this.opts.element.addClass(\"select2-offscreen\");\n                this.setPlaceholder();\n            },\n            // single\n            clear: function(triggerChange) {\n                var data = this.selection.data(\"select2-data\");\n                if (data) {\n                    // guard against queued quick consecutive clicks\n                    var placeholderOption = this.getPlaceholderOption();\n                    this.opts.element.val(placeholderOption ? placeholderOption.val() : \"\");\n                    this.selection.find(\".select2-chosen\").empty();\n                    this.selection.removeData(\"select2-data\");\n                    this.setPlaceholder();\n                    if (triggerChange !== false) {\n                        this.opts.element.trigger({\n                            type: \"select2-removed\",\n                            val: this.id(data),\n                            choice: data\n                        });\n                        this.triggerChange({\n                            removed: data\n                        });\n                    }\n                }\n            },\n            /**\n         * Sets selection based on source element's value\n         */\n            // single\n            initSelection: function() {\n                var selected;\n                if (this.isPlaceholderOptionSelected()) {\n                    this.updateSelection([]);\n                    this.close();\n                    this.setPlaceholder();\n                } else {\n                    var self = this;\n                    this.opts.initSelection.call(null, this.opts.element, function(selected) {\n                        if (selected !== undefined && selected !== null) {\n                            self.updateSelection(selected);\n                            self.close();\n                            self.setPlaceholder();\n                        }\n                    });\n                }\n            },\n            isPlaceholderOptionSelected: function() {\n                var placeholderOption;\n                return (placeholderOption = this.getPlaceholderOption()) !== undefined && placeholderOption.is(\":selected\") || this.opts.element.val() === \"\" || this.opts.element.val() === undefined || this.opts.element.val() === null;\n            },\n            // single\n            prepareOpts: function() {\n                var opts = this.parent.prepareOpts.apply(this, arguments), self = this;\n                if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                    // install the selection initializer\n                    opts.initSelection = function(element, callback) {\n                        var selected = element.find(\":selected\");\n                        // a single select box always has a value, no need to null check 'selected'\n                        callback(self.optionToData(selected));\n                    };\n                } else if (\"data\" in opts) {\n                    // install default initSelection when applied to hidden input and data is local\n                    opts.initSelection = opts.initSelection || function(element, callback) {\n                        var id = element.val();\n                        //search in data by id, storing the actual matching item\n                        var match = null;\n                        opts.query({\n                            matcher: function(term, text, el) {\n                                var is_match = equal(id, opts.id(el));\n                                if (is_match) {\n                                    match = el;\n                                }\n                                return is_match;\n                            },\n                            callback: !$.isFunction(callback) ? $.noop : function() {\n                                callback(match);\n                            }\n                        });\n                    };\n                }\n                return opts;\n            },\n            // single\n            getPlaceholder: function() {\n                // if a placeholder is specified on a single select without a valid placeholder option ignore it\n                if (this.select) {\n                    if (this.getPlaceholderOption() === undefined) {\n                        return undefined;\n                    }\n                }\n                return this.parent.getPlaceholder.apply(this, arguments);\n            },\n            // single\n            setPlaceholder: function() {\n                var placeholder = this.getPlaceholder();\n                if (this.isPlaceholderOptionSelected() && placeholder !== undefined) {\n                    // check for a placeholder option if attached to a select\n                    if (this.select && this.getPlaceholderOption() === undefined) return;\n                    this.selection.find(\".select2-chosen\").html(this.opts.escapeMarkup(placeholder));\n                    this.selection.addClass(\"select2-default\");\n                    this.container.removeClass(\"select2-allowclear\");\n                }\n            },\n            // single\n            postprocessResults: function(data, initial, noHighlightUpdate) {\n                var selected = 0, self = this, showSearchInput = true;\n                // find the selected element in the result list\n                this.findHighlightableChoices().each2(function(i, elm) {\n                    if (equal(self.id(elm.data(\"select2-data\")), self.opts.element.val())) {\n                        selected = i;\n                        return false;\n                    }\n                });\n                // and highlight it\n                if (noHighlightUpdate !== false) {\n                    if (initial === true && selected >= 0) {\n                        this.highlight(selected);\n                    } else {\n                        this.highlight(0);\n                    }\n                }\n                // hide the search box if this is the first we got the results and there are enough of them for search\n                if (initial === true) {\n                    var min = this.opts.minimumResultsForSearch;\n                    if (min >= 0) {\n                        this.showSearch(countResults(data.results) >= min);\n                    }\n                }\n            },\n            // single\n            showSearch: function(showSearchInput) {\n                if (this.showSearchInput === showSearchInput) return;\n                this.showSearchInput = showSearchInput;\n                this.dropdown.find(\".select2-search\").toggleClass(\"select2-search-hidden\", !showSearchInput);\n                this.dropdown.find(\".select2-search\").toggleClass(\"select2-offscreen\", !showSearchInput);\n                //add \"select2-with-searchbox\" to the container if search box is shown\n                $(this.dropdown, this.container).toggleClass(\"select2-with-searchbox\", showSearchInput);\n            },\n            // single\n            onSelect: function(data, options) {\n                if (!this.triggerSelect(data)) {\n                    return;\n                }\n                var old = this.opts.element.val(), oldData = this.data();\n                this.opts.element.val(this.id(data));\n                this.updateSelection(data);\n                this.opts.element.trigger({\n                    type: \"select2-selected\",\n                    val: this.id(data),\n                    choice: data\n                });\n                this.close();\n                if (!options || !options.noFocus) this.selection.focus();\n                if (!equal(old, this.id(data))) {\n                    this.triggerChange({\n                        added: data,\n                        removed: oldData\n                    });\n                }\n            },\n            // single\n            updateSelection: function(data) {\n                var container = this.selection.find(\".select2-chosen\"), formatted, cssClass;\n                this.selection.data(\"select2-data\", data);\n                container.empty();\n                formatted = this.opts.formatSelection(data, container, this.opts.escapeMarkup);\n                if (this.opts.treeview) {\n                    formatted = formatted.replace(new RegExp(\"^\" + this.opts.indentChar + \"*\"), '');\n                }\n                if (formatted !== undefined) {\n                    container.append(formatted);\n                }\n                cssClass = this.opts.formatSelectionCssClass(data, container);\n                if (cssClass !== undefined) {\n                    container.addClass(cssClass);\n                }\n                this.selection.removeClass(\"select2-default\");\n                if (this.opts.allowClear && this.getPlaceholder() !== undefined) {\n                    this.container.addClass(\"select2-allowclear\");\n                }\n            },\n            // single\n            val: function() {\n                var val, triggerChange = false, data = null, self = this, oldData = this.data();\n                if (arguments.length === 0) {\n                    return this.opts.element.val();\n                }\n                val = arguments[0];\n                if (arguments.length > 1) {\n                    triggerChange = arguments[1];\n                }\n                if (this.select) {\n                    this.select.val(val).find(\":selected\").each2(function(i, elm) {\n                        data = self.optionToData(elm);\n                        return false;\n                    });\n                    this.updateSelection(data);\n                    this.setPlaceholder();\n                    if (triggerChange) {\n                        this.triggerChange({\n                            added: data,\n                            removed: oldData\n                        });\n                    }\n                } else {\n                    // val is an id. !val is true for [undefined,null,'',0] - 0 is legal\n                    if (!val && val !== 0) {\n                        this.clear(triggerChange);\n                        return;\n                    }\n                    if (this.opts.initSelection === undefined) {\n                        throw new Error(\"cannot call val() if initSelection() is not defined\");\n                    }\n                    this.opts.element.val(val);\n                    this.opts.initSelection(this.opts.element, function(data) {\n                        self.opts.element.val(!data ? \"\" : self.id(data));\n                        self.updateSelection(data);\n                        self.setPlaceholder();\n                        if (triggerChange) {\n                            self.triggerChange({\n                                added: data,\n                                removed: oldData\n                            });\n                        }\n                    });\n                }\n            },\n            // single\n            clearSearch: function() {\n                this.search.val(\"\");\n                this.focusser.val(\"\");\n            },\n            // single\n            data: function(value, triggerChange) {\n                var data;\n                if (arguments.length === 0) {\n                    data = this.selection.data(\"select2-data\");\n                    if (data == undefined) data = null;\n                    return data;\n                } else {\n                    if (!value || value === \"\") {\n                        this.clear(triggerChange);\n                    } else {\n                        data = this.data();\n                        this.opts.element.val(!value ? \"\" : this.id(value));\n                        this.updateSelection(value);\n                        if (triggerChange) {\n                            this.triggerChange({\n                                added: value,\n                                removed: data\n                            });\n                        }\n                    }\n                }\n            }\n        });\n        MultiSelect2 = clazz(AbstractSelect2, {\n            // multi\n            createContainer: function() {\n                var container = $(document.createElement(\"div\")).attr({\n                    \"class\": \"select2-container select2-container-multi\"\n                }).html([ \"<ul class='select2-choices'>\", \"  <li class='select2-search-field'>\", \"    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>\", \"  </li>\", \"</ul>\", \"<div class='select2-drop select2-drop-multi select2-display-none'>\", \"   <ul class='select2-results'>\", \"   </ul>\", \"</div>\" ].join(\"\"));\n                return container;\n            },\n            // multi\n            prepareOpts: function() {\n                var opts = this.parent.prepareOpts.apply(this, arguments), self = this;\n                // TODO validate placeholder is a string if specified\n                if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                    // install sthe selection initializer\n                    opts.initSelection = function(element, callback) {\n                        var data = [];\n                        element.find(\":selected\").each2(function(i, elm) {\n                            data.push(self.optionToData(elm));\n                        });\n                        callback(data);\n                    };\n                } else if (\"data\" in opts) {\n                    // install default initSelection when applied to hidden input and data is local\n                    opts.initSelection = opts.initSelection || function(element, callback) {\n                        var ids = splitVal(element.val(), opts.separator);\n                        //search in data by array of ids, storing matching items in a list\n                        var matches = [];\n                        opts.query({\n                            matcher: function(term, text, el) {\n                                var is_match = $.grep(ids, function(id) {\n                                    return equal(id, opts.id(el));\n                                }).length;\n                                if (is_match) {\n                                    matches.push(el);\n                                }\n                                return is_match;\n                            },\n                            callback: !$.isFunction(callback) ? $.noop : function() {\n                                // reorder matches based on the order they appear in the ids array because right now\n                                // they are in the order in which they appear in data array\n                                var ordered = [];\n                                for (var i = 0; i < ids.length; i++) {\n                                    var id = ids[i];\n                                    for (var j = 0; j < matches.length; j++) {\n                                        var match = matches[j];\n                                        if (equal(id, opts.id(match))) {\n                                            ordered.push(match);\n                                            matches.splice(j, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                callback(ordered);\n                            }\n                        });\n                    };\n                }\n                return opts;\n            },\n            selectChoice: function(choice) {\n                var selected = this.container.find(\".select2-search-choice-focus\");\n                if (selected.length && choice && choice[0] == selected[0]) {} else {\n                    if (selected.length) {\n                        this.opts.element.trigger(\"choice-deselected\", selected);\n                    }\n                    selected.removeClass(\"select2-search-choice-focus\");\n                    if (choice && choice.length) {\n                        this.close();\n                        choice.addClass(\"select2-search-choice-focus\");\n                        this.opts.element.trigger(\"choice-selected\", choice);\n                    }\n                }\n            },\n            // multi\n            initContainer: function() {\n                var selector = \".select2-choices\", selection;\n                this.searchContainer = this.container.find(\".select2-search-field\");\n                this.selection = selection = this.container.find(selector);\n                var _this = this;\n                this.selection.on(\"mousedown\", \".select2-search-choice\", function(e) {\n                    //killEvent(e);\n                    _this.search[0].focus();\n                    _this.selectChoice($(this));\n                });\n                // rewrite labels from original element to focusser\n                this.search.attr(\"id\", \"s2id_autogen\" + nextUid());\n                $(\"label[for='\" + this.opts.element.attr(\"id\") + \"']\").attr(\"for\", this.search.attr(\"id\"));\n                this.search.on(\"input paste\", this.bind(function() {\n                    if (!this.isInterfaceEnabled()) return;\n                    if (!this.opened()) {\n                        this.open();\n                    }\n                }));\n                this.search.attr(\"tabindex\", this.elementTabIndex);\n                this.keydowns = 0;\n                this.search.on(\"keydown\", this.bind(function(e) {\n                    if (!this.isInterfaceEnabled()) return;\n                    ++this.keydowns;\n                    var selected = selection.find(\".select2-search-choice-focus\");\n                    var prev = selected.prev(\".select2-search-choice:not(.select2-locked)\");\n                    var next = selected.next(\".select2-search-choice:not(.select2-locked)\");\n                    var pos = getCursorInfo(this.search);\n                    if (selected.length && (e.which == KEY.LEFT || e.which == KEY.RIGHT || e.which == KEY.BACKSPACE || e.which == KEY.DELETE || e.which == KEY.ENTER)) {\n                        var selectedChoice = selected;\n                        if (e.which == KEY.LEFT && prev.length) {\n                            selectedChoice = prev;\n                        } else if (e.which == KEY.RIGHT) {\n                            selectedChoice = next.length ? next : null;\n                        } else if (e.which === KEY.BACKSPACE) {\n                            this.unselect(selected.first());\n                            this.search.width(10);\n                            selectedChoice = prev.length ? prev : next;\n                        } else if (e.which == KEY.DELETE) {\n                            this.unselect(selected.first());\n                            this.search.width(10);\n                            selectedChoice = next.length ? next : null;\n                        } else if (e.which == KEY.ENTER) {\n                            selectedChoice = null;\n                        }\n                        this.selectChoice(selectedChoice);\n                        killEvent(e);\n                        if (!selectedChoice || !selectedChoice.length) {\n                            this.open();\n                        }\n                        return;\n                    } else if ((e.which === KEY.BACKSPACE && this.keydowns == 1 || e.which == KEY.LEFT) && pos.offset == 0 && !pos.length) {\n                        this.selectChoice(selection.find(\".select2-search-choice:not(.select2-locked)\").last());\n                        killEvent(e);\n                        return;\n                    } else {\n                        this.selectChoice(null);\n                    }\n                    if (this.opened()) {\n                        switch (e.which) {\n                          case KEY.UP:\n                          case KEY.DOWN:\n                            this.moveHighlight(e.which === KEY.UP ? -1 : 1);\n                            killEvent(e);\n                            return;\n\n                          case KEY.ENTER:\n                            this.selectHighlighted();\n                            killEvent(e);\n                            return;\n\n                          case KEY.TAB:\n                            this.selectHighlighted({\n                                noFocus: true\n                            });\n                            this.close();\n                            return;\n\n                          case KEY.ESC:\n                            this.cancel(e);\n                            killEvent(e);\n                            return;\n                        }\n                    }\n                    if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.BACKSPACE || e.which === KEY.ESC) {\n                        return;\n                    }\n                    if (e.which === KEY.ENTER) {\n                        if (this.opts.openOnEnter === false) {\n                            return;\n                        } else if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) {\n                            return;\n                        }\n                    }\n                    this.open();\n                    if (e.which === KEY.PAGE_UP || e.which === KEY.PAGE_DOWN) {\n                        // prevent the page from scrolling\n                        killEvent(e);\n                    }\n                    if (e.which === KEY.ENTER) {\n                        // prevent form from being submitted\n                        killEvent(e);\n                    }\n                }));\n                this.search.on(\"keyup\", this.bind(function(e) {\n                    this.keydowns = 0;\n                    this.resizeSearch();\n                }));\n                this.search.on(\"blur\", this.bind(function(e) {\n                    this.container.removeClass(\"select2-container-active\");\n                    this.search.removeClass(\"select2-focused\");\n                    this.selectChoice(null);\n                    if (!this.opened()) this.clearSearch();\n                    e.stopImmediatePropagation();\n                    this.opts.element.trigger($.Event(\"select2-blur\"));\n                }));\n                this.container.on(\"click\", selector, this.bind(function(e) {\n                    if (!this.isInterfaceEnabled()) return;\n                    if ($(e.target).closest(\".select2-search-choice\").length > 0) {\n                        // clicked inside a select2 search choice, do not open\n                        return;\n                    }\n                    this.selectChoice(null);\n                    this.clearPlaceholder();\n                    if (!this.container.hasClass(\"select2-container-active\")) {\n                        this.opts.element.trigger($.Event(\"select2-focus\"));\n                    }\n                    this.open();\n                    this.focusSearch();\n                    e.preventDefault();\n                }));\n                this.container.on(\"focus\", selector, this.bind(function() {\n                    if (!this.isInterfaceEnabled()) return;\n                    if (!this.container.hasClass(\"select2-container-active\")) {\n                        this.opts.element.trigger($.Event(\"select2-focus\"));\n                    }\n                    this.container.addClass(\"select2-container-active\");\n                    this.dropdown.addClass(\"select2-drop-active\");\n                    this.clearPlaceholder();\n                }));\n                this.initContainerWidth();\n                this.opts.element.addClass(\"select2-offscreen\");\n                // set the placeholder if necessary\n                this.clearSearch();\n            },\n            // multi\n            enableInterface: function() {\n                if (this.parent.enableInterface.apply(this, arguments)) {\n                    this.search.prop(\"disabled\", !this.isInterfaceEnabled());\n                }\n            },\n            // multi\n            initSelection: function() {\n                var data;\n                if (this.opts.element.val() === \"\" && this.opts.element.text() === \"\") {\n                    this.updateSelection([]);\n                    this.close();\n                    // set the placeholder if necessary\n                    this.clearSearch();\n                }\n                if (this.select || this.opts.element.val() !== \"\") {\n                    var self = this;\n                    this.opts.initSelection.call(null, this.opts.element, function(data) {\n                        if (data !== undefined && data !== null) {\n                            self.updateSelection(data);\n                            self.close();\n                            // set the placeholder if necessary\n                            self.clearSearch();\n                        }\n                    });\n                }\n            },\n            // multi\n            clearSearch: function() {\n                var placeholder = this.getPlaceholder(), maxWidth = this.getMaxSearchWidth();\n                if (placeholder !== undefined && this.getVal().length === 0 && this.search.hasClass(\"select2-focused\") === false) {\n                    this.search.val(placeholder).addClass(\"select2-default\");\n                    // stretch the search box to full width of the container so as much of the placeholder is visible as possible\n                    // we could call this.resizeSearch(), but we do not because that requires a sizer and we do not want to create one so early because of a firefox bug, see #944\n                    this.search.width(maxWidth > 0 ? maxWidth : this.container.css(\"width\"));\n                } else {\n                    this.search.val(\"\").width(10);\n                }\n            },\n            // multi\n            clearPlaceholder: function() {\n                if (this.search.hasClass(\"select2-default\")) {\n                    this.search.val(\"\").removeClass(\"select2-default\");\n                }\n            },\n            // multi\n            opening: function() {\n                this.clearPlaceholder();\n                // should be done before super so placeholder is not used to search\n                this.resizeSearch();\n                this.parent.opening.apply(this, arguments);\n                this.focusSearch();\n                this.updateResults(true);\n                this.search.focus();\n                this.opts.element.trigger($.Event(\"select2-open\"));\n            },\n            // multi\n            close: function() {\n                if (!this.opened()) return;\n                this.parent.close.apply(this, arguments);\n            },\n            // multi\n            focus: function() {\n                this.close();\n                this.search.focus();\n            },\n            // multi\n            isFocused: function() {\n                return this.search.hasClass(\"select2-focused\");\n            },\n            // multi\n            updateSelection: function(data) {\n                var ids = [], filtered = [], self = this;\n                // filter out duplicates\n                $(data).each(function() {\n                    if (indexOf(self.id(this), ids) < 0) {\n                        ids.push(self.id(this));\n                        filtered.push(this);\n                    }\n                });\n                data = filtered;\n                this.selection.find(\".select2-search-choice\").remove();\n                $(data).each(function() {\n                    self.addSelectedChoice(this);\n                });\n                self.postprocessResults();\n            },\n            // multi\n            tokenize: function() {\n                var input = this.search.val();\n                input = this.opts.tokenizer.call(this, input, this.data(), this.bind(this.onSelect), this.opts);\n                if (input != null && input != undefined) {\n                    this.search.val(input);\n                    if (input.length > 0) {\n                        this.open();\n                    }\n                }\n            },\n            // multi\n            onSelect: function(data, options) {\n                if (!this.triggerSelect(data)) {\n                    return;\n                }\n                this.addSelectedChoice(data);\n                this.opts.element.trigger({\n                    type: \"selected\",\n                    val: this.id(data),\n                    choice: data\n                });\n                if (this.select || !this.opts.closeOnSelect) this.postprocessResults();\n                if (this.opts.closeOnSelect) {\n                    this.close();\n                    this.search.width(10);\n                } else {\n                    if (this.countSelectableResults() > 0) {\n                        this.search.width(10);\n                        this.resizeSearch();\n                        if (this.getMaximumSelectionSize() > 0 && this.val().length >= this.getMaximumSelectionSize()) {\n                            // if we reached max selection size repaint the results so choices\n                            // are replaced with the max selection reached message\n                            this.updateResults(true);\n                        }\n                        this.positionDropdown();\n                    } else {\n                        // if nothing left to select close\n                        this.close();\n                        this.search.width(10);\n                    }\n                }\n                // since its not possible to select an element that has already been\n                // added we do not need to check if this is a new element before firing change\n                this.triggerChange({\n                    added: data\n                });\n                if (!options || !options.noFocus) this.focusSearch();\n            },\n            // multi\n            cancel: function() {\n                this.close();\n                this.focusSearch();\n            },\n            addSelectedChoice: function(data) {\n                var enableChoice = !data.locked, enabledItem = $(\"<li class='select2-search-choice'>\" + \"    <div></div>\" + \"    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a>\" + \"</li>\"), disabledItem = $(\"<li class='select2-search-choice select2-locked'>\" + \"<div></div>\" + \"</li>\");\n                var choice = enableChoice ? enabledItem : disabledItem, id = this.id(data), val = this.getVal(), formatted, cssClass;\n                formatted = this.opts.formatSelection(data, choice.find(\"div\"), this.opts.escapeMarkup);\n                if (formatted != undefined) {\n                    choice.find(\"div\").replaceWith(\"<div>\" + formatted + \"</div>\");\n                }\n                cssClass = this.opts.formatSelectionCssClass(data, choice.find(\"div\"));\n                if (cssClass != undefined) {\n                    choice.addClass(cssClass);\n                }\n                if (enableChoice) {\n                    choice.find(\".select2-search-choice-close\").on(\"mousedown\", killEvent).on(\"click dblclick\", this.bind(function(e) {\n                        if (!this.isInterfaceEnabled()) return;\n                        $(e.target).closest(\".select2-search-choice\").fadeOut(\"fast\", this.bind(function() {\n                            this.unselect($(e.target));\n                            this.selection.find(\".select2-search-choice-focus\").removeClass(\"select2-search-choice-focus\");\n                            this.close();\n                            this.focusSearch();\n                        })).dequeue();\n                        killEvent(e);\n                    })).on(\"focus\", this.bind(function() {\n                        if (!this.isInterfaceEnabled()) return;\n                        this.container.addClass(\"select2-container-active\");\n                        this.dropdown.addClass(\"select2-drop-active\");\n                    }));\n                }\n                choice.data(\"select2-data\", data);\n                choice.insertBefore(this.searchContainer);\n                val.push(id);\n                this.setVal(val);\n            },\n            // multi\n            unselect: function(selected) {\n                var val = this.getVal(), data, index;\n                selected = selected.closest(\".select2-search-choice\");\n                if (selected.length === 0) {\n                    throw \"Invalid argument: \" + selected + \". Must be .select2-search-choice\";\n                }\n                data = selected.data(\"select2-data\");\n                if (!data) {\n                    // prevent a race condition when the 'x' is clicked really fast repeatedly the event can be queued\n                    // and invoked on an element already removed\n                    return;\n                }\n                index = indexOf(this.id(data), val);\n                if (index >= 0) {\n                    val.splice(index, 1);\n                    this.setVal(val);\n                    if (this.select) this.postprocessResults();\n                }\n                selected.remove();\n                this.opts.element.trigger({\n                    type: \"removed\",\n                    val: this.id(data),\n                    choice: data\n                });\n                this.triggerChange({\n                    removed: data\n                });\n            },\n            // multi\n            postprocessResults: function(data, initial, noHighlightUpdate) {\n                var val = this.getVal(), choices = this.results.find(\".select2-result\"), compound = this.results.find(\".select2-result-with-children\"), self = this;\n                choices.each2(function(i, choice) {\n                    var id = self.id(choice.data(\"select2-data\"));\n                    if (indexOf(id, val) >= 0) {\n                        choice.addClass(\"select2-selected\");\n                        // mark all children of the selected parent as selected\n                        choice.find(\".select2-result-selectable\").addClass(\"select2-selected\");\n                    }\n                });\n                compound.each2(function(i, choice) {\n                    // hide an optgroup if it doesnt have any selectable children\n                    if (!choice.is(\".select2-result-selectable\") && choice.find(\".select2-result-selectable:not(.select2-selected)\").length === 0) {\n                        choice.addClass(\"select2-selected\");\n                    }\n                });\n                if (this.highlight() == -1 && noHighlightUpdate !== false) {\n                    self.highlight(0);\n                }\n                //If all results are chosen render formatNoMAtches\n                if (!this.opts.createSearchChoice && !choices.filter(\".select2-result:not(.select2-selected)\").length > 0) {\n                    if (!data || data && !data.more && this.results.find(\".select2-no-results\").length === 0) {\n                        if (checkFormatter(self.opts.formatNoMatches, \"formatNoMatches\")) {\n                            this.results.append(\"<li class='select2-no-results'>\" + self.opts.formatNoMatches(self.search.val()) + \"</li>\");\n                        }\n                    }\n                }\n            },\n            // multi\n            getMaxSearchWidth: function() {\n                return this.selection.width() - getSideBorderPadding(this.search);\n            },\n            // multi\n            resizeSearch: function() {\n                var minimumWidth, left, maxWidth, containerLeft, searchWidth, sideBorderPadding = getSideBorderPadding(this.search);\n                minimumWidth = measureTextWidth(this.search) + 10;\n                left = this.search.offset().left;\n                maxWidth = this.selection.width();\n                containerLeft = this.selection.offset().left;\n                searchWidth = maxWidth - (left - containerLeft) - sideBorderPadding;\n                if (searchWidth < minimumWidth) {\n                    searchWidth = maxWidth - sideBorderPadding;\n                }\n                if (searchWidth < 40) {\n                    searchWidth = maxWidth - sideBorderPadding;\n                }\n                if (searchWidth <= 0) {\n                    searchWidth = minimumWidth;\n                }\n                this.search.width(searchWidth);\n            },\n            // multi\n            getVal: function() {\n                var val;\n                if (this.select) {\n                    val = this.select.val();\n                    return val === null ? [] : val;\n                } else {\n                    val = this.opts.element.val();\n                    return splitVal(val, this.opts.separator);\n                }\n            },\n            // multi\n            setVal: function(val) {\n                var unique;\n                if (this.select) {\n                    this.select.val(val);\n                } else {\n                    unique = [];\n                    // filter out duplicates\n                    $(val).each(function() {\n                        if (indexOf(this, unique) < 0) unique.push(this);\n                    });\n                    this.opts.element.val(unique.length === 0 ? \"\" : unique.join(this.opts.separator));\n                }\n            },\n            // multi\n            buildChangeDetails: function(old, current) {\n                var current = current.slice(0), old = old.slice(0);\n                // remove intersection from each array\n                for (var i = 0; i < current.length; i++) {\n                    for (var j = 0; j < old.length; j++) {\n                        if (equal(this.opts.id(current[i]), this.opts.id(old[j]))) {\n                            current.splice(i, 1);\n                            i--;\n                            old.splice(j, 1);\n                            j--;\n                        }\n                    }\n                }\n                return {\n                    added: current,\n                    removed: old\n                };\n            },\n            // multi\n            val: function(val, triggerChange) {\n                var oldData, self = this, changeDetails;\n                if (arguments.length === 0) {\n                    return this.getVal();\n                }\n                oldData = this.data();\n                if (!oldData.length) oldData = [];\n                // val is an id. !val is true for [undefined,null,'',0] - 0 is legal\n                if (!val && val !== 0) {\n                    this.opts.element.val(\"\");\n                    this.updateSelection([]);\n                    this.clearSearch();\n                    if (triggerChange) {\n                        this.triggerChange({\n                            added: this.data(),\n                            removed: oldData\n                        });\n                    }\n                    return;\n                }\n                // val is a list of ids\n                this.setVal(val);\n                if (this.select) {\n                    this.opts.initSelection(this.select, this.bind(this.updateSelection));\n                    if (triggerChange) {\n                        this.triggerChange(this.buildChangeDetails(oldData, this.data()));\n                    }\n                } else {\n                    if (this.opts.initSelection === undefined) {\n                        throw new Error(\"val() cannot be called if initSelection() is not defined\");\n                    }\n                    this.opts.initSelection(this.opts.element, function(data) {\n                        var ids = $.map(data, self.id);\n                        self.setVal(ids);\n                        self.updateSelection(data);\n                        self.clearSearch();\n                        if (triggerChange) {\n                            self.triggerChange(this.buildChangeDetails(oldData, this.data()));\n                        }\n                    });\n                }\n                this.clearSearch();\n            },\n            // multi\n            onSortStart: function() {\n                if (this.select) {\n                    throw new Error(\"Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.\");\n                }\n                // collapse search field into 0 width so its container can be collapsed as well\n                this.search.width(0);\n                // hide the container\n                this.searchContainer.hide();\n            },\n            // multi\n            onSortEnd: function() {\n                var val = [], self = this;\n                // show search and move it to the end of the list\n                this.searchContainer.show();\n                // make sure the search container is the last item in the list\n                this.searchContainer.appendTo(this.searchContainer.parent());\n                // since we collapsed the width in dragStarted, we resize it here\n                this.resizeSearch();\n                // update selection\n                this.selection.find(\".select2-search-choice\").each(function() {\n                    val.push(self.opts.id($(this).data(\"select2-data\")));\n                });\n                this.setVal(val);\n                this.triggerChange();\n            },\n            // multi\n            data: function(values, triggerChange) {\n                var self = this, ids, old;\n                if (arguments.length === 0) {\n                    return this.selection.find(\".select2-search-choice\").map(function() {\n                        return $(this).data(\"select2-data\");\n                    }).get();\n                } else {\n                    old = this.data();\n                    if (!values) {\n                        values = [];\n                    }\n                    ids = $.map(values, function(e) {\n                        return self.opts.id(e);\n                    });\n                    this.setVal(ids);\n                    this.updateSelection(values);\n                    this.clearSearch();\n                    if (triggerChange) {\n                        this.triggerChange(this.buildChangeDetails(old, this.data()));\n                    }\n                }\n            }\n        });\n        $.fn.select2 = function() {\n            var args = Array.prototype.slice.call(arguments, 0), opts, select2, method, value, multiple, allowedMethods = [ \"val\", \"destroy\", \"opened\", \"open\", \"close\", \"focus\", \"isFocused\", \"container\", \"dropdown\", \"onSortStart\", \"onSortEnd\", \"enable\", \"readonly\", \"positionDropdown\", \"data\", \"search\" ], valueMethods = [ \"val\", \"opened\", \"isFocused\", \"container\", \"data\" ], methodsMap = {\n                search: \"externalSearch\"\n            };\n            this.each(function() {\n                if (args.length === 0 || typeof args[0] === \"object\") {\n                    opts = args.length === 0 ? {} : $.extend({}, args[0]);\n                    opts.element = $(this);\n                    if (opts.element.get(0).tagName.toLowerCase() === \"select\") {\n                        multiple = opts.element.prop(\"multiple\");\n                    } else {\n                        multiple = opts.multiple || false;\n                        if (\"tags\" in opts) {\n                            opts.multiple = multiple = true;\n                        }\n                    }\n                    select2 = multiple ? new MultiSelect2() : new SingleSelect2();\n                    select2.init(opts);\n                } else if (typeof args[0] === \"string\") {\n                    if (indexOf(args[0], allowedMethods) < 0) {\n                        throw \"Unknown method: \" + args[0];\n                    }\n                    value = undefined;\n                    select2 = $(this).data(\"select2\");\n                    if (select2 === undefined) return;\n                    method = args[0];\n                    if (method === \"container\") {\n                        value = select2.container;\n                    } else if (method === \"dropdown\") {\n                        value = select2.dropdown;\n                    } else {\n                        if (methodsMap[method]) method = methodsMap[method];\n                        value = select2[method].apply(select2, args.slice(1));\n                    }\n                    if (indexOf(args[0], valueMethods) >= 0) {\n                        return false;\n                    }\n                } else {\n                    throw \"Invalid arguments to select2 plugin: \" + args;\n                }\n            });\n            return value === undefined ? this : value;\n        };\n        // plugin defaults, accessible to users\n        $.fn.select2.defaults = {\n            width: \"copy\",\n            indentChar: \"　\",\n            treeview: false,\n            treeviewInitState: \"expanded\",\n            treeviewExpandedClass: \"glyphicon glyphicon-chevron-down\",\n            treeviewCollapsedClass: \"glyphicon glyphicon-chevron-right\",\n            loadMorePadding: 0,\n            closeOnSelect: true,\n            openOnEnter: true,\n            containerCss: {},\n            dropdownCss: {},\n            containerCssClass: \"\",\n            dropdownCssClass: \"\",\n            formatResult: function(result, container, query, escapeMarkup) {\n                var markup = [];\n                markMatch(result.text, query.term, markup, escapeMarkup);\n                return markup.join(\"\");\n            },\n            formatSelection: function(data, container, escapeMarkup) {\n                return data ? escapeMarkup(data.text) : undefined;\n            },\n            sortResults: function(results, container, query) {\n                return results;\n            },\n            formatResultCssClass: function(data) {\n                return undefined;\n            },\n            formatSelectionCssClass: function(data, container) {\n                return undefined;\n            },\n            formatNoMatches: function() {\n                return \"No matches found\";\n            },\n            formatInputTooShort: function(input, min) {\n                var n = min - input.length;\n                return \"Please enter \" + n + \" more character\" + (n == 1 ? \"\" : \"s\");\n            },\n            formatInputTooLong: function(input, max) {\n                var n = input.length - max;\n                return \"Please delete \" + n + \" character\" + (n == 1 ? \"\" : \"s\");\n            },\n            formatSelectionTooBig: function(limit) {\n                return \"You can only select \" + limit + \" item\" + (limit == 1 ? \"\" : \"s\");\n            },\n            formatLoadMore: function(pageNumber) {\n                return \"Loading more results...\";\n            },\n            formatSearching: function() {\n                return \"Searching...\";\n            },\n            minimumResultsForSearch: 0,\n            minimumInputLength: 0,\n            maximumInputLength: null,\n            maximumSelectionSize: 0,\n            id: function(e) {\n                return e.id;\n            },\n            matcher: function(term, text) {\n                return (\"\" + text).toUpperCase().indexOf((\"\" + term).toUpperCase()) >= 0;\n            },\n            separator: \",\",\n            tokenSeparators: [],\n            tokenizer: defaultTokenizer,\n            escapeMarkup: defaultEscapeMarkup,\n            blurOnChange: false,\n            selectOnBlur: false,\n            adaptContainerCssClass: function(c) {\n                return c;\n            },\n            adaptDropdownCssClass: function(c) {\n                return null;\n            }\n        };\n        $.fn.select2.ajaxDefaults = {\n            transport: $.ajax,\n            params: {\n                type: \"GET\",\n                cache: false,\n                dataType: \"json\"\n            }\n        };\n        // exports\n        window.Select2 = {\n            query: {\n                ajax: ajax,\n                local: local,\n                tags: tags\n            },\n            util: {\n                debounce: debounce,\n                markMatch: markMatch,\n                escapeMarkup: defaultEscapeMarkup\n            },\n            \"class\": {\n                \"abstract\": AbstractSelect2,\n                single: SingleSelect2,\n                multi: MultiSelect2\n            }\n        };\n    })(jQuery);\n/* eslint-disable */\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/libs/select2.js"],"sourceRoot":""}