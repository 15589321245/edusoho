{% extends 'course-manage/tasks/layout.html.twig' %}
{% do script(['libs/jquery-sortable.js','app/js/course-manage/index.js']) %}

{% block page_title %}课时管理{% endblock %}
{% block main_body %}
  <div class="panel panel-default">
    {% include 'course-manage/panel-header/course-publish-header.html.twig' with {code: side_nav} %}
    <div class="panel-body">

      {% include 'course-manage/tasks/task-list-header.html.twig' %}

      <ul id="sortable-list" class="task-manage-list sortable-list"
          data-sort-url='{{ path("course_manage_items_sort",{courseId: course.id}) }}'>
        {% for key, item in items %}
          {% if item.itemType == 'task' %}
            {% include 'task-manage/item/normal-list-item.html.twig' with {task:item} %}
          {% elseif item.itemType == 'chapter' %}
            {% include 'course-manage/chapter/normal-list-item.html.twig' with {chapter:item, course:course} %}
          {% endif %}
        {% endfor %}
      </ul>
      <div class="empty task-empty js-task-empty {% if items %}  hidden {% endif %}">
        <i class="es-icon es-icon-book task-empty-icon"></i>
        {{'course.plan_task.empty'|trans}}
      </div>
    </div>
  </div>
{% endblock %}
