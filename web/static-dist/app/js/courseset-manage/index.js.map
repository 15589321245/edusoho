{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/course-manage/help.js?ac8f","webpack:///./app/Resources/static-src/app/js/courseset-manage/index.js","webpack:///./app/Resources/static-src/app/js/courseset-manage/intro.js?a3f1"],"names":["sortablelist","list","$list","$","data","sortable","get","lessonNum","chapterNum","unitNum","find","each","$item","hasClass","length","text","trigger","post","ids","response","taskSortable","element","ajax","closeCourse","on","evt","$target","currentTarget","confirm","Translator","trans","warn","message","success","location","reload","deleteCourse","redirect","window","href","publishCourse","target","delay","deleteTask","parents","remove","console","log","children","removeClass","document","publishTask","event","parentLi","closest","addClass","unpublishTask","showSettings","$this","$li","stop","slideUp","slideDown","siblings","hide","TabChange","click","updateTaskNum","container","TaskListHeaderFixed","$header","headerTop","offset","top","scroll","scrollTop","setTimeout","intro","introType","COURSE_BASE_INTRO","COURSE_TASK_INTRO","COURSE_TASK_DETAIL_INTRO","COURSE_LIST_INTRO","COURSE_LIST_INTRO_COOKIE","Intro","customClass","exit","isTaskCreatePage","initTaskCreatePageIntro","isCourseListPage","initNotTaskCreatePageIntro","initCourseListPageIntro","attr","steps","doneLabel","introJs","setOptions","skipLabel","nextLabel","prevLabel","showBullets","tooltipPosition","showStepNumbers","exitOnEsc","exitOnOverlayClick","tooltipClass","start","onexit","onchange","_currentStep","_introItems","before","store","set","introStart","initAllSteps","initTaskSteps","initTaskDetailSteps","initNotTaskPageSteps","listLength","Promise","resolve","reject","$courseMenu","then","initCourseListIntro","initCourseListSteps","arry","isInitTaskDetailIntro","push","position","introBtnClassName"],"mappings":"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","file":"app/js/courseset-manage/index.js","sourcesContent":["import notify from 'common/notify';\nimport sortList from 'common/sortable';\n\nexport const sortablelist = (list) => {\n  let $list = $(list);\n  let data = $list.sortable(\"serialize\").get();\n\n  let lessonNum = 0,\n    chapterNum = 0,\n    unitNum = 0;\n  $list.find('.task-manage-item').each(function () {\n    let $item = $(this);\n    if ($item.hasClass('js-task-manage-item')) {\n      if ($item.find('.number').length > 0) {\n        lessonNum++;\n        $item.find('.number').text(lessonNum);\n      }\n    } else if ($item.hasClass('task-manage-unit')) {\n      unitNum++;\n      $item.find('.number').text(unitNum);\n    } else if ($item.hasClass('task-manage-chapter')) {\n      chapterNum++;\n      unitNum = 0;\n      $item.find('.number').text(chapterNum);\n    }\n  });\n\n  $list.trigger('finished');\n\n  $.post($list.data('sortUrl'), { ids: data }, (response) => {\n\n  });\n}\n\nexport const taskSortable = (list) => {\n  if ($(list).length) {\n    sortList({\n      element: list,\n      ajax: false,\n    }, (data) => {\n      sortablelist(list);\n    });\n  }\n}\n\nexport const closeCourse = () => {\n  $('body').on('click', '.js-close-course', function (evt) {\n    let $target = $(evt.currentTarget);\n    if (!confirm(Translator.trans('course.manage.close_hint'))) {\n      return;\n    }\n\n    $.post($target.data('check-url'), function (data) {\n\n      if (data.warn) {\n        if (!confirm(Translator.trans(data.message))) {\n          return;\n        }\n      }\n\n      $.post($target.data('url'), function (data) {\n        if (data.success) {\n          notify('success', Translator.trans('course.manage.close_success_hint'));\n          location.reload();\n        } else {\n          notify('danger', Translator.trans('course.manage.close_fail_hint') + ':' + data.message);\n        }\n      });\n    });\n  });\n};\n\nexport const deleteCourse = () => {\n  $('body').on('click', '.js-delete-course', function (evt) {\n    if (!confirm(Translator.trans('course.manage.delete_hint'))) {\n      return;\n    }\n    $.post($(evt.currentTarget).data('url'), function (data) {\n      if (data.success) {\n        notify('success', Translator.trans('site.delete_success_hint'));\n        if (data.redirect) {\n          window.location.href = data.redirect;\n        }else {\n          location.reload();\n        }\n      } else {\n        notify('danger', Translator.trans('site.delete_fail_hint') + ':' + data.message);\n      }\n    });\n  });\n};\n\nexport const publishCourse = () => {\n  $('body').on('click', '.js-publish-course', function (evt) {\n    if (!confirm(Translator.trans('course.manage.publish_hint'))) {\n      return;\n    }\n    $.post($(evt.target).data('url'), function (data) {\n      if (data.success) {\n        notify('success', Translator.trans('course.manage.task_publish_success_hint'));\n        location.reload();\n      } else {\n        notify('danger', Translator.trans('course.manage.task_publish_fail_hint')+':' + data.message, {delay:5000});\n      }\n    });\n  });\n};\n\nexport const deleteTask = () => {\n  $('body').on('click', '.delete-item', function (evt) {\n    if ($(evt.currentTarget).data('type') == 'task') {\n      if (!confirm(Translator.trans('course.manage.task_delete_hint'))) {\n        return;\n      }\n    } else if ($(evt.currentTarget).data('type') == 'chapter') {\n      if (!confirm(Translator.trans('course.manage.chapter_delete_hint'))) {\n        return;\n      }\n    }\n    $.post($(evt.currentTarget).data('url'), function (data) {\n      if (data.success) {\n        notify('success', Translator.trans('site.delete_success_hint'));\n        $(evt.target).parents('.task-manage-item').remove();\n        sortablelist('#sortable-list');\n        console.log($('#sortable-list').children('li').length);\n        if($('#sortable-list').children('li').length < 1 && $('.js-task-empty').hasClass('hidden') ) {\n            $('.js-task-empty').removeClass('hidden');\n        }\n        document.location.reload();\n      } else {\n        notify('danger', Translator.trans('site.delete_fail_hint') + ':' + data.message);\n      }\n    });\n  });\n};\n\nexport const publishTask = () => {\n  $('body').on('click', '.publish-item', (event) => {\n    $.post($(event.target).data('url'), function (data) {\n      if (data.success) {\n        var parentLi = $(event.target).closest('.task-manage-item');\n        notify('success', Translator.trans('course.manage.task_publish_success_hint'));\n        $(parentLi).find('.publish-item').addClass('hidden')\n        $(parentLi).find('.delete-item').addClass('hidden')\n        $(parentLi).find('.unpublish-item').removeClass('hidden')\n        $(parentLi).find('.publish-status').addClass('hidden')\n      } else {\n        notify('danger', Translator.trans('course.manage.task_publish_fail_hint') + ':' + data.message);\n      }\n    });\n  })\n};\n\nexport const unpublishTask = () => {\n  $('body').on('click', '.unpublish-item', (event) => {\n    $.post($(event.target).data('url'), function (data) {\n      if (data.success) {\n        var parentLi = $(event.target).closest('.task-manage-item');\n        notify('success', Translator.trans('course.manage.task_unpublish_success_hint'));\n        $(parentLi).find('.publish-item').removeClass('hidden')\n        $(parentLi).find('.delete-item').removeClass('hidden')\n        $(parentLi).find('.unpublish-item').addClass('hidden')\n        $(parentLi).find('.publish-status').removeClass('hidden')\n      } else {\n        notify('danger', Translator.trans('course.manage.task_unpublish_fail_hint') + ':' + data.message);\n      }\n    });\n  })\n};\n\nexport const showSettings = () => {\n  $(\"#sortable-list\").on('click', '.js-item-content', (event) => {\n    console.log('click');\n    let $this = $(event.currentTarget);\n    let $li = $this.closest('.js-task-manage-item');\n    if ($li.hasClass('active')) {\n      $li.removeClass('active').find('.js-settings-list').stop().slideUp(500);\n    }\n    else {\n      $li.addClass('active').find('.js-settings-list').stop().slideDown(500);\n      $li.siblings(\".js-task-manage-item.active\").removeClass('active').find('.js-settings-list').hide();\n    }\n  });\n};\n\nexport const TabChange = () => {\n  $('[data-role=\"tab\"]').click(function (event) {\n    let $this = $(this);\n    $($this.data('tab-content')).removeClass(\"hidden\").siblings('[data-role=\"tab-content\"]').addClass('hidden');\n  });\n};\n\nexport const updateTaskNum = (container) => {\n  // let $container = $(container);\n  // $container.on('finished',function(){\n  //   $('#task-num').text($(container).find('i[data-role=\"task\"]').length);\n  // })\n}\n\nexport const TaskListHeaderFixed = () => {\n  let $header = $('.js-task-list-header');\n  if(!$header.length){\n    return;\n  }\n  let headerTop = $header.offset().top;\n\t$(window).scroll(function(event) {\n\t\t\tif ($(window).scrollTop() >= headerTop) {\n\t\t\t\t$header.addClass('fixed')\n\t\t\t} else {\n\t\t\t\t$header.removeClass('fixed');\n\t\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/course-manage/help.js","import { publishCourse } from 'app/js/course-manage/help';\nimport Intro from './intro';\n\n//发布教学计划\npublishCourse();\nsetTimeout(function() {\n  let intro = new Intro();\n  intro.introType();\n}, 500);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/courseset-manage/index.js","import 'store';\nimport Cookies from 'js-cookie';\nconst COURSE_BASE_INTRO = 'COURSE_BASE_INTRO';\nconst COURSE_TASK_INTRO = 'COURSE_TASK_INTRO';\nconst COURSE_TASK_DETAIL_INTRO = 'COURSE_TASK_DETAIL_INTRO';\nconst COURSE_LIST_INTRO = 'COURSE_LIST_INTRO';\nconst COURSE_LIST_INTRO_COOKIE = 'COURSE_LIST_INTRO_COOKIE';\n\nexport default class Intro {\n  constructor() {\n    this.intro = null;\n    this.customClass = \"es-intro-help multistep\";\n    $('body').on('click','.js-skip',(event)=>{\n      this.intro.exit();\n    });\n  }\n  \n  introType() {\n    if (this.isTaskCreatePage()) {\n      this.initTaskCreatePageIntro();\n      return;\n    }\n    if (!this.isCourseListPage()) {\n      this.initNotTaskCreatePageIntro();\n      return;\n    }\n    this.initCourseListPageIntro();\n  }\n\n  isCourseListPage() {\n    return !!$('#courses-list-table').length;\n  }\n\n  isTaskCreatePage() {\n    return !!$('#step-3').length;\n  }\n\n  isInitTaskDetailIntro() {\n    $('.js-task-manage-item').attr('into-step-id', 'step-5');\n    return !!$('.js-settings-list').length;\n  }\n\n  introStart(steps) {\n    let doneLabel = '<i class=\"es-icon es-icon-close01\"></i>';\n    this.intro = introJs();\n    if(steps.length < 2) {\n       doneLabel= Translator.trans('intro.confirm_hint');\n       this.customClass = \"es-intro-help\";\n    }else {\n       this.customClass = \"es-intro-help multistep\";\n    }\n    console.log(steps.length < 2);\n    console.log(this.customClass);\n    console.log(doneLabel);\n    this.intro.setOptions({\n      steps: steps,\n      skipLabel: doneLabel,\n      nextLabel: Translator.trans('course_set.manage.next_label'),\n      prevLabel: Translator.trans('course_set.manage.prev_label'),\n      doneLabel: doneLabel,\n      showBullets: false,\n      tooltipPosition: 'auto',\n      showStepNumbers: false,\n       exitOnEsc: false,\n      exitOnOverlayClick: false,\n      tooltipClass:this.customClass,\n    });\n    \n    this.intro.start().onexit(function(){\n    }).onchange(()=>{\n      console.log(this.intro);\n      if(this.intro._currentStep ==(this.intro._introItems.length -1 ) ) {\n        $('.introjs-nextbutton').before('<a class=\"introjs-button  done-button js-skip\">'+Translator.trans('intro.confirm_hint')+'<a/>');\n      }\n      else {\n        $('.js-skip').remove();\n      }\n    })\n  }\n\n  initTaskCreatePageIntro() {\n    $('.js-task-manage-item:first .js-item-content').trigger('click');\n    if (!store.get(COURSE_BASE_INTRO) && !store.get(COURSE_TASK_INTRO)) {\n      store.set(COURSE_BASE_INTRO, true);\n      store.set(COURSE_TASK_INTRO, true);\n      this.introStart(this.initAllSteps());\n    } else if (!store.get(COURSE_TASK_INTRO)) {\n      store.set(COURSE_TASK_INTRO, true);\n      this.introStart(this.initTaskSteps());\n    }\n  }\n\n  initTaskDetailIntro(element) {\n    if (!store.get(COURSE_TASK_DETAIL_INTRO)) {\n      store.set(COURSE_TASK_DETAIL_INTRO,true);\n      this.introStart(this.initTaskDetailSteps(element));\n    }\n  }\n\n  initNotTaskCreatePageIntro() {\n    if (!store.get(COURSE_BASE_INTRO)) {\n      store.set(COURSE_BASE_INTRO, true);\n      this.introStart(this.initNotTaskPageSteps());\n    }\n  }\n\n  isSetCourseListCookies() {\n    if (!store.get(COURSE_LIST_INTRO)) {\n      Cookies.set(COURSE_LIST_INTRO_COOKIE, true);\n    }\n  }\n\n  initCourseListPageIntro() {\n    let listLength = $('#courses-list-table').find('tbody tr').length;\n    \n    if (!(listLength === 2) || store.get(COURSE_LIST_INTRO)|| !Cookies.get(COURSE_LIST_INTRO_COOKIE)) {\n      return;\n    }\n    Cookies.remove(COURSE_LIST_INTRO_COOKIE);\n    new Promise((resolve, reject) => {\n      setTimeout(function () {\n        let $courseMenu = $('.js-sidenav-course-menu');\n        if (!$courseMenu.length) {\n          resolve();\n          return;\n        }\n        $('.js-sidenav-course-menu').slideUp(function () {\n          resolve();\n        });\n      }, 100);\n    }).then(() => {\n      setTimeout(() => {\n        this.initCourseListIntro('.js-sidenav');\n        console.log('initCourseListIntro');\n      }, 100);\n    });\n  }\n\n  initCourseListIntro(element) {\n    if (!store.get(COURSE_LIST_INTRO)) {\n      store.set(COURSE_LIST_INTRO, true);\n      this.introStart(this.initCourseListSteps(element));\n    }\n  }\n\n  initAllSteps() {\n    let arry = [\n      {\n        intro: Translator.trans('course_set.manage.upgrade_hint'),\n      },\n      {\n        element: '#step-1',\n        intro: Translator.trans('course_set.manage.upgrade_step1_hint'),\n      },\n      {\n        element: '#step-2',\n        intro: Translator.trans('course_set.manage.upgrade_step2_hint'),\n      },\n      {\n        element: '#step-3',\n        intro: Translator.trans('course_set.manage.upgrade_step3_hint'),\n      }\n    ];\n    //如果存在任务\n    if (this.isInitTaskDetailIntro()) {\n      arry.push({\n        element: '[into-step-id=\"step-5\"]',\n        intro: Translator.trans('course_set.manage.upgrade_step5_hint'),\n      })\n      if (!store.get(COURSE_TASK_DETAIL_INTRO)) {\n        store.set(COURSE_TASK_DETAIL_INTRO,true);\n      }\n    }\n    return arry;\n  }\n\n  initNotTaskPageSteps() {\n    return [\n      {\n        intro: Translator.trans('course_set.manage.upgrade_hint'),\n      },\n      {\n        element: '#step-1',\n        intro: Translator.trans('course_set.manage.upgrade_step1_hint'),\n      },\n      {\n        element: '#step-2',\n        intro: Translator.trans('course_set.manage.upgrade_step2_hint'),\n      }\n    ];\n  }\n\n  initTaskSteps() {\n    let arry = [\n      {\n        element: '#step-3',\n        intro: Translator.trans('course_set.manage.upgrade_step3_hint'),\n      }\n    ];\n    //如果存在任务\n    if (this.isInitTaskDetailIntro()) {\n      arry.push({\n        element: '#step-5',\n        intro: Translator.trans('course_set.manage.upgrade_step5_hint'),\n        position: 'bottom',\n      })\n      if (!store.get(COURSE_TASK_DETAIL_INTRO)) {\n        store.set(COURSE_TASK_DETAIL_INTRO,true);\n      }\n    }\n\n    return arry;\n  }\n\n  initTaskDetailSteps(element) {\n    return [\n      {\n        element: element,\n        intro: Translator.trans('course_set.manage.activity_link_hint'),\n        position: 'bottom',\n      },\n    ];\n  }\n\n  initCourseListSteps(element) {\n    return [\n      {\n        element: element,\n        intro: Translator.trans('course_set.manage.hint')\n      }\n    ];\n  }\n  initResetStep(introBtnClassName='') {\n    return [\n      {\n        element: '.js-intro-btn-group',\n        intro: Translator.trans('course_set.manage.all_tutorial', { 'introBtnClassName': introBtnClassName}),\n        position:'top'\n      }\n    ];\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/courseset-manage/intro.js"],"sourceRoot":""}