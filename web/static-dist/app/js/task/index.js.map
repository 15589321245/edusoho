{"version":3,"sources":["webpack:///./app/Resources/static-src/app/common/widget/chapter-animate.js","webpack:///./app/Resources/static-src/app/js/task/index.js","webpack:///./app/Resources/static-src/app/js/task/task.js","webpack:///./app/Resources/static-src/app/js/task/widget/sidebar.js","webpack:///./app/Resources/static-src/app/js/task/widget/task-pipe.js","webpack:///./app/Resources/static-src/app/js/task/widget/task-ui.js","webpack:///./app/Resources/static-src/common/es-infinite-scroll.js","webpack:///./~/waypoints/lib/jquery.waypoints.min.js","webpack:///./~/waypoints/lib/shortcuts/infinite.min.js"],"names":["toggleIcon","target","$expandIconClass","$putIconClass","$icon","find","$text","hasClass","removeClass","addClass","text","Translator","trans","chapterAnimate","delegateTarget","$","on","event","$this","currentTarget","nextUntil","animate","height","opacity","element","mode","val","TaskShow","ui","init","initPlugin","initSidebar","initTaskPipe","initLearnBtn","tooltip","popover","html","trigger","post","data","modal","response","$nextBtn","attr","learned","eventEmitter","addListener","_receiveFinish","get","learnedWeakPrompt","sidebar","reload","url","px","time","right","$paneBody","$box","parent","boxHeight","bodyHeight","$activeItem","top","position","standardPosition","infiniteScroll","context","document","getElementsByClassName","console","log","scrollTop","TaskSidebar","isManualOperation","fixIconInChrome","fetchPlugins","then","plugins","renderToolbar","renderPane","hide","show","bindEvent","fail","reduce","plugin","code","icon","name","append","$btn","pluginCode","$pane","undefined","operationContent","perfectScrollbar","listEvent","emit","foldContent","popupContent","side_right","width","content_right","$currentPane","undelegate","children","click","length","TaskPipe","eventUrl","Error","eventDatas","intervalId","lastTime","eventMap","receives","_registerChannel","_initInterval","instanceId","fedx","addFilter","channel","topic","direction","subscribe","callback","_flush","window","onbeforeunload","_clearInterval","minute","setInterval","clearInterval","ajax","events","done","_publishResponse","result","status","listners","i","listner","error","publish","push","TaskUi","option","learningPrompt","learnedPrompt","learnprompt","btnLearn","setTimeout","ESInfiniteScroll","options","initDownInfinite","initUpLoading","$target","method","async","success","prependTo","$upLink","remove","defaultDownOptions","Object","assign","downInfinite","Waypoint","Infinite"],"mappings":"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","file":"app/js/task/index.js","sourcesContent":["export let toggleIcon = (target, $expandIconClass, $putIconClass) => {\n  let $icon = target.find('.js-remove-icon');\n  let $text = target.find('.js-remove-text');\n  if ($icon.hasClass($expandIconClass)) {\n    $icon.removeClass($expandIconClass).addClass($putIconClass);\n    $text ? $text.text(Translator.trans('收起')): '';\n  } else {\n    $icon.removeClass($putIconClass).addClass($expandIconClass);\n    $text ? $text.text(Translator.trans('展开')): '';\n  }\n}\n\nexport let chapterAnimate = (\n  delegateTarget = 'body',\n  target = '.js-task-chapter',\n  $expandIconClass = 'es-icon-remove',\n  $putIconClass = 'es-icon-anonymous-iconfont') => {\n  $(delegateTarget).on('click', target, (event) => {\n    let $this = $(event.currentTarget);\n    $this.nextUntil(target).animate({ height: 'toggle', opacity: 'toggle' }, \"normal\");\n    toggleIcon($this, $expandIconClass, $putIconClass)\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/widget/chapter-animate.js","import TaskShow from './task';\n\nnew TaskShow({\n  element: $('body'),\n  mode: $('body').find('#js-hidden-data [name=\"mode\"]').val()\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/task/index.js","import TaskSidebar from \"./widget/sidebar\";\nimport TaskUi from \"./widget/task-ui\";\nimport TaskPipe from \"./widget/task-pipe\";\nimport Emitter from \"common/es-event-emitter\";\nimport ESInfiniteScroll from 'common/es-infinite-scroll';\n\nexport default class TaskShow extends Emitter {\n  constructor({element, mode}) {\n    super();\n    this.element = $(element);\n    this.mode = mode;\n\n    this.ui = new TaskUi({\n      element: '.js-task-dashboard-page'\n    });\n\n    this.init();\n  }\n\n  init() {\n    this.initPlugin();\n    this.initSidebar();\n    if (this.mode != 'preview') {\n      this.initTaskPipe();\n      this.initLearnBtn();\n    }\n  }\n\n  initPlugin() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('[data-toggle=\"popover\"]').popover({\n      html: true,\n      trigger: 'hover'\n    });\n  }\n\n  initLearnBtn() {\n    this.element.on('click', '#learn-btn', event => {\n      $.post($('#learn-btn').data('url'), response => {\n        $('#modal').modal('show');\n        $('#modal').html(response);\n        $('input[name=\"task-result-status\"]', $('#js-hidden-data')).val('finish');\n\t      let $nextBtn = $('.js-next-mobile-btn');\n\t      if($nextBtn.data('url')) {\n\t\t      $nextBtn.removeClass('disabled').attr('href', $nextBtn.data('url'));\n\t      }\n        this.ui.learned();\n      });\n    });\n  }\n\n  initTaskPipe() {\n    this.eventEmitter = new TaskPipe(this.element.find('#task-content-iframe'));\n    this.eventEmitter.addListener('finish', response => {\n      this._receiveFinish(response);\n    });\n  }\n\n  _receiveFinish(response) {\n    if ($('input[name=\"task-result-status\"]', $('#js-hidden-data')).val() != 'finish') {\n      $.get($(\".js-learned-prompt\").data('url'), html => {\n        $(\".js-learned-prompt\").attr('data-content', html);\n        this.ui.learnedWeakPrompt();\n        this.ui.learned();\n        this.sidebar.reload();\n        let $nextBtn = $('.js-next-mobile-btn');\n\t      if($nextBtn.data('url')) {\n\t\t      $nextBtn.removeClass('disabled').attr('href', $nextBtn.data('url'));\n\t      }\n        $('input[name=\"task-result-status\"]', $('#js-hidden-data')).val('finish');\n      });\n    }\n  }\n\n  initSidebar() {\n    this.sidebar = new TaskSidebar({\n      element: this.element.find('#dashboard-sidebar'),\n      url: this.element.find('#js-hidden-data [name=\"plugins_url\"]').val()\n    });\n    this.sidebar\n      .on('popup', (px, time) => {\n        this.element.find('#dashboard-content').animate({\n          right: px\n        }, time);\n      })\n      .on('fold', (px, time) => {\n        this.element.find('#dashboard-content').animate({\n          right: px\n        }, time);\n      })\n      .on('task-list-loaded',($paneBody)=>{\n        let $box = $paneBody.parent();\n        let boxHeight = $box.height();\n        let bodyHeight = $paneBody.height();\n        let $activeItem = $paneBody.find('.task-item.active');\n        let top = $activeItem.position().top;\n        let standardPosition = (boxHeight - $activeItem.height())/2;\n\n        let infiniteScroll = new ESInfiniteScroll({\n          context: document.getElementsByClassName('js-sidebar-pane ps-container')\n        });\n\n        if ((bodyHeight - top) < standardPosition) {\n            console.log('位置靠近底部，top偏移',top - standardPosition);\n            console.log(bodyHeight - boxHeight);\n            $box.scrollTop(bodyHeight - boxHeight);\n            return;\n        }\n        if (top > standardPosition) {\n          console.log('位置大于标准位置时，top偏移',top - standardPosition);\n          console.log(top,standardPosition);\n          $box.scrollTop(top - standardPosition);\n        }\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/task/task.js","import Emitter from \"component-emitter\";\nimport { chapterAnimate } from 'app/common/widget/chapter-animate';\n\nexport default class TaskSidebar extends Emitter {\n  constructor({element, url}) {\n    super();\n    this.url = url;\n    this.isManualOperation = true;\n    this.element = $(element);\n    this.init();\n  }\n\n  init() {\n    this.fixIconInChrome();\n    this.fetchPlugins()\n      .then((plugins) => {\n        this.plugins = plugins;\n        this.renderToolbar();\n        this.renderPane();\n        this.element.hide().show();\n        this.bindEvent();\n      })\n      .fail(error => {\n      });\n  }\n\n  fetchPlugins() {\n    return $.post(this.url);\n  }\n\n  // 修复字体图标在chrome下，加载两次从而不能显示的问题\n  fixIconInChrome() {\n    let html = `<i class=\"es-icon es-icon-chevronleft\"></i>`;\n    this.element.html(html);\n  }\n\n  renderToolbar() {\n    let html = `\n    <div class=\"dashboard-toolbar\">\n      <ul class=\"dashboard-toolbar-nav\" id=\"dashboard-toolbar-nav\">\n        ${this.plugins.reduce((html, plugin) => {\n        return html += `<li data-plugin=\"${plugin.code}\" data-url=\"${plugin.url}\"><a href=\"#\"><div class=\"mbs es-icon ${plugin.icon}\"></div>${plugin.name}</a></li>`;\n      }, '')}\n      </ul>\n    </div>`;\n    this.element.html(html);\n  }\n\n  renderPane() {\n    let html = this.plugins.reduce((html, plugin) => {\n      return html += `<div data-pane=\"${plugin.code}\" class=\" ${plugin.code}-pane js-sidebar-pane\" ><div class=\"${plugin.code}-pane-body js-sidebar-pane-body\"></div></div>`;\n    }, '');\n    this.element.append(html);\n    \n  }\n\n  bindEvent() {\n    this.element.find('#dashboard-toolbar-nav').on('click', 'li', (event) => {\n      let $btn = $(event.currentTarget);\n      let pluginCode = $btn.data('plugin');\n      let url = $btn.data('url');\n      let $pane = this.element.find(`[data-pane=\"${pluginCode}\"]`);\n      let $paneBody = $pane.find('.js-sidebar-pane-body');\n      if (pluginCode === undefined || url === undefined) {\n        return;\n      }\n      \n      if(this.isManualOperation){\n          this.operationContent($btn);\n      }\n  \n      if ($btn.data('loaded')) {\n        return;\n      }\n\n      $.get(url)\n        .then(html => {\n          $paneBody.html(html);\n          $pane.perfectScrollbar();\n          $btn.data('loaded', true);\n          this.listEvent();\n          this.isManualOperation = true;\n          this.emit($btn.data('plugin')+'-loaded', $paneBody);\n        });\n    });\n  }\n\n  operationContent($btn) {\n    if ($btn.hasClass('active')) {\n      this.foldContent();\n      $btn.removeClass('active');\n      $('.dashboard-sidebar').removeClass('spread');\n    } else {\n      this.element.find('#dashboard-toolbar-nav li').removeClass('active');\n      $btn.addClass('active');\n      this.element.find('[data-pane]').hide();\n      this.element.find(`[data-pane=\"${$btn.data('plugin')}\"]`).show();\n      this.popupContent();\n      $('.dashboard-sidebar').addClass('spread');\n    }\n    \n  }\n\n  popupContent(time = 500) {\n    let side_right = '0px';\n    let width = $('#dashboard-sidebar').width();\n    \n    let content_right = width +  35 +'px';\n\n    this.emit('popup', content_right, time);\n    this.element.animate({\n      right: side_right\n    }, time);\n  }\n\n  foldContent(time = 500) {\n    let side_right = '-' + this.element.width() + 'px';\n    let content_right = '35px';\n\n    this.emit('fold', content_right, time);\n    this.element.animate({\n      right: side_right\n    }, time);\n  }\n\n  reload() {\n    this.isManualOperation = false;\n    const $currentPane = this.element.find('.js-sidebar-pane:visible');\n    const pluginCode = $currentPane.data('pane');\n    $currentPane.undelegate();\n    this.element.find('#dashboard-toolbar-nav').children(`[data-plugin=\"${pluginCode}\"]`)\n      .data('loaded', false)\n      .click();\n  }\n\n  listEvent() {\n    if($('.js-sidebar-pane:visible .task-list-pane-body').length) {\n      chapterAnimate();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/task/widget/sidebar.js","import postal from 'postal';\nimport 'postal.federation';\nimport 'postal.xframe';\n\nexport default class TaskPipe {\n  constructor(element) {\n    this.element = $(element);\n    this.eventUrl = this.element.data('eventUrl');\n\n    if (this.eventUrl === undefined) {\n      throw Error('task event url is undefined');\n    }\n\n    this.eventDatas = {};\n    this.intervalId = null;\n    this.lastTime = this.element.data('lastTime');\n    this.eventMap = {\n      receives: {}\n    };\n\n    this._registerChannel();\n\n    if (this.element.data('eventEnable') == 1) {\n        this._initInterval();\n    }\n  }\n\n  _registerChannel() {\n    postal.instanceId('task');\n\n    postal.fedx.addFilter([\n      {\n        channel: 'activity-events', //接收 activity iframe的事件\n        topic: '#',\n        direction: 'in'\n      },\n      {\n        channel: 'task-events',  // 发送事件到activity iframe\n        topic: '#',\n        direction: 'out'\n      }\n    ]);\n\n    postal.subscribe({\n      channel: 'activity-events',\n      topic: '#',\n      callback: ({event, data}) => {\n        this.eventDatas[event] = data;\n        this._flush();\n      }\n    });\n\n    return this;\n  }\n\n  _initInterval() {\n    window.onbeforeunload = () => {\n      this._clearInterval();\n      this._flush();\n    }\n    this._clearInterval();\n    let minute = 60 * 1000;\n    this.intervalId = setInterval(() => this._flush(), minute);\n  }\n\n  _clearInterval() {\n    clearInterval(this.intervalId);\n  }\n\n  _flush() {\n    let ajax = $.post(this.eventUrl, {data: {lastTime: this.lastTime, events: this.eventDatas}})\n      .done((response) => {\n        this._publishResponse(response);\n        this.eventDatas = {};\n        this.lastTime = response.lastTime;\n        if (response && response.result && response.result.status) {\n          let listners = this.eventMap.receives[response.result.status];\n          if (listners) {\n            for (var i = listners.length - 1; i >= 0; i--) {\n              let listner = listners[i];\n              listner(response);\n            }\n          }\n        }\n      })\n      .fail((error) => {\n      });\n\n    return ajax;\n  }\n\n  _publishResponse(response) {\n    postal.publish({\n      channel: 'task-events',\n      topic: '#',\n      data: {event: response.event, data: response.data}\n    });\n  }\n\n  addListener(event, callback) {\n    this.eventMap.receives[event] = this.eventMap.receives[event] || [];\n    this.eventMap.receives[event].push(callback);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/task/widget/task-pipe.js","export default class TaskUi {\n  constructor(option) {\n    this.element = $(option.element);\n    this.learningPrompt = this.element.find('.js-learning-prompt');\n    this.learnedPrompt = this.element.find('.js-learned-prompt');\n    this.learnprompt = this.element.find('.js-learn-prompt');\n    this.btnLearn = this.element.find('.js-btn-learn');\n  }\n\n  learnedWeakPrompt() {\n    this.learnprompt.removeClass('open');\n    this.learningPrompt.addClass('moveup');\n    window.setTimeout(() => {\n      this.learningPrompt.removeClass('moveup');\n      this.learnedPrompt.addClass('moveup');\n      this.learnedPrompt.popover('show');\n\n      window.setTimeout(() => {\n        this.learnedPrompt.popover('hide');\n      }, 2000);\n\n    }, 2000);\n  }\n\n\n  learned() {\n    this.btnLearn.addClass('active');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/task/widget/task-ui.js","import 'waypoints/lib/jquery.waypoints.min';\nimport 'waypoints/lib/shortcuts/infinite.min';\nimport Emitter from \"common/es-event-emitter\";\n\nexport default class ESInfiniteScroll extends Emitter {\n\n  constructor (options) {\n    super();\n\n    this.options = options;\n\n    this.initDownInfinite();\n    this.initUpLoading();\n  }\n\n  initUpLoading() {\n    $('.js-up-more-link').on('click', event => {\n      let $target = $(event.currentTarget);\n      $.ajax({\n        method: 'GET',\n        url: $target.data('url'),\n        async: false,\n        success: html => {\n          $(html).find('.infinite-item').prependTo($('.infinite-container'));\n          let $upLink = $(html).find('.js-up-more-link');\n          if ($upLink.length > 0) {\n            $target.data('url', $upLink.data('url'));\n          } else {\n            $target.remove();\n          }\n        }\n      });\n\n    })\n  }\n\n  initDownInfinite() {\n    let defaultDownOptions = {\n      element: $('.infinite-container')[0],\n    };\n\n    defaultDownOptions = Object.assign(defaultDownOptions, this.options);\n\n    this.downInfinite = new Waypoint.Infinite(defaultDownOptions);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/common/es-infinite-scroll.js","/*!\nWaypoints - 4.0.1\nCopyright © 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(o){if(!o)throw new Error(\"No options passed to Waypoint constructor\");if(!o.element)throw new Error(\"No element option passed to Waypoint constructor\");if(!o.handler)throw new Error(\"No handler option passed to Waypoint constructor\");this.key=\"waypoint-\"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?\"horizontal\":\"vertical\",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll(\"destroy\")},t.disableAll=function(){t.invokeAll(\"disable\")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:\"default\",horizontal:!1,offset:0},t.offsetAliases={\"bottom-in-view\":function(){return this.context.innerHeight()-this.adapter.outerHeight()},\"right-in-view\":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){\"use strict\";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key=\"waypoint-context-\"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,n.windowContext||(n.windowContext=!0,n.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?\"horizontal\":\"vertical\";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(\".waypoints\"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on(\"resize.waypoints\",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on(\"scroll.waypoints\",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:\"right\",backward:\"left\",offsetProp:\"left\"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:\"down\",backward:\"up\",offsetProp:\"top\"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),\"function\"==typeof f?f=f.apply(d):\"string\"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf(\"%\")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=Math.floor(y+l-f),h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){\"use strict\";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+\"-\"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n=\"up\"===i||\"left\"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){\"use strict\";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each([\"innerHeight\",\"innerWidth\",\"off\",\"offset\",\"on\",\"outerHeight\",\"outerWidth\",\"scrollLeft\",\"scrollTop\"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each([\"extend\",\"inArray\",\"isEmptyObject\"],function(i,o){t[o]=e[o]}),i.adapters.push({name:\"jquery\",Adapter:t}),i.Adapter=t}(),function(){\"use strict\";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});\"string\"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/waypoints/lib/jquery.waypoints.min.js\n// module id = 8f3ec98312b1f1f6bafb\n// module chunks = app/js/courseset/show/index app/js/task/index","/*!\nWaypoints Infinite Scroll Shortcut - 4.0.1\nCopyright © 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n!function(){\"use strict\";function t(n){this.options=i.extend({},t.defaults,n),this.container=this.options.element,\"auto\"!==this.options.container&&(this.container=this.options.container),this.$container=i(this.container),this.$more=i(this.options.more),this.$more.length&&(this.setupHandler(),this.waypoint=new o(this.options))}var i=window.jQuery,o=window.Waypoint;t.prototype.setupHandler=function(){this.options.handler=i.proxy(function(){this.options.onBeforePageLoad(),this.destroy(),this.$container.addClass(this.options.loadingClass),i.get(i(this.options.more).attr(\"href\"),i.proxy(function(t){var n=i(i.parseHTML(t)),e=n.find(this.options.more),s=n.find(this.options.items);s.length||(s=n.filter(this.options.items)),this.$container.append(s),this.$container.removeClass(this.options.loadingClass),e.length||(e=n.filter(this.options.more)),e.length?(this.$more.replaceWith(e),this.$more=e,this.waypoint=new o(this.options)):this.$more.remove(),this.options.onAfterPageLoad(s)},this))},this)},t.prototype.destroy=function(){this.waypoint&&this.waypoint.destroy()},t.defaults={container:\"auto\",items:\".infinite-item\",more:\".infinite-more-link\",offset:\"bottom-in-view\",loadingClass:\"infinite-loading\",onBeforePageLoad:i.noop,onAfterPageLoad:i.noop},o.Infinite=t}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/waypoints/lib/shortcuts/infinite.min.js\n// module id = c5e642028fa5ee5a3554\n// module chunks = app/js/courseset/show/index app/js/task/index"],"sourceRoot":""}