{"version":3,"sources":["app/Resources/static-src/app/js/activity-manage/doc/index.js"],"names":["Document","$step2_form","$","validator","data","validate","rules","title","required","maxlength","trim","mediaId","messages","$mediaId","$select","fileChooser","inItStep2form","onConditionTimeType","$conditionsDetail","removeClass","children","val","on","file","id","conditionsType","event","currentTarget","addClass"],"mappings":";;;;AAAA;;;;AACA;;;;;;IAEMA,Q;AACJ,sBAAc;AAAA;AAEb;;;;oCAEe;AACd,UAAIC,cAAcC,EAAE,aAAF,CAAlB;AACA,UAAIC,YAAYF,YAAYG,IAAZ,CAAiB,WAAjB,CAAhB;AACAD,kBAAYF,YAAYI,QAAZ,CAAqB;AAC/BC,eAAO;AACLC,iBAAO;AACLC,sBAAU,IADL;AAELC,uBAAW,EAFN;AAGLC,kBAAM;AAHD,WADF;AAMLC,mBAAS;AANJ,SADwB;AAS/BC,kBAAU;AACRD,mBAAS;AACPH,sBAAU;AADH;AADD;AATqB,OAArB,CAAZ;AAeD;;;oCAEe,CAEf;;;;;;AAMH,IAAIK,WAAWX,EAAE,kBAAF,CAAf;AACA,IAAIY,UAAUZ,EAAE,mBAAF,CAAd;AACA,IAAIa,cAAc,0BAAlB;;AAEA,gCAAgBF,QAAhB;AACAG;;AAEA,SAASA,aAAT,GAAyB,CAExB;;AAED,SAASC,mBAAT,GAA+B;;AAE7B,MAAIC,oBAAoBhB,EAAE,kBAAF,CAAxB;AACAgB,oBAAkBC,WAAlB,CAA8B,QAA9B;AACD;;AAED,IAAIL,QAAQM,QAAR,CAAiB,iBAAjB,EAAoCC,GAApC,OAA8C,MAAlD,EAA0D;AACxDJ;AACD;;AAEDF,YAAYO,EAAZ,CAAe,QAAf,EAAyB,UAACC,IAAD,EAAU;AACjC;AACAV,WAASQ,GAAT,CAAaE,KAAKC,EAAlB;AACD,CAHD;;AAKAV,QAAQQ,EAAR,CAAW,QAAX,EAAqB,iBAAS;AAC5B,MAAIG,iBAAiBvB,EAAEwB,MAAMC,aAAR,EAAuBP,QAAvB,CAAgC,iBAAhC,EAAmDC,GAAnD,EAArB;;AAEA,MAAIH,oBAAoBhB,EAAE,kBAAF,CAAxB;AACA,MAAIuB,mBAAmB,MAAvB,EAA+B;AAC7BP,sBAAkBU,QAAlB,CAA2B,QAA3B;AACD,GAFD,MAEO;AACLX;AACD;AACF,CATD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import FileChooser from '../../file-chooser/file-choose';\nimport { chooserUiOpen, chooserUiClose, showChooserType } from '../widget/chooser-ui.js';\n\nclass Document {\n  constructor() {\n\n  }\n\n  initStep2Form() {\n    var $step2_form = $(\"#step2-form\");\n    var validator = $step2_form.data('validator');\n    validator = $step2_form.validate({\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n          trim: true,\n        },\n        mediaId: 'required',\n      },\n      messages: {\n        mediaId: {\n          required: '请上传或选择%display%'\n        }\n      }\n    });\n  }\n\n  initStep3Form() {\n\n  }\n\n}\n\n\n\nlet $mediaId = $('[name=\"mediaId\"]');\nlet $select = $('#condition-select');\nlet fileChooser = new FileChooser();\n\nshowChooserType($mediaId);\ninItStep2form();\n\nfunction inItStep2form() {\n\n}\n\nfunction onConditionTimeType() {\n \n  let $conditionsDetail = $(\"#condition-group\");\n  $conditionsDetail.removeClass('hidden');\n};\n\nif ($select.children('option:selected').val() === 'time') {\n  onConditionTimeType();\n}\n\nfileChooser.on('select', (file) => {\n  chooserUiClose();\n  $mediaId.val(file.id);\n});\n\n$select.on('change', event => {\n  let conditionsType = $(event.currentTarget).children('option:selected').val();\n\n  let $conditionsDetail = $(\"#condition-group\");\n  if (conditionsType !== 'time') {\n    $conditionsDetail.addClass('hidden');\n  } else {\n    onConditionTimeType();\n  }\n});\n"]}