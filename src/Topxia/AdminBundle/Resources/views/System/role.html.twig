{% extends 'TopxiaAdminBundle::layout.html.twig' %}

{% set menu = 'admin_roles' %}

{% block main %}

{{ web_macro.flash_messages() }}

<form class="well well-sm form-inline">

  <div class="form-group">
    <select id="keywordType" class="form-control" name="keywordType">
          {% set options = {'':'--关键词类型--','name':'权限名称','code':'权限CODE'} %}
          {{ select_options(options, app.request.get('keywordType')) }}
    </select>
  </div>
  <div class="form-group">
    <input type="text" id="keyword" name="keyword" class="form-control" value="{{ app.request.query.get('keyword') }}" placeholder="关键词">
  </div>

  <button class="btn btn-primary">搜索</button>

</form>

  <table class="table table-hover" id="log-table">
    <tr>
      <th width="25%">权限名称</th>
      <th width="25%">权限CODE</th>
      <th width="25%">创建时间</th>
      <th width="25%">创建者ID</th>
    </tr>   
    {% for role in roles %}
      <tr>
        <td>
          {{ role.name }}
        <td>
          {{ role.code }}
        </td>
        <td>
          {{ role.createdTime|date('Y-m-d H:i:s') }}        </td>
        <td>
          {{ role.createdUserId }}
        </td>
      </tr>
    {% else %}
      <tr><td class="empty" colspan="20">无定时任务记录</tr>
    {% endfor %}
  </table>

  {{ web_macro.paginator(paginator) }}

{% endblock %}