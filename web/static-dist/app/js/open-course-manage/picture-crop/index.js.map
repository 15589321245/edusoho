{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/open-course-manage/picture-crop/index.js"],"names":["CoverCrop","init","imageCrop","element","cropedWidth","cropedHeight","afterCrop","response","url","$","data","console","log","post","images","document","location","href","click","event","currentTarget","button","stopPropagation","crop","imgs","large","middle","small","history","go"],"mappings":";;;;;;;;AAAA;;;;;;;;KAEMA,S;AACJ,wBAAc;AAAA;;AACZ,UAAKC,IAAL;AACD;;;;4BAEM;AACL,WAAIC,YAAY,0BAAgB;AAC9BC,kBAAS,sBADqB;AAE9BC,sBAAa,GAFiB;AAG9BC,uBAAc;AAHgB,QAAhB,CAAhB;;AAMAH,iBAAUI,SAAV,GAAsB,UAASC,QAAT,EAAmB;AACvC,aAAIC,MAAMC,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,KAA9B,CAAV;AACAC,iBAAQC,GAAR,CAAY,WAAZ;AACAH,WAAEI,IAAF,CAAOL,GAAP,EAAY,EAAEM,QAAQP,QAAV,EAAZ,EAAiC,YAAW;AAC1CI,mBAAQC,GAAR,CAAYH,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,SAA9B,CAAZ;AACAK,oBAASC,QAAT,CAAkBC,IAAlB,GAAyBR,EAAE,qBAAF,EAAyBC,IAAzB,CAA8B,SAA9B,CAAzB;AACD,UAHD;AAID,QAPD;;AASAD,SAAE,qBAAF,EAAyBS,KAAzB,CAA+B,UAASC,KAAT,EAAgB;AAC7CV,WAAEU,MAAMC,aAAR,EAAuBC,MAAvB,CAA8B,SAA9B;AACAF,eAAMG,eAAN;AACApB,mBAAUqB,IAAV,CAAe;AACbC,iBAAM;AACJC,oBAAO,CAAC,GAAD,EAAM,GAAN,CADH;AAEJC,qBAAQ,CAAC,GAAD,EAAM,GAAN,CAFJ;AAGJC,oBAAO,CAAC,EAAD,EAAK,EAAL;AAHH;AADO,UAAf;AAQD,QAXD;;AAaAlB,SAAE,UAAF,EAAcS,KAAd,CAAoB,YAAW;AAC7BU,iBAAQC,EAAR,CAAW,CAAC,CAAZ;AACD,QAFD;AAGD;;;;;;AAIH,KAAI7B,SAAJ,G","file":"app/js/open-course-manage/picture-crop/index.js","sourcesContent":["import EsImageCrop from 'common/es-image-crop.js';\n\nclass CoverCrop {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    let imageCrop = new EsImageCrop({\n      element: \"#course-picture-crop\",\n      cropedWidth: 480,\n      cropedHeight: 270\n    });\n\n    imageCrop.afterCrop = function(response) {\n      let url = $(\"#upload-picture-btn\").data(\"url\");\n      console.log('afterCrop');\n      $.post(url, { images: response}, function() {\n        console.log($(\"#upload-picture-btn\").data(\"gotoUrl\"));\n        document.location.href = $(\"#upload-picture-btn\").data(\"gotoUrl\");\n      });\n    };\n\n    $(\"#upload-picture-btn\").click(function(event) {\n      $(event.currentTarget).button('loading');\n      event.stopPropagation();\n      imageCrop.crop({\n        imgs: {\n          large: [480, 270],\n          middle: [304, 171],\n          small: [96, 54],\n        }\n      });\n\n    })\n\n    $('.go-back').click(function() {\n      history.go(-1);\n    });\n  }\n}\n\n\nnew CoverCrop();\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/open-course-manage/picture-crop/index.js"],"sourceRoot":""}