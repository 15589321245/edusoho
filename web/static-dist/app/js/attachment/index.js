webpackJsonp(["app/js/attachment/index"],[function(module,exports){"use strict";var $uploader=$("#uploader-container"),uploader=new UploaderSDK({id:$uploader.attr("id"),initUrl:$uploader.data("initUrl"),finishUrl:$uploader.data("finishUrl"),accept:$uploader.data("accept"),process:$uploader.data("process"),fileSingleSizeLimit:$uploader.data("fileSingleSizeLimit"),ui:"single"});uploader.on("file.finish",function(file){if(file.length&&file.length>0){var minute=parseInt(file.length/60),second=Math.round(file.length%60);$("#minute").val(minute),$("#second").val(second),$("#length").val(60*minute+second)}var $metas=$('[data-role="metas"]'),$ids=$("."+$metas.data("idsClass")),$list=$("."+$metas.data("listClass"));$.get("/attachment/file/"+file.id+"/show",function(html){$list.append(html),$ids.val(file.id),$("#attachment-modal").modal("hide"),$list.siblings(".js-upload-file").hide()})}),$("#attachment-modal").one("hide.bs.modal",function(event){uploader.destroy(),uploader=null})}]);