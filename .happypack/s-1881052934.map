{"version":3,"sources":["app/Resources/static-src/app/js/course-manage/index.js"],"names":["COURSE_FUNCTION_REMASK","$","length","element","ajax","data","console","log","post","ids","response","lessonNum","chapterNum","unitNum","find","each","$item","hasClass","text","store","get","set","modal"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA,IAAMA,yBAAyB,wBAA/B,C,CAAyD;;AAEzD,IAAIC,EAAE,gBAAF,EAAoBC,MAAxB,EAAgC;AAC9B,0BAAS;AACPC,aAAS,gBADF;AAEPC,UAAM;AAFC,GAAT,EAGE,UAACC,IAAD,EAAQ;AACRC,YAAQC,GAAR,CAAYF,IAAZ;AACAJ,MAAEO,IAAF,CAAOP,EAAE,gBAAF,EAAoBI,IAApB,CAAyB,SAAzB,CAAP,EAA4C,EAAEI,KAAKJ,IAAP,EAA5C,EAA2D,UAACK,QAAD,EAAc;AACvE,UAAIC,YAAYC,aAAaC,UAAU,CAAvC;;AAESZ,QAAE,gBAAF,EAAoBa,IAApB,CAAyB,6BAAzB,EAAwDC,IAAxD,CAA6D,YAAW;AACnE,YAAIC,QAAQf,EAAE,IAAF,CAAZ;AACA,YAAIe,MAAMC,QAAN,CAAe,aAAf,CAAJ,EAAmC;AAC/BN;AACAK,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BP,SAA3B;AACH,SAHD,MAGO,IAAIK,MAAMC,QAAN,CAAe,mBAAf,CAAJ,EAAyC;AAC5CJ;AACAG,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BL,OAA3B;AACH,SAHM,MAGA,IAAIG,MAAMC,QAAN,CAAe,cAAf,CAAJ,EAAoC;AACvCL;AACAC,oBAAU,CAAV;AACAG,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BN,UAA3B;AACH;AAEJ,OAdF;AAeV,KAlBD;AAmBD,GAxBD;AAyBD;;AAGD,IAAG,CAACO,MAAMC,GAAN,CAAUpB,sBAAV,CAAJ,EAAuC;AACrCmB,QAAME,GAAN,CAAUrB,sBAAV,EAAiC,IAAjC;AACAC,IAAE,wBAAF,EAA4BqB,KAA5B,CAAkC,MAAlC;AACD;;AAED;AACA,wBAAaH,KAAb;AACA;AACA;AACA;AACA","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import {closeCourse, deleteCourse, showSettings, deleteTask, publishTask, unpublishTask} from './help';\nimport sortable from 'common/sortable';\nimport 'store';\nconst COURSE_FUNCTION_REMASK = 'COURSE-FUNCTION-REMASK'; //课程改版功能提醒\n\nif ($('#sortable-list').length) {\n  sortable({\n    element: '#sortable-list',\n    ajax: false,\n  },(data)=>{\n    console.log(data);\n    $.post($('#sortable-list').data('sortUrl'), { ids: data }, (response) => {\n      var lessonNum = chapterNum = unitNum = 0;\n\n               $('#sortable-list').find('.item-lesson, .item-chapter').each(function() {\n                    var $item = $(this);\n                    if ($item.hasClass('item-lesson')) {\n                        lessonNum ++;\n                        $item.find('.number').text(lessonNum);\n                    } else if ($item.hasClass('item-chapter-unit')) {\n                        unitNum ++;\n                        $item.find('.number').text(unitNum);\n                    } else if ($item.hasClass('item-chapter')) {\n                        chapterNum ++;\n                        unitNum = 0;\n                        $item.find('.number').text(chapterNum);\n                    }\n\n                });\n    });\n  });\n}\n\n\nif(!store.get(COURSE_FUNCTION_REMASK)) {\n  store.set(COURSE_FUNCTION_REMASK,true);\n  $('#course-function-modal').modal('show');\n}\n\ncloseCourse();\ndeleteCourse(store);\ndeleteTask();\npublishTask();\nunpublishTask();\nshowSettings();\n"]}