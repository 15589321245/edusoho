{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/open-course-manage/base/base.js","webpack:///./app/Resources/static-src/app/js/open-course-manage/base/index.js"],"names":["Base","initSelect2","initCkeditor","initValidator","initCategory","$","select2","ajax","url","app","arguments","tagMatchUrl","dataType","quietMillis","data","term","page","q","page_limit","results","each","index","item","push","id","name","initSelection","element","callback","val","split","formatSelection","formatResult","formatSearching","Translator","trans","width","multiple","maximumSelectionSize","placeholder","$form","validator","validate","rules","title","required","subtitle","maxlength","click","form","submit","length","CKEDITOR","replace","allowedContent","toolbar","filebrowserImageUploadUrl","treeview","dropdownAutoWidth","treeviewInitState","placeholderOption"],"mappings":";;;;;;;;;;;;;;;;;KAAqBA,I;AACnB,mBAAc;AAAA;;AACZ,UAAKC,WAAL;AACA,UAAKC,YAAL;AACA,UAAKC,aAAL;AACA,UAAKC,YAAL;AACD;;;;mCAEa;AAAA;;AACZC,SAAE,cAAF,EAAkBC,OAAlB;AACEC,eAAM;AACJC,gBAAKC,IAAIC,SAAJ,CAAcC,WAAd,GAA4B,GAD7B;AAEJC,qBAAU,MAFN;AAGJC,wBAAa,GAHT;AAIJC,iBAAM,cAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AAC1B,oBAAO;AACLC,kBAAGF,IADE;AAELG,2BAAY;AAFP,cAAP;AAID,YATG;AAUJC,oBAAS,iBAAUL,IAAV,EAAgB;AACvB,iBAAIK,UAAU,EAAd;AACAd,eAAEe,IAAF,CAAON,IAAP,EAAa,UAAUO,KAAV,EAAiBC,IAAjB,EAAuB;;AAElCH,uBAAQI,IAAR,CAAa;AACXC,qBAAIF,KAAKG,IADE;AAEXA,uBAAMH,KAAKG;AAFA,gBAAb;AAID,cAND;;AAQA,oBAAO;AACLN,wBAASA;AADJ,cAAP;AAID;AAxBG,UADR;AA2BEO,wBAAe,uBAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAC1C,eAAId,OAAO,EAAX;AACAT,aAAEsB,QAAQE,GAAR,GAAcC,KAAd,CAAoB,GAApB,CAAF,EAA4BV,IAA5B,CAAiC,YAAY;AAC3CN,kBAAKS,IAAL,CAAU;AACRC,mBAAI,IADI;AAERC,qBAAM;AAFE,cAAV;AAID,YALD;AAMAG,oBAASd,IAAT;AACD,UApCH;AAqCEiB,0BAAiB,yBAAUT,IAAV,EAAgB;AAC/B,kBAAOA,KAAKG,IAAZ;AACD,UAvCH;AAwCEO,uBAAc,sBAAUV,IAAV,EAAgB;AAC5B,kBAAOA,KAAKG,IAAZ;AACD,UA1CH;AA2CEQ,0BAAiB,2BAAY;AAC3B,kBAAOC,WAAWC,KAAX,CAAiB,8BAAjB,CAAP;AACD,UA7CH;AA8CEC,gBAAO,KA9CT;AA+CEC,mBAAU,IA/CZ;AAgDEC,+BAAsB,EAhDxB;AAiDEC,sBAAaL,WAAWC,KAAX,CAAiB,+BAAjB;AAjDf,8CAkDS,KAlDT,0CAmDY,IAnDZ,oDAoDsB,8BAAY;AAC9B,gBAAO,IAAP;AACD,QAtDH,sDAuDwB,EAvDxB;AAyDD;;;qCAEe;AACd,WAAIK,QAAQnC,EAAE,cAAF,CAAZ;AACA,WAAIoC,YAAYD,MAAME,QAAN,CAAe;AAC7BC,gBAAO;AACLC,kBAAO;AACLC,uBAAU;AADL,YADF;AAILC,qBAAU;AACRD,uBAAU,IADF;AAERE,wBAAW;AAFH;AAJL;AADsB,QAAf,CAAhB;;AAYA1C,SAAE,oBAAF,EAAwB2C,KAAxB,CAA8B,YAAM;AAClC,aAAIP,UAAUQ,IAAV,EAAJ,EAAsB;AACpBT,iBAAMU,MAAN;AACD;AACF,QAJD;AAKD;;;oCAEc;AACb,WAAI7C,EAAE,qBAAF,EAAyB8C,MAAzB,GAAkC,CAAtC,EAAyC;AACvCC,kBAASC,OAAT,CAAiB,oBAAjB,EAAuC;AACrCC,2BAAgB,IADqB;AAErCC,oBAAS,QAF4B;AAGrCC,sCAA2BnD,EAAE,qBAAF,EAAyBS,IAAzB,CAA8B,gBAA9B;AAHU,UAAvC;AAKD;AACF;;;oCAEc;AACbT,SAAE,gDAAF,EAAoDC,OAApD,CAA4D;AAC1DmD,mBAAU,IADgD;AAE1DC,4BAAmB,IAFuC;AAG1DC,4BAAmB,WAHuC;AAI1DC,4BAAmB;AACnB;AAL0D,QAA5D;AAOD;;;;;;mBA3GkB5D,I;;;;;;;;;ACArB;;;;;;AAEA,sB","file":"app/js/open-course-manage/base/index.js","sourcesContent":["export default class Base {\n  constructor() {\n    this.initSelect2();\n    this.initCkeditor();\n    this.initValidator();\n    this.initCategory();\n  }\n\n  initSelect2() {\n    $('#course_tags').select2({\n      ajax: {\n        url: app.arguments.tagMatchUrl + '#',\n        dataType: 'json',\n        quietMillis: 100,\n        data: function (term, page) {\n          return {\n            q: term,\n            page_limit: 10\n          };\n        },\n        results: function (data) {\n          var results = [];\n          $.each(data, function (index, item) {\n\n            results.push({\n              id: item.name,\n              name: item.name\n            });\n          });\n\n          return {\n            results: results\n          };\n\n        }\n      },\n      initSelection: function (element, callback) {\n        var data = [];\n        $(element.val().split(\",\")).each(function () {\n          data.push({\n            id: this,\n            name: this\n          });\n        });\n        callback(data);\n      },\n      formatSelection: function (item) {\n        return item.name;\n      },\n      formatResult: function (item) {\n        return item.name;\n      },\n      formatSearching: function () {\n        return Translator.trans('open_course.load_search_hint');\n      },\n      width: 'off',\n      multiple: true,\n      maximumSelectionSize: 20,\n      placeholder: Translator.trans('open_course.tag_required_hint'),\n      width: 'off',\n      multiple: true,\n      createSearchChoice: function () {\n        return null;\n      },\n      maximumSelectionSize: 20\n    });\n  }\n\n  initValidator() {\n    let $form = $('#course-form');\n    let validator = $form.validate({\n      rules: {\n        title: {\n          required: true\n        },\n        subtitle: {\n          required: true,\n          maxlength: 70,\n        },\n      }\n    })\n\n    $('#course-create-btn').click(() => {\n      if (validator.form()) {\n        $form.submit();\n      }\n    })\n  }\n\n  initCkeditor() {\n    if ($('#course-about-field').length > 0) {\n      CKEDITOR.replace('course-about-field', {\n        allowedContent: true,\n        toolbar: 'Detail',\n        filebrowserImageUploadUrl: $('#course-about-field').data('imageUploadUrl')\n      });\n    }\n  }\n\n  initCategory() {\n    $('[data-role=\"tree-select\"], [name=\"categoryId\"]').select2({\n      treeview: true,\n      dropdownAutoWidth: true,\n      treeviewInitState: 'collapsed',\n      placeholderOption: 'first'\n      // treeviewInitState: 'expanded'\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/open-course-manage/base/base.js","import Base from './base';\n\nnew Base();\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/open-course-manage/base/index.js"],"sourceRoot":""}