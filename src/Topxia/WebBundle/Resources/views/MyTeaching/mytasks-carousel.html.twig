{# <hr>
<div>
  <div class="row">
    <div class="col-md-1">
      <i class="glyphicon glyphicon-chevron-left"></i>
    </div>
    <div class="row col-md-10">
      <div class="col-md-4">
        <div class="thumbnail">
          <img data-src="holder.js/300x300" alt="...">
          <div class="caption">
            <h3>Thumbnail label</h3>
            <p>...</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-md-1">
      <i class="glyphicon glyphicon-chevron-right"></i>
    </div>
  </div>
</div>
<hr> #}
<hr>
<div id="carousel-lesson" class="carousel slide row" data-ride="carousel" data-interval="false">
  <div class="carousel-inner col-md-10" role="listbox">
    {% set index = 0 %}
    {% set keys = lessons|keys %}
    {% for i in 0..((lessons|length)//4) if lessons|length > 0%}
      <div class="item row {% if i == 0 %} {% set firstLessonId = lessons[keys[0]] %}active {% endif %}">
        {% for j in 1..4 if keys[index] is defined %}
        {% set lesson = lessons[keys[index]] %}
        {% set course = courses[lesson.courseId] %}
        {% set schedule = schedules[lesson.id] %}
        {% set class = classes[schedule.classId]%}
          <div class="col-md-3">
            <div class="thumbnail">
              <img src="{{ file_path(course.middlePicture, 'course-large.png') }}" alt="...">
              <div class="caption">
                <h3 class="name">课时{{ lesson.number }}-{{ lesson.title }}</h3>
                <p class="class-name">{{ class_name(class) }}</p>
              </div>
            </div>
          </div>
          {% set index = index +1 %}
        {% endfor %}
      </div>
    {% else %}
      <div class="item active">
        <span class="empty">今日无课时!</span>
    </div>
    {% endfor %}
  </div>
  <a class="left carousel-control col-md-1" href="#carousel-lesson" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control col-md-1" href="#carousel-lesson" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<hr>