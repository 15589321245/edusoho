{% extends (course_count(course.courseSetId) > 1 ? 'course' : 'courseset') ~ '-manage/layout.html.twig' %}

{% block title %}{{'course.members_manage.quit_records.content_title'|trans}} - {{ course.title }} - {{ parent() }}{% endblock %}
{% do script(['app/js/course-manage/students/index.js']) %}
{% set side_nav = 'students' %}
{% set active = 'plan' %}

{% block main %}
  <div class="panel panel-default">
      <div class="panel-heading">
        {{'course.members_manage.quit_records.content_title'|trans}}
        {% if courseSet.type != 'live' %}
        <div class="pull-right">
          {% if course.status != 'published' %}
            <button class="btn btn-success btn-sm js-publish-course"
              data-url="{{ path('course_set_manage_course_publish', {courseSetId: courseSet.id, courseId: course.id}) }}">
              {{ 'course.members_manage.publish_btn'|trans }}
            </button>
          {% endif %}
      </div>
      {% endif %}
      </div>
    <div class="panel-body">
      <ul class="nav nav-pills mbl">
        <li class="">
          <a href="{{path('course_set_manage_course_students', {courseSetId: courseSet.id, courseId: course.id})}}">{{ 'course.members_manage.official_student'|trans }}</a>
        </li>

        <li class="active">
          <a href="javascript:;">{{ 'course.members_manage.quit_records'|trans }}</a>
        </li>
      </ul>
      <form class="form-inline well well-sm " action="" method="get" novalidate>
        <div class="form-group col-md-7">
          <input class="form-control" style="width:45%" type="text" placeholder="{{ 'course.members_manage.official_student.input_placeholder'|trans }}" name="keyword" value="{{ app.request.get('keyword') }}">

          <button class="btn btn-primary">{{'form.btn.search'|trans}}</button>
        </div>
        <div class="clearfix"></div>
      </form>
      <table class="table table-striped" id="quit-record-list">
        <thead>
          <tr>
            <th>{{'course.members_manage.quit_records.name'|trans}}</th>
            <th width="30%">{{'course.members_manage.quit_records.reason'|trans}}</th>
            <th>{{'course.members_manage.quit_records.date'|trans}}</th>
            <th>{{'course.members_manage.quit_records.status'|trans}}</th>
          </tr>
        </thead>
        <tbody>
          {% for record in records %}
            {% include 'course-manage/student/quit-record-tr.html.twig' %}
          {% else %}
            <tr class="empty"><td colspan="20">{{'course.members_manage.quit_records.empty'|trans}}</td></tr>
          {% endfor %}
        </tbody>
      </table>
      <nav class="text-center">
        {{ web_macro.paginator(paginator) }}
      </nav>
    </div>
  </div>
{% endblock %}
