{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/course-manage/student-remark/index.js"],"names":["$modal","$","parents","$form","validator","validate","rules","remark","required","maxlength","messages","Translator","trans","click","event","form","currentTarget","button","post","attr","serialize","resp","modal","user_name","data","username","delay","onClose","window","location","reload","error"],"mappings":";;;;;;AAAA;;;;;;AACA,KAAIA,SAASC,EAAE,sBAAF,EAA0BC,OAA1B,CAAkC,QAAlC,CAAb;AACA,KAAIC,QAAQF,EAAE,sBAAF,CAAZ;;AAEA,KAAIG,YAAYD,MAAME,QAAN,CAAe;AAC7BC,UAAO;AACLC,aAAQ;AACNC,iBAAU,KADJ;AAENC,kBAAW;AAFL;AADH,IADsB;AAO7BC,aAAU;AACRH,aAAQ;AACNE,kBAAWE,WAAWC,KAAX,CAAiB,kDAAjB;AADL;AADA;AAPmB,EAAf,CAAhB;;AAcAX,GAAE,6BAAF,EAAiCY,KAAjC,CAAuC,UAACC,KAAD,EAAW;AAChD,OAAIV,UAAUW,IAAV,EAAJ,EAAsB;AACpBd,OAAEa,MAAME,aAAR,EAAuBC,MAAvB,CAA8B,UAA9B;AACAhB,OAAEiB,IAAF,CAAOf,MAAMgB,IAAN,CAAW,QAAX,CAAP,EAA6BhB,MAAMiB,SAAN,EAA7B,EAAgD,UAAUC,IAAV,EAAgB;AAC9DrB,cAAOsB,KAAP,CAAa,MAAb;AACA,WAAIC,YAAYpB,MAAMqB,IAAN,CAAW,MAAX,CAAhB;AACA,6BAAO,SAAP,EAAkBb,WAAWC,KAAX,CAAiB,2CAAjB,EAA8D,EAAEa,UAAUF,SAAZ,EAA9D,CAAlB,EAA0G,EAACG,OAAM,IAAP,EAAaC,SAAS,mBAAY;AAC1IC,kBAAOC,QAAP,CAAgBC,MAAhB;AACD,UAFyG,EAA1G;AAGD,MAND,EAMGC,KANH,CAMS,YAAY;AACnB,WAAIR,YAAYpB,MAAMqB,IAAN,CAAW,MAAX,CAAhB;AACA,6BAAO,QAAP,EAAiBb,WAAWC,KAAX,CAAiB,0CAAjB,EAA6D,EAAEa,UAAUF,SAAZ,EAA7D,CAAjB;AACD,MATD;AAUD;AACF,EAdD,E","file":"app/js/course-manage/student-remark/index.js","sourcesContent":["import notify from 'common/notify';\nlet $modal = $('#student-remark-form').parents('.modal');\nlet $form = $('#student-remark-form');\n\nlet validator = $form.validate({\n  rules: {\n    remark: {\n      required: false,\n      maxlength: 80,\n    }\n  },\n  messages: {\n    remark: {\n      maxlength: Translator.trans('course_manage.student_remark_validate_error_hint')\n    }\n  }\n});\n\n$('.js-student-remark-save-btn').click((event) => {\n  if (validator.form()) {\n    $(event.currentTarget).button('loadding');\n    $.post($form.attr('action'), $form.serialize(), function (resp) {\n      $modal.modal('hide');\n      let user_name = $form.data('user');\n      notify('success', Translator.trans('course_manage.student_remark_success_hint', { username: user_name }), {delay:1000, onClose: function () {\n        window.location.reload();\n      }});\n    }).error(function () {\n      let user_name = $form.data('user');\n      notify('danger', Translator.trans('course_manage.student_remark_failed_hint', { username: user_name }));\n    });\n  }\n})\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/course-manage/student-remark/index.js"],"sourceRoot":""}