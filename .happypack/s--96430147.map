{"version":3,"sources":["app/Resources/static-src/app/js/courseset-manage/detail/index.js"],"names":["detail","init","elementId","name","datas","$","data","render","document","getElementById","CKEDITOR","replace","allowedContent","toolbar","filebrowserImageUploadUrl","renderMultiGroupComponent","click","evt","publishAddMessage","currentTarget","button","submit","publish","channel","topic"],"mappings":";;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEMA,M;AACJ,oBAAc;AAAA;;AACZ,SAAKC,IAAL;AACD;;;;8CAEyBC,S,EAAWC,I,EAAM;AACzC,UAAIC,QAAQC,EAAE,MAAMH,SAAR,EAAmBI,IAAnB,CAAwB,YAAxB,CAAZ;AACA,yBAASC,MAAT,CAAgB;AACd,mBAAW,IADG;AAEd,kBAAU,IAFI;AAGd,oBAAYH,KAHE;AAId,mBAAWD,OAAO,IAJJ;AAKd,2BAAmBA,IALL,GAAhB,EAMEK,SAASC,cAAT,CAAwBP,SAAxB,CANF;AAQD;;;;;;AAMHQ,SAASC,OAAT,CAAiB,SAAjB,EAA4B;AAC1BC,kBAAgB,IADU;AAE1BC,WAAS,QAFiB;AAG1BC,6BAA2BT,EAAE,0BAAF,EAA8BC,IAA9B,CAAmC,gBAAnC;AAHD,CAA5B;;AAMAS,0BAA0B,cAA1B,EAA0C,OAA1C;AACAA,0BAA0B,mBAA1B,EAA+C,WAA/C;;AAEAV,EAAE,mBAAF,EAAuBW,KAAvB,CAA6B,UAAUC,GAAV,EAAe;AAC1CC;AACAb,IAAEY,IAAIE,aAAN,EAAqBC,MAArB,CAA4B,SAA5B;AACAf,IAAE,wBAAF,EAA4BgB,MAA5B;AACD,CAJD;;AAOA,SAASH,iBAAT,GAA6B;AAC3B,mBAAOI,OAAP,CAAe;AACbC,aAAS,sBADI;AAEbC,WAAO;AAFM,GAAf;AAID","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import ReactDOM from 'react-dom';\nimport React from 'react';\nimport MultiInput from 'app/common/component/multi-input';\nimport postal from 'postal';\n\nclass detail {\n  constructor() {\n    this.init();\n  }\n\n  renderMultiGroupComponent(elementId, name) {\n    let datas = $('#' + elementId).data('init-value');\n    ReactDOM.render(<MultiInput\n      blurIsAdd={true}\n      sortable={true}\n      dataSource={datas}\n      inputName={name + \"[]\"}\n      outputDataElement={name} />,\n      document.getElementById(elementId)\n    );\n  }\n\n}\n\n\n\nCKEDITOR.replace('summary', {\n  allowedContent: true,\n  toolbar: 'Detail',\n  filebrowserImageUploadUrl: $('#courseset-summary-field').data('imageUploadUrl')\n});\n\nrenderMultiGroupComponent('course-goals', 'goals');\nrenderMultiGroupComponent('intended-students', 'audiences');\n\n$('#courseset-submit').click(function (evt) {\n  publishAddMessage();\n  $(evt.currentTarget).button('loading');\n  $('#courseset-detail-form').submit();\n});\n\n\nfunction publishAddMessage() {\n  postal.publish({\n    channel: \"courseInfoMultiInput\",\n    topic: \"addMultiInput\",\n  });\n}"]}