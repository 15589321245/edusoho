'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
/**
 * [description]
 * @param  {[string]} $item [te]
 * @return {[type]}       [description]
 */
var initEditor = exports.initEditor = function initEditor($item, validator) {
  var editor = CKEDITOR.replace('text-content-field', {
    toolbar: 'Full',
    filebrowserImageUploadUrl: $('#text-content-field').data('imageUploadUrl'),
    filebrowserFlashUploadUrl: $('#text-content-field').data('flashUploadUrl'),
    allowedContent: true,
    height: 300
  });
  editor.on('change', function () {
    $item.val(editor.getData());
  });

  editor.on('blur', function () {
    $item.val(editor.getData());
    console.log('blur');
    if (validator) {
      validator.form();
      console.log('validator form');
    } else {
      console.log('validator null');
    }
  });
};