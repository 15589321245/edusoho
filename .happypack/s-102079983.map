{"version":3,"sources":["app/Resources/static-src/app/js/attachment/widget/attachment-actions.js"],"names":["AttachmentActions","$ele","initEvent","on","_deleteItem","event","$target","$","currentTarget","button","post","data","response","msg","Translator","trans","closest","siblings","show","val","remove"],"mappings":";;;;;;;;AAAA;;;;;;;;IACMA,iB;AACJ,6BAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAKC,SAAL;AACD;;;;gCAEW;AAAA;;AACV,WAAKD,IAAL,CAAUE,EAAV,CAAa,OAAb,EAAqB,0BAArB,EAAgD;AAAA,eAAO,MAAKC,WAAL,CAAiBC,KAAjB,CAAP;AAAA,OAAhD;AACD;;;gCAEWA,K,EAAO;AACjB,UAAIC,UAAUC,EAAEF,MAAMG,aAAR,EAAuBC,MAAvB,CAA8B,SAA9B,CAAd;AACAF,QAAEG,IAAF,CAAOJ,QAAQK,IAAR,CAAa,KAAb,CAAP,EAA2B,EAA3B,EAA8B,UAASC,QAAT,EAAkB;AAC9C,YAAIA,SAASC,GAAT,IAAgB,IAApB,EAA0B;AACxB,gCAAO,SAAP,EAAkBC,WAAWC,KAAX,CAAiB,OAAjB,CAAlB;AACAT,kBAAQU,OAAR,CAAgB,qBAAhB,EAAuCC,QAAvC,CAAgD,iBAAhD,EAAmEC,IAAnE;AACAZ,kBAAQU,OAAR,CAAgB,qBAAhB,EAAuCA,OAAvC,CAA+C,KAA/C,EAAsDC,QAAtD,CAA+D,sBAA/D,EAAuFE,GAAvF,CAA2F,EAA3F;AACAb,kBAAQU,OAAR,CAAgB,KAAhB,EAAuBI,MAAvB;AACAb,YAAE,iBAAF,EAAqBW,IAArB;AACD;AACF,OARD;AAUD;;;;;;kBAGYlB,iB","file":"attachment-actions.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import notify from 'common/notify';\nclass AttachmentActions {\n  constructor($ele) {\n    this.$ele = $ele;\n    this.initEvent();\n  }\n\n  initEvent() {\n    this.$ele.on('click','[data-role=\"delte-item\"]',event=>this._deleteItem(event));\n  }\n\n  _deleteItem(event) {\n    let $target = $(event.currentTarget).button('loading');\n    $.post($target.data('url'),{},function(response){\n      if (response.msg == 'ok') {\n        notify('success', Translator.trans('删除成功！'));\n        $target.closest('.js-attachment-list').siblings('.js-upload-file').show();\n        $target.closest('.js-attachment-list').closest('div').siblings('[data-role=\"fileId\"]').val('');\n        $target.closest('div').remove();\n        $('.js-upload-file').show();\n      }\n    })\n    \n  }\n}\n\nexport default AttachmentActions;"]}