{"version":3,"sources":["app/Resources/static-src/app/js/group/index.js"],"names":["checkUrl","url","hrefArray","Array","split","add_btn_clicked","$","click","button","addClass","on","$this","post","data","hide","hasClass","parent","find","show","tooltip","length","postId","attr","fromUserId","html","focus","val","Translator","trans","fromUserIdNosubVal","css","animate","scrollTop","offset","top","replaceWith","$trigger","confirm","window","location","href","reload"],"mappings":"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","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import notify from \"common/notify\";\nimport { initThread,initThreadReplay } from './thread-opreate';\n\ninitThread();\ninitThreadReplay();\n\n//@TODO等待整理迁移\nfunction checkUrl(url) {\n  var hrefArray = new Array();\n  hrefArray = url.split('#');\n  hrefArray = hrefArray[0].split('?');\n  return hrefArray[1];\n}\n\nvar add_btn_clicked = false;\n\n$('#add-btn').click(function () {\n  if (!add_btn_clicked) {\n    $('#add-btn').button('loading').addClass('disabled');\n    add_btn_clicked = true;\n  }\n  return true;\n});\n\n$(\"#thread-list\").on('click', '.uncollect-btn, .collect-btn', function () {\n  var $this = $(this);\n\n  $.post($this.data('url'), function () {\n    $this.hide();\n    if ($this.hasClass('collect-btn')) {\n      $this.parent().find('.uncollect-btn').show();\n    } else {\n      $this.parent().find('.collect-btn').show();\n    }\n  });\n});\n\n$('.attach').tooltip();\n\nif ($('.group-post-list').length > 0) {\n  $('.group-post-list').on('click', '.li-reply', function () {\n    var postId = $(this).attr('postId');\n    var fromUserId = $(this).data('fromUserId');\n    $('#fromUserIdDiv').html('<input type=\"hidden\" id=\"fromUserId\" value=\"' + fromUserId + '\">');\n    $('#li-' + postId).show();\n    $('#reply-content-' + postId).focus();\n    $('#reply-content-' + postId).val(Translator.trans('回复 ') + $(this).attr(\"postName\") + \":\");\n\n  });\n\n  $('.group-post-list').on('click', '.reply', function () {\n    var postId = $(this).attr('postId');\n    if ($(this).data('fromUserIdNosub') != \"\") {\n\n      var fromUserIdNosubVal = $(this).data('fromUserIdNosub');\n      $('#fromUserIdNoSubDiv').html('<input type=\"hidden\" id=\"fromUserIdNosub\" value=\"' + fromUserIdNosubVal + '\">')\n      $('#fromUserIdDiv').html(\"\");\n\n    }\n    ;\n    $(this).hide();\n    $('#unreply-' + postId).show();\n    $('.reply-' + postId).css('display', \"\");\n  });\n\n  $('.group-post-list').on('click', '.unreply', function () {\n    var postId = $(this).attr('postId');\n\n    $(this).hide();\n    $('#reply-' + postId).show();\n    $('.reply-' + postId).css('display', \"none\");\n\n  });\n\n  $('.group-post-list').on('click', '.replyToo', function () {\n    var postId = $(this).attr('postId');\n    if ($(this).attr('data-status') == 'hidden') {\n      $(this).attr('data-status', \"\");\n      $('#li-' + postId).show();\n      $('#reply-content-' + postId).focus();\n      $('#reply-content-' + postId).val(\"\");\n\n    } else {\n      $('#li-' + postId).hide();\n      $(this).attr('data-status', \"hidden\");\n    }\n\n\n  });\n\n  $('.group-post-list').on('click', '.lookOver', function () {\n\n    var postId = $(this).attr('postId');\n    $('.li-reply-' + postId).css('display', \"\");\n    $('.lookOver-' + postId).hide();\n    $('.paginator-' + postId).css('display', \"\");\n\n  });\n\n  $('.group-post-list').on('click', '.postReply-page', function () {\n\n    var postId = $(this).attr('postId');\n    $.post($(this).data('url'), \"\", function (html) {\n\n      $(\"body,html\").animate({\n        scrollTop: $(\"#post-\" + postId).offset().top\n      }, 300), !1\n\n      $('.reply-post-list-' + postId).replaceWith(html);\n\n    })\n\n  });\n\n \n}\n\nif ($('#hasAttach').length > 0) {\n\n  $('.ke-icon-accessory').addClass('ke-icon-accessory-red');\n\n}\n\nif ($('#post-action').length > 0) {\n\n  $('#post-action').on('click', '#closeThread', function () {\n\n    var $trigger = $(this);\n    if (!confirm($trigger.attr('title') + '？')) {\n      return false;\n    }\n\n    $.post($trigger.data('url'), function (data) {\n\n      window.location.href = data;\n\n    });\n  })\n\n  $('#post-action').on('click', '#elite,#stick,#cancelReward', function () {\n\n    var $trigger = $(this);\n\n    $.post($trigger.data('url'), function (data) {\n      window.location.href = data;\n    });\n  })\n\n}\n\nif ($('.actions').length > 0) {\n\n  $('.group-post-list').on('click', '.post-delete-btn,.post-adopt-btn', function () {\n\n    var $trigger = $(this);\n    if (!confirm($trigger.attr('title') + '？')) {\n      return false;\n    }\n    $.post($trigger.data('url'), function () {\n      window.location.reload();\n    });\n  })\n}\n"]}