{% extends 'TopxiaWebBundle::bootstrap-modal-layout.html.twig' %}

{% block title %}选择课程{% endblock %}
{% block body %}
   <form id="search-form" class="form-inline well well-sm" action="" method="get" novalidate>
     <div class="form-group">
       <select style="max-width:150px;" class="form-control" name="subjectId">
         {{ select_options(subjects, app.request.query.get('subjectId'), '选择科目') }}
       </select>
     </div>

     <div class="form-group">
       <input class="form-control" type="text" placeholder="输入课程关键词" name="title" value="{{ app.request.get('title') }}">
     </div>

     <a class="btn btn-primary search-btn" data-url="{{ path('course_manage_sub_course_add', {id:coursePackage.id}) }}">搜索</a>
   </form>
    <div class="" style="position: relative">
      
        <ul class="media-list sub-course-media">
          {% for course in courses %}
          <li class="media">
            <a class="pull-left" href="{{ path('course_show', {'id':course.id}) }}" target="_blank">
              <img class="course-pic-modal" src="{{ file_path(course.middlePicture, 'course-large.png') }}" alt="{{ course.title }}">
            </a>
            <div class="media-body">
              <h4 class="media-heading">{{ course.title }}</h4>
              <div class="clearfix content">
                <span class="text-muted ellipsis text-sm">教师：
                  {% for tid in course.teacherIds|slice(0,4) %}
                    {{ teachers[tid].nickname|default('') }}
                  {% else %}
                    --
                  {% endfor %}
                </span>
                <a class="btn btn-default btn-sm pull-right choose-btn" data-url="{{ path('course_manage_sub_course_add', {courseId:course.id,id:coursePackage.id})}}">选择</a>
              </div>
            </div>
          </li>
          {% else %}
            <div class="empty">科目下无课程!</div>
          {% endfor %}
        </ul>
    </div>
  {{ web_macro.paginator(paginator) }}
{% endblock %}
 
{% block footer %}
  <script>
      app.load('customwebbundle/controller/subcoursemanage/add-modal');
  </script>
{% endblock %}