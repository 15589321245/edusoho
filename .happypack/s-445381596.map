{"version":3,"sources":["app/Resources/static-src/app/js/classroom-manage/set-info/index.js"],"names":["editor_classroom_about","CKEDITOR","replace","allowedContent","toolbar","filebrowserImageUploadUrl","$","data","filebrowserFlashUploadUrl","select2","treeview","dropdownAutoWidth","treeviewInitState","placeholderOption","validator","validate","onkeyup","rules","title","required","initDatePicker","change","val","removeClass","addClass","$id","$picker","datetimepicker","format","language","minView","autoclose","endDate","Date","now","click","form"],"mappings":";;AAAA;;;;AACA;;AACA;;;;AAEA,IAAIA,yBAAyBC,SAASC,OAAT,CAAiB,OAAjB,EAA0B;AACnDC,kBAAgB,IADmC;AAEnDC,WAAS,QAF0C;AAGnDC,6BAA2BC,EAAE,QAAF,EAAYC,IAAZ,CAAiB,gBAAjB,CAHwB;AAInDC,6BAA2BF,EAAE,QAAF,EAAYC,IAAZ,CAAiB,gBAAjB;AAJwB,CAA1B,CAA7B;;AAOAD,EAAE,gDAAF,EAAoDG,OAApD,CAA4D;AAC1DC,YAAU,IADgD;AAE1DC,qBAAmB,IAFuC;AAG1DC,qBAAmB,WAHuC;AAI1DC,qBAAmB;AAJuC,CAA5D;;AAOA,IAAIC,YAAYR,EAAE,qBAAF,EAAyBS,QAAzB,CAAkC;AAChDC,WAAS,KADuC;AAEhDC,SAAO;AACLC,WAAO;AACLC,gBAAU;AADL;AADF;AAFyC,CAAlC,CAAhB;;AASAC,eAAe,kBAAf;;AAEAd,EAAE,qBAAF,EAAyBe,MAAzB,CAAgC,YAAY;AAC1C,MAAGf,EAAE,6BAAF,EAAiCgB,GAAjC,OAAyC,MAA5C,EAAoD;AAClDhB,MAAE,sBAAF,EAA0BiB,WAA1B,CAAsC,QAAtC;AACAjB,MAAE,sBAAF,EAA0BkB,QAA1B,CAAmC,QAAnC;AACD,GAHD,MAGM,IAAGlB,EAAE,6BAAF,EAAiCgB,GAAjC,OAAyC,MAA5C,EAAoD;AACvDhB,MAAE,sBAAF,EAA0BkB,QAA1B,CAAmC,QAAnC;AACDlB,MAAE,sBAAF,EAA0BiB,WAA1B,CAAsC,QAAtC;AACD,GAHK,MAGA;AACJjB,MAAE,sBAAF,EAA0BiB,WAA1B,CAAsC,QAAtC,EAAgDC,QAAhD,CAAyD,QAAzD;AACAlB,MAAE,sBAAF,EAA0BiB,WAA1B,CAAsC,QAAtC,EAAgDC,QAAhD,CAAyD,QAAzD;AACD;AACF,CAXD;;AAaA,SAASJ,cAAT,CAAwBK,GAAxB,EAA6B;AAC3B,MAAIC,UAAUpB,EAAEmB,GAAF,CAAd;AACAC,UAAQC,cAAR,CAAuB;AACrBC,YAAQ,YADa;AAErBC,cAAU,IAFW;AAGrBC,aAAS,CAHY,EAGT;AACZC,eAAW,IAJU;AAKrBC,aAAS,IAAIC,IAAJ,CAASA,KAAKC,GAAL,KAAa,QAAQ,GAAR,GAAc,EAAd,GAAmB,IAAzC;AALY,GAAvB;AAOAR,UAAQC,cAAR,CAAuB,cAAvB,EAAuC,IAAIM,IAAJ,EAAvC;AACD;;AAED3B,EAAE,iBAAF,EAAqB6B,KAArB,CAA2B,YAAI;AAC7BrB,YAAUsB,IAAV;AACD,CAFD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import notify from 'common/notify';\nimport 'common/select2';\nimport 'app/js/classroom-manage/classroom-create';\n\nlet editor_classroom_about = CKEDITOR.replace('about', {\n    allowedContent: true,\n    toolbar: 'Detail',\n    filebrowserImageUploadUrl: $('#about').data('imageUploadUrl'),\n    filebrowserFlashUploadUrl: $('#about').data('flashUploadUrl')\n});\n\n$('[data-role=\"tree-select\"], [name=\"categoryId\"]').select2({\n  treeview: true,\n  dropdownAutoWidth: true,\n  treeviewInitState: 'collapsed',\n  placeholderOption: 'first'\n});\n\nlet validator = $('#classroom-set-form').validate({\n  onkeyup: false,\n  rules: {\n    title: {\n      required: true,\n    }\n  },\n});\n\ninitDatePicker('#expiryValueDate');\n\n$('[name=\"expiryMode\"]').change(function () {\n  if($('[name=\"expiryMode\"]:checked').val()==='date') {\n    $('.js-expiryValue-date').removeClass('hidden');\n    $('.js-expiryValue-days').addClass('hidden');\n  }else if($('[name=\"expiryMode\"]:checked').val()==='days') {\n     $('.js-expiryValue-date').addClass('hidden');\n    $('.js-expiryValue-days').removeClass('hidden');\n  }else {\n    $('.js-expiryValue-date').removeClass('hidden').addClass('hidden');\n    $('.js-expiryValue-days').removeClass('hidden').addClass('hidden');\n  }\n})\n\nfunction initDatePicker($id) {\n  let $picker = $($id);\n  $picker.datetimepicker({\n    format: 'yyyy-mm-dd',\n    language: \"zh\",\n    minView: 2, //month\n    autoclose: true,\n    endDate: new Date(Date.now() + 86400 * 365 * 10 * 1000)\n  });\n  $picker.datetimepicker('setStartDate', new Date());\n}\n\n$('#classroom-save').click(()=>{\n  validator.form();\n})\n"]}