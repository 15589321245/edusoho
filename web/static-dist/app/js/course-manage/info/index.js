webpackJsonp(["app/js/course-manage/info/index"],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function renderMultiGroupComponent(elementId,name){var datas=$("#"+elementId).data("init-value");_reactDom2["default"].render(_react2["default"].createElement(_multiInput2["default"],{dataSource:datas,outputDataElement:name}),document.getElementById(elementId))}function _initDatePicker($id){var $picker=$($id);$picker.datetimepicker({format:"yyyy-mm-dd",language:"zh",minView:2,autoclose:!0}),$picker.datetimepicker("setStartDate",new Date)}var _help=__webpack_require__("4e68e437f5b716377a9d"),_reactDom=__webpack_require__("5fdcf1aea784583ca083"),_reactDom2=_interopRequireDefault(_reactDom),_react=__webpack_require__("33a776824bec073629e5"),_react2=_interopRequireDefault(_react),_multiInput=__webpack_require__("92755c6227786723f528"),_multiInput2=_interopRequireDefault(_multiInput),_sortable=__webpack_require__("8f840897d9471c8c1fbd");_interopRequireDefault(_sortable);renderMultiGroupComponent("course-goals","goals"),renderMultiGroupComponent("intended-students","audiences"),_initDatePicker("#expiryStartDate"),_initDatePicker("#expiryEndDate"),(0,_help.TabChange)(),(0,_help.publishCourse)(),CKEDITOR.replace("summary",{allowedContent:!0,toolbar:"Detail",filebrowserImageUploadUrl:$("#summary").data("imageUploadUrl")});var $form=$("#course-info-form"),validator=$form.validate({onkeyup:!1,groups:{date:"expiryStartDate expiryEndDate"},rules:{title:{required:!0},expiryDays:{required:"#expiryByDays:checked",digits:!0},expiryStartDate:{required:"#expiryByDate:checked",date:!0,before:"#expiryEndDate"},expiryEndDate:{required:"#expiryByDate:checked",date:!0,after:"#expiryStartDate"}},messages:{title:Translator.trans("请输入教学计划课程标题"),expiryDays:Translator.trans("请输入学习有效期"),expiryStartDate:{required:Translator.trans("请输入开始日期"),before:Translator.trans("开始日期应早于结束日期")},expiryEndDate:{required:Translator.trans("请输入结束日期"),after:Translator.trans("结束日期应晚于开始日期")}}});$.validator.addMethod("before",function(value,element,params){return"date"!==$('input[name="expiryMode"]:checked').val()||(!!value||$(params).val()>value)},Translator.trans("开始日期应早于结束日期")),$.validator.addMethod("after",function(value,element,params){return"date"!==$('input[name="expiryMode"]:checked').val()||(!!value||$(params).val()<value)},Translator.trans("结束日期应晚于开始日期")),$("#course-submit").click(function(evt){validator.form()&&($(evt.currentTarget).button("loading"),console.log("ok"),$form.submit())})}]);