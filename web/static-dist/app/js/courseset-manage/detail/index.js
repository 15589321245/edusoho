webpackJsonp(["app/js/courseset-manage/detail/index"],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_reactDom=__webpack_require__("9eb83941d980788d78c8"),_reactDom2=_interopRequireDefault(_reactDom),_react=__webpack_require__("c337a14feb9fb812fa40"),_react2=_interopRequireDefault(_react),_multiInput=__webpack_require__("26fa658edb0135ccf5db"),_multiInput2=_interopRequireDefault(_multiInput),_postal=__webpack_require__("5d0c27d11736d24f7053"),_postal2=_interopRequireDefault(_postal),detail=function(){function detail(){_classCallCheck(this,detail),this.init()}return _createClass(detail,[{key:"init",value:function(){this.initCkeditor(),this.renderMultiGroupComponent("course-goals","goals"),this.renderMultiGroupComponent("intended-students","audiences"),this.submitForm()}},{key:"initCkeditor",value:function(){CKEDITOR.replace("summary",{allowedContent:!0,toolbar:"Detail",filebrowserImageUploadUrl:$("#courseset-summary-field").data("imageUploadUrl")})}},{key:"renderMultiGroupComponent",value:function(elementId,name){var datas=$("#"+elementId).data("init-value");_reactDom2["default"].render(_react2["default"].createElement(_multiInput2["default"],{blurIsAdd:!0,sortable:!0,dataSource:datas,inputName:name+"[]",outputDataElement:name}),document.getElementById(elementId))}},{key:"submitForm",value:function(){var _this=this;$("#courseset-submit").click(function(event){_this.publishAddMessage(),$(event.currentTarget).button("loading"),$("#courseset-detail-form").submit()})}},{key:"publishAddMessage",value:function(){_postal2["default"].publish({channel:"courseInfoMultiInput",topic:"addMultiInput"})}}]),detail}();new detail}]);