{% extends 'TopxiaAdminBundle:Analysis:layout.html.twig' %}

{% block title %}渠道贡献统计 - {{ parent() }}{% endblock %}

{% set menu = 'partnerState' %}

{% set script_controller = 'analysis/partner-state' %}


{% block main %}
	<div class="page-header">
   
    <h1>渠道贡献统计</h1>
  </div>

 <form id="message-search-form" class="form-inline well well-sm" action="" method="get" novalidate>

  <div class="form-group">
    <input class="form-control" type="text" placeholder="大于等于日期" name="date1" value="{{ app.request.get('date1') }}">-<input class="form-control" type="text" placeholder="小于等于日期" name="date2" value="{{ app.request.get('date2') }}"></div>
  <div class="form-group">
    <input class="form-control" type="text" placeholder="渠道Id" name="partnerId" value="{{ app.request.get('partnerId') }}"></div>

  <input class="form-control" type="hidden" placeholder="排序字段" id="sort" name="sort" value="{{ app.request.get('sort') }}">

  

  <button class="btn btn-primary">搜索</button>
</form>

  <table class="table table-striped table-hover" id="state-table">
    <thead>
    <tr id="state-table-tr">
      <th>日期</th>
      <th>渠道Id</th> 
      <th>渠道名称</th> 
      <th data-sort="courseOrders" ><a href="">带来课程报名人数</a></th>
      <th data-sort="courseOrdersFee"><a href="">带来收费课程订单</a></th>
      <th data-sort="courseOrdersFree"><a href="">带来免费课程人数</a></th>
      <th data-sort="activityOrders"><a href="">带来活动报名人数</a></th>
      <th data-sort="vipOrders"><a href="">带来会员订单数</a></th>
      <th data-sort="dayActGuest"><a href="">带来游客数</a></th>
      <th data-sort="dayNewGuest"><a href="">带来新游客数</a></th>
      <th data-sort="dayActUser"><a href="">带来用户数</a></th>
      <th data-sort="dayRegUser"><a href="">带来注册用户数</a></th>
      <th data-sort="dayPv"><a href="">带来PV数</a></th>
    
    </tr>
    </thead>
    <tbody>

      {% if sumPartnerState is not empty %}
         {% include 'TopxiaAdminBundle:Analysis:partner-state-sum.html.twig' %}
      {% endif %}

      {% for partnerState in partnerStates %}
      {% set partnerUser = partnerUsers[partnerState.partnerId]%}
      
        {% include 'TopxiaAdminBundle:Analysis:partner-state-tr.html.twig' %}
      {% else %}
        <tr><td colspan="6"><div class="empty">无课程记录</div></td></tr>
      {% endfor %}
    </tbody>
  </table>

  {{ web_macro.paginator(paginator) }}
{% endblock %}