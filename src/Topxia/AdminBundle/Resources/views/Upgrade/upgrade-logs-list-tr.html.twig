<tr id="log-tr-{{ log.id }}" >

  <td>
    {{ log.cname }}
  </td>
  <td>
    {% if log.type == 1 %}
    升级包
    {% elseif log.type == 0 %}
    安装包
    {% endif %}
  </td>

  <td>
    {% if log.fromv is empty %}
      安装包
    {% else %}
      {{ log.fromv }}
    {% endif %}
  </td>

  <td> {{ log.tov }}</td>
  <td>
      {% if log.dbBackPath is empty %}
        无备份数据库
      {% else %}
       {{ log.dbBackPath }}
     {% endif %}

 </td>
  <td>
    {% if log.srcBackPath is empty %}
        无备份文件夹
      {% else %}
       {{ log.srcBackPath }}
     {% endif %}
  </td>
  <td> {{ log.logtime | date('Y-n-d H:i:s')}}</td>
  <td> 
    {% if log.status == 'ROLLBACK' %}
    <strong class="text-danger">
      需要回滚
    </strong>
    {% elseif log.status == 'ERROR' %}
      <strong class="text-warning">
      更新失败
      </strong>
    {% elseif log.status == 'SUCCESS' %}
    <strong class="text-success">
      更新成功
    </strong>
    {% elseif log.status == 'RECOVERED' %}
    <strong class="text-info">
      已恢复
    </strong>
    {% endif %}
  </td>

  <td> 
    {% if log.reason %}

    {{ log.reason | plain_text(10)}}
    <br>
    <div>
      <a href="#" class="btn btn-sm btn-info" rel="popover" data-content="{{log.reason}}">详情</a>
    </div>

    {% endif %}
  </td>


</tr>