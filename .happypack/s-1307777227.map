{"version":3,"sources":["app/Resources/static-src/app/js/file-chooser/file-choose.js"],"names":["FileChooser","options","init","initTab","initFileChooser","$","click","e","preventDefault","$this","find","prop","closest","siblings","tab","materialLibChoose","courseFileChoose","videoImport","uploader","on","fileSelect","file","emit","addClass","removeClass"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA;;;;;;;;;;;AAFA;;IAIMA,W;;;AAEJ,uBAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AAEnB,UAAKC,IAAL;;AAFmB;AAIpB;;;;2BAEM;AACL,WAAKC,OAAL;AACA,WAAKC,eAAL;AACD;;;8BAES;AACRC,QAAE,aAAF,EAAiBC,KAAjB,CAAuB,UAAUC,CAAV,EAAa;AAClCA,UAAEC,cAAF;AACA,YAAIC,QAAQJ,EAAE,IAAF,CAAZ;AACAI,cAAMC,IAAN,CAAW,gBAAX,EAA6BC,IAA7B,CAAkC,SAAlC,EAA6C,SAA7C;AACAF,cAAMG,OAAN,CAAc,IAAd,EAAoBC,QAApB,CAA6B,IAA7B,EAAmCH,IAAnC,CAAwC,gBAAxC,EAA0DC,IAA1D,CAA+D,SAA/D,EAA0E,KAA1E;AACAF,cAAMK,GAAN,CAAU,MAAV;AACD,OAND;AAOD;;;sCAEiB;AAAA;;AAChB,UAAMC,oBAAoB,gCAAsBV,EAAE,yBAAF,CAAtB,CAA1B;AACA,UAAMW,mBAAmB,+BAAqBX,EAAE,uBAAF,CAArB,CAAzB;AACA,UAAMY,cAAc,0BAAgBZ,EAAE,qBAAF,CAAhB,CAApB;AACA,UAAMa,WAAW,4BAAkBb,EAAE,uBAAF,CAAlB,CAAjB;AACAU,wBAAkBI,EAAlB,CAAqB,QAArB,EAA+B;AAAA,eAAQ,OAAKC,UAAL,CAAgBC,IAAhB,CAAR;AAAA,OAA/B;AACAL,uBAAiBG,EAAjB,CAAoB,QAApB,EAA8B;AAAA,eAAQ,OAAKC,UAAL,CAAgBC,IAAhB,CAAR;AAAA,OAA9B;AACAJ,kBAAYE,EAAZ,CAAe,aAAf,EAA8B;AAAA,eAAQ,OAAKC,UAAL,CAAgBC,IAAhB,CAAR;AAAA,OAA9B;AACAH,eAASC,EAAT,CAAY,QAAZ,EAAsB;AAAA,eAAQ,OAAKC,UAAL,CAAgBC,IAAhB,CAAR;AAAA,OAAtB;AACD;;;+BAEUA,I,EAAM;AACf,WAAKC,IAAL,CAAU,QAAV,EAAoBD,IAApB;AACD;;;6BAEe;AACdhB,QAAE,mBAAF,EAAuBkB,QAAvB,CAAgC,QAAhC;AACAlB,QAAE,oBAAF,EAAwBmB,WAAxB,CAAoC,QAApC;AACD;;;8BAEgB;AACfnB,QAAE,oBAAF,EAAwBkB,QAAxB,CAAiC,QAAjC;AACAlB,QAAE,mBAAF,EAAuBmB,WAAvB,CAAmC,QAAnC;AACD;;;;;;kBAGYxB,W","file":"file-choose.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import MaterialLibChoose from './base/materiallib-choose';\nimport VideoImport from './base/import-video';\nimport CourseFileChoose from './base/coursefile-choose';\nimport UploadChooser from './base/upload-chooser';\n// import Emitter from 'es6-event-emitter';\n\nimport Emitter from \"component-emitter\";\n\nclass FileChooser extends Emitter{\n\n  constructor(options) {\n    super();\n    this.init();\n\n  }\n\n  init() {\n    this.initTab();\n    this.initFileChooser();\n  }\n\n  initTab() {\n    $(\"#material a\").click(function (e) {\n      e.preventDefault();\n      let $this = $(this);\n      $this.find('[type=\"radio\"]').prop('checked', 'checked');\n      $this.closest('li').siblings('li').find('[type=\"radio\"]').prop('checked', false);\n      $this.tab('show')\n    });\n  }\n\n  initFileChooser() {\n    const materialLibChoose = new MaterialLibChoose($('#chooser-material-panel'));\n    const courseFileChoose = new CourseFileChoose($('#chooser-course-panel'));\n    const videoImport = new VideoImport($('#import-video-panel'));\n    const uploader = new UploadChooser($('#chooser-upload-panel'));\n    materialLibChoose.on('select', file => this.fileSelect(file));\n    courseFileChoose.on('select', file => this.fileSelect(file));\n    videoImport.on('file.select', file => this.fileSelect(file));\n    uploader.on('select', file => this.fileSelect(file));\n  }\n\n  fileSelect(file) {\n    this.emit('select', file);\n  }\n\n  static openUI() {\n    $('.file-chooser-bar').addClass('hidden');\n    $('.file-chooser-main').removeClass('hidden');\n  }\n\n  static closeUI() {\n    $('.file-chooser-main').addClass('hidden');\n    $('.file-chooser-bar').removeClass('hidden');\n  }\n}\n\nexport default FileChooser;\n"]}