{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/group/editor.js","webpack:///./app/Resources/static-src/app/js/group/index.js","webpack:///./app/Resources/static-src/app/js/group/thread-opreate.js"],"names":["initEditor","options","editor","CKEDITOR","replace","toolbar","filebrowserImageUploadUrl","$","data","allowedContent","height","on","val","getData","checkUrl","url","hrefArray","split","addBtnClicked","click","addClass","post","status","window","location","reload","Translator","trans","message","length","confirm","$this","hide","hasClass","parent","find","show","tooltip","postId","attr","fromUserId","html","focus","fromUserIdNosubVal","css","animate","scrollTop","offset","top","replaceWith","$trigger","href","initThread","btn","$form","formValidator","validate","currentDom","ajax","rules","required","minlength","trim","submitError","responseText","parseJSON","error","submitSuccess","console","log","form","initThreadReplay","$forms","each","content","ignore","submitHandler","$replyBtn","fromUserIdVal","button","cache","async","type","dataType","success","removeClass","e"],"mappings":"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","file":"app/js/group/index.js","sourcesContent":["export let initEditor = (options) => {\n  var editor = CKEDITOR.replace(options.replace, {\n    toolbar: options.toolbar,\n    filebrowserImageUploadUrl: $(\"#\" + options.replace).data('imageUploadUrl'),\n    allowedContent: true,\n    height: 300\n  });\n  editor.on('change', () => {\n    $(\"#\" + options.replace).val(editor.getData());\n  });\n  editor.on('blur', () => {\n    $(\"#\" + options.replace).val(editor.getData());\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/editor.js","import notify from 'common/notify';\nimport { initThread, initThreadReplay } from './thread-opreate';\n\ninitThread();\ninitThreadReplay();\n\n//@TODO等待整理迁移\nfunction checkUrl(url) {\n  let hrefArray = url.split('#');\n  hrefArray = hrefArray[0].split('?');\n  return hrefArray[1];\n}\n\nlet addBtnClicked = false;\n\n$('#add-btn').click(function () {\n  $(this).addClass('disabled');\n  var url = $(this).data('url');\n  $.post(url, function (data) {\n    if (data.status == 'success') {\n      window.location.reload();\n    } else {\n      notify('danger', Translator.trans(data.message));\n    }\n  });\n});\n\nif ($('#exit-btn').length > 0) {\n  $('#exit-btn').click(function () {\n    if (!confirm(Translator.trans('group.manage.member_exit_hint'))) {\n      return false;\n    }\n\n    var url = $(this).data('url');\n    $.post(url, function (data) {\n      if (data.status == 'success') {\n        window.location.reload();\n      } else {\n        notify('danger', Translator.trans(data.message));\n      }\n    });\n  })\n\n}\n\n$('#thread-list').on('click', '.uncollect-btn, .collect-btn', function () {\n  let $this = $(this);\n\n  $.post($this.data('url'), function () {\n    $this.hide();\n    if ($this.hasClass('collect-btn')) {\n      $this.parent().find('.uncollect-btn').show();\n    } else {\n      $this.parent().find('.collect-btn').show();\n    }\n  });\n});\n\n$('.attach').tooltip();\n\nif ($('.group-post-list').length > 0) {\n  $('.group-post-list').on('click', '.li-reply', function () {\n    var postId = $(this).attr('postId');\n    var fromUserId = $(this).data('fromUserId');\n    $('#fromUserIdDiv').html('<input type=\"hidden\" id=\"fromUserId\" value=\"' + fromUserId + '\">');\n    $('#li-' + postId).show();\n    $('#reply-content-' + postId).focus();\n    $('#reply-content-' + postId).val(Translator.trans('group.post.reply_hint') + ' ' + $(this).attr('postName') + ':');\n\n  });\n\n  $('.group-post-list').on('click', '.reply', function () {\n    var postId = $(this).attr('postId');\n    if ($(this).data('fromUserIdNosub') != '') {\n\n      var fromUserIdNosubVal = $(this).data('fromUserIdNosub');\n      $('#fromUserIdNoSubDiv').html('<input type=\"hidden\" id=\"fromUserIdNosub\" value=\"' + fromUserIdNosubVal + '\">');\n      $('#fromUserIdDiv').html('');\n\n    }\n\n    ;\n    $(this).hide();\n    $('#unreply-' + postId).show();\n    $('.reply-' + postId).css('display', '');\n  });\n\n  $('.group-post-list').on('click', '.unreply', function () {\n    var postId = $(this).attr('postId');\n\n    $(this).hide();\n    $('#reply-' + postId).show();\n    $('.reply-' + postId).css('display', 'none');\n\n  });\n\n  $('.group-post-list').on('click', '.replyToo', function () {\n    var postId = $(this).attr('postId');\n    if ($(this).attr('data-status') == 'hidden') {\n      $(this).attr('data-status', '');\n      $('#li-' + postId).show();\n      $('#reply-content-' + postId).focus();\n      $('#reply-content-' + postId).val('');\n\n    } else {\n      $('#li-' + postId).hide();\n      $(this).attr('data-status', 'hidden');\n    }\n\n  });\n\n  $('.group-post-list').on('click', '.lookOver', function () {\n\n    var postId = $(this).attr('postId');\n    $('.li-reply-' + postId).css('display', '');\n    $('.lookOver-' + postId).hide();\n    $('.paginator-' + postId).css('display', '');\n\n  });\n\n  $('.group-post-list').on('click', '.postReply-page', function () {\n\n    var postId = $(this).attr('postId');\n    $.post($(this).data('url'), '', function (html) {\n\n      $('body,html').animate({\n        scrollTop: $('#post-' + postId).offset().top,\n      }, 300), !1;\n\n      $('.reply-post-list-' + postId).replaceWith(html);\n\n    });\n\n  });\n\n}\n\nif ($('#hasAttach').length > 0) {\n\n  $('.ke-icon-accessory').addClass('ke-icon-accessory-red');\n\n}\n\nif ($('#post-action').length > 0) {\n\n  $('#post-action').on('click', '#closeThread', function () {\n\n    var $trigger = $(this);\n    if (!confirm($trigger.attr('title') + '?')) {\n      return false;\n    }\n\n    $.post($trigger.data('url'), function (data) {\n\n      window.location.href = data;\n\n    });\n  });\n\n  $('#post-action').on('click', '#elite,#stick,#cancelReward', function () {\n\n    var $trigger = $(this);\n\n    $.post($trigger.data('url'), function (data) {\n      window.location.href = data;\n    });\n  });\n\n}\n\nif ($('.actions').length > 0) {\n\n  $('.group-post-list').on('click', '.post-delete-btn,.post-adopt-btn', function () {\n\n    var $trigger = $(this);\n    if (!confirm($trigger.attr('title') + '?')) {\n      return false;\n    }\n\n    $.post($trigger.data('url'), function () {\n      window.location.reload();\n    });\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/index.js","import { initEditor } from './editor';\nimport notify from 'common/notify';\nimport AttachmentActions from 'app/js/attachment/widget/attachment-actions';\n\nexport const initThread = () => {\n  let btn = '#post-thread-btn';\n  let $form = $(\"#post-thread-form\");\n  new AttachmentActions($form);\n\n  if($('#post_content').length) {\n     initEditor({\n      toolbar: 'Thread',\n      replace: 'post_content'\n    });\n  }\n\n  let formValidator = $form.validate({\n    currentDom: btn,\n    ajax: true,\n    rules: {\n      'content': {\n        required: true,\n        minlength: 2,\n        trim: true\n      }\n    },\n    submitError: function (data) {\n      data = data.responseText;\n      data = $.parseJSON(data);\n      if (data.error) {\n        notify('danger', data.error.message);\n      } else {\n        notify('danger', Translator.trans('group.post.reply_fail_hint'));\n      }\n    },\n    submitSuccess: function (data) {\n      console.log(data);\n      if (data == \"/login\") {\n        window.location.href = url;\n        return;\n      }\n      // @TODO优化不刷新页面\n      window.location.reload();\n    },\n  });\n  console.log(formValidator);\n  $(btn).click(() => {\n    formValidator.form();\n  })\n}\n\nexport const initThreadReplay = () => {\n  let $forms = $('.thread-post-reply-form');\n  $forms.each(function () {\n    let $form = $(this);\n    let content = $form.find('textarea').attr('name');\n    let formValidator = $form.validate({\n      ignore: '',\n      rules: {\n        [`${content}`]: {\n          required: true,\n          minlength: 2,\n          trim: true\n        }\n      },\n      submitHandler: function (form) {\n        // @TODO优化全局的submitHandler方法，提交统一方式；\n        var $replyBtn = $(form).find('.reply-btn');\n        var postId = $replyBtn.attr('postId');\n        var fromUserIdVal = \"\";\n        if ($('#fromUserId').length > 0) {\n          fromUserIdVal = $('#fromUserId').val();\n        } else {\n          if ($('#fromUserIdNosub').length > 0) {\n            fromUserIdVal = $('#fromUserIdNosub').val();\n          } else {\n            fromUserIdVal = \"\";\n          }\n        }\n        $replyBtn.button('submiting').addClass('disabled');\n        console.log($(form).attr('action'));\n        console.log(\"content=\" + $(form).find('textarea').val() + '&' + 'postId=' + postId + '&' + 'fromUserId=' + fromUserIdVal);\n        $.ajax({\n          url: $(form).attr('action'),\n          data: \"content=\" + $(form).find('textarea').val() + '&' + 'postId=' + postId + '&' + 'fromUserId=' + fromUserIdVal,\n          cache: false,\n          async: false,\n          type: \"POST\",\n          dataType: 'text',\n          success: function (url) {\n            if (url == \"/login\") {\n              window.location.href = url;\n              return;\n            }\n            // @TODO优化不刷新页面\n            window.location.reload();\n          },\n          error: function (data) {\n            data = $.parseJSON(data.responseText);\n            if (data.error) {\n              notify('danger',data.error.message);\n            } else {\n              notify('danger',Translator.trans('group.post.reply_fail_hint'));\n            }\n            $replyBtn.button('reset').removeClass('disabled');\n          }\n        });\n      }\n    });\n    $form.find('button').click((e) => {\n      formValidator.form()\n    })\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/group/thread-opreate.js"],"sourceRoot":""}