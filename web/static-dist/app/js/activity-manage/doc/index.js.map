{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/activity-manage/doc/doc.js","webpack:///./app/Resources/static-src/app/js/activity-manage/doc/index.js"],"names":["Document","$mediaId","$","init","initStep2Form","initStep3Form","initFileChooser","$step2_form","validator","data","validate","rules","title","required","maxlength","trim","course_title","mediaId","messages","Translator","trans","$step3_form","onkeyup","finishDetail","positive_integer","max","min","digits","fileChooser","on","file","val","id","valid","JSON","stringify","conditionsType","event","currentTarget","children","$conditionsDetail","addClass","onConditionTimeType"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;;;;;KAEqBA,Q;AACnB,uBAAc;AAAA;;AACZ,UAAKC,QAAL,GAAgBC,EAAE,kBAAF,CAAhB;AACA,UAAKC,IAAL;AACD;;;;4BAEM;AACL,uCAAgB,KAAKF,QAArB;AACA,YAAKG,aAAL;AACA,YAAKC,aAAL;AACA,YAAKC,eAAL;AACD;;;qCAEe;AACd,WAAIC,cAAcL,EAAE,aAAF,CAAlB;AACA,WAAIM,YAAYD,YAAYE,IAAZ,CAAiB,WAAjB,CAAhB;AACAD,mBAAYD,YAAYG,QAAZ,CAAqB;AAC/BC,gBAAO;AACLC,kBAAO;AACLC,uBAAU,IADL;AAELC,wBAAW,EAFN;AAGLC,mBAAM,IAHD;AAILC,2BAAc;AAJT,YADF;AAOLC,oBAAS;AAPJ,UADwB;AAU/BC,mBAAU;AACRD,oBAAS;AACPJ,uBAAUM,WAAWC,KAAX,CAAiB,2CAAjB;AADH;AADD;AAVqB,QAArB,CAAZ;AAgBD;;;qCAEe;AACd,WAAIC,cAAcnB,EAAE,aAAF,CAAlB;AACA,WAAIM,YAAYa,YAAYX,QAAZ,CAAqB;AACnCY,kBAAS,KAD0B;AAEnCX,gBAAO;AACLC,kBAAO;AACLC,uBAAU,IADL;AAELC,wBAAW;AAFN,YADF;AAKLS,yBAAc;AACZV,uBAAU,IADE;AAEZW,+BAAkB,IAFN;AAGZC,kBAAK,GAHO;AAIZC,kBAAK;AAJO;AALT,UAF4B;AAcnCR,mBAAU;AACRK,yBAAc;AACZV,uBAAUM,WAAWC,KAAX,CAAiB,yDAAjB,CADE;AAEZO,qBAAQR,WAAWC,KAAX,CAAiB,uDAAjB;AAFI;AADN;AAdyB,QAArB,CAAhB;AAqBAC,mBAAYZ,IAAZ,CAAiB,WAAjB,EAA8BD,SAA9B;AACD;;;uCAEiB;AAAA;;AAChB,WAAIoB,cAAc,0BAAlB;;AAEAA,mBAAYC,EAAZ,CAAe,QAAf,EAAyB,UAACC,IAAD,EAAU;AACjC;AACA,eAAK7B,QAAL,CAAc8B,GAAd,CAAkBD,KAAKE,EAAvB;AACA9B,WAAE,aAAF,EAAiB+B,KAAjB;;AAEA/B,WAAE,gBAAF,EAAoB6B,GAApB,CAAwBG,KAAKC,SAAL,CAAeL,IAAf,CAAxB;AACD,QAND;;AAQA5B,SAAE,mBAAF,EAAuB2B,EAAvB,CAA0B,QAA1B,EAAoC,iBAAS;AAC3C,aAAIO,iBAAiBlC,EAAEmC,MAAMC,aAAR,EAAuBC,QAAvB,CAAgC,iBAAhC,EAAmDR,GAAnD,EAArB;;AAEA,aAAIS,oBAAoBtC,EAAE,kBAAF,CAAxB;AACA,aAAIkC,mBAAmB,MAAvB,EAA+B;AAC7BI,6BAAkBC,QAAlB,CAA2B,QAA3B;AACD,UAFD,MAEO;AACLC;AACD;AACF,QATD;AAUD;;;;;;mBAjFkB1C,Q;;;;;;;;;ACHrB;;;;;;AAEA,qB","file":"app/js/activity-manage/doc/index.js","sourcesContent":["import FileChooser from '../../file-chooser/file-choose';\nimport { chooserUiOpen, chooserUiClose, showChooserType } from '../widget/chooser-ui.js';\n\nexport default class Document {\n  constructor() {\n    this.$mediaId = $('[name=\"mediaId\"]');\n    this.init();\n  }\n\n  init() {\n    showChooserType(this.$mediaId)\n    this.initStep2Form();\n    this.initStep3Form();\n    this.initFileChooser();\n  }\n\n  initStep2Form() {\n    var $step2_form = $(\"#step2-form\");\n    var validator = $step2_form.data('validator');\n    validator = $step2_form.validate({\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n          trim: true,\n          course_title: true,\n        },\n        mediaId: 'required',\n      },\n      messages: {\n        mediaId: {\n          required: Translator.trans('activity.document_manage.media_error_hint')\n        }\n      }\n    });\n  }\n\n  initStep3Form() {\n    let $step3_form = $(\"#step3-form\");\n    let validator = $step3_form.validate({\n      onkeyup: false,\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n        },\n        finishDetail: {\n          required: true,\n          positive_integer: true,\n          max: 300,\n          min: 1,\n        },\n      },\n      messages: {\n        finishDetail: {\n          required: Translator.trans(\"activity.audio_manage.finish_detail_required_error_hint\"),\n          digits: Translator.trans(\"activity.audio_manage.finish_detail_digits_error_hint\")\n        }\n      }\n    });\n    $step3_form.data('validator', validator);\n  }\n\n  initFileChooser() {\n    let fileChooser = new FileChooser();\n\n    fileChooser.on('select', (file) => {\n      chooserUiClose();\n      this.$mediaId.val(file.id);\n      $(\"#step2-form\").valid();\n     \n      $('[name=\"media\"]').val(JSON.stringify(file));\n    });\n\n    $('#condition-select').on('change', event => {\n      let conditionsType = $(event.currentTarget).children('option:selected').val();\n\n      let $conditionsDetail = $(\"#condition-group\");\n      if (conditionsType !== 'time') {\n        $conditionsDetail.addClass('hidden');\n      } else {\n        onConditionTimeType();\n      }\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/doc/doc.js","import Document from './doc';\n\nnew Document();\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/doc/index.js"],"sourceRoot":""}