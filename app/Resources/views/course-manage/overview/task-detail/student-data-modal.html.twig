{% extends 'bootstrap-modal-layout.html.twig' %}

{% block title %}
    {{ user.nickname }}的全部任务 完成度 30%
{% endblock %}

{% set hide_footer = true %}
{% set modal_class ='modal-lg' %}

{% block body %}
    {% set userTaskResults = taskResults[user.id]|default() %}
    <div class="course-statictics mvm">
        <ul class="student-detail clearfix sm">
        {% for task in tasks %}
            {% set taskResult = userTaskResults[task.id]|default() %}
            <li  data-toggle="popover"
                 data-trigger="hover"
                 data-placement="top"
                 data-html="true"
                 data-delay="100"
                 data-content="
                    <div><p class='mbs'>任务{{ task.number }} : {{ task.title }}</p>
                    {% if taskResult.createdTime|default() %}
                        任务开始时间 : {{ taskResult.createdTime|date('Y-m-d H:i:s') }}<br/>
                    {% endif %}
                    {% if taskResult.finishedTime|default() %}
                        任务完成时间 : {{ taskResult.finishedTime|date('Y-m-d H:i:s') }}<br/>
                    {% endif %}
                    </div>">
                {% if taskResult %}
                    <i class="{{ taskResult.status }}-color"></i>
                {% else %}
                    <i class="learn-color"></i>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
    </div>
{% endblock %}