{% extends 'TopxiaWebBundle::bootstrap-modal-layout.html.twig' %}

{% set modalSize = 'large' %}

{% block title %}新建班级{% endblock %}
{% block body %}

<form id="class-create-form" class="form-horizontal" method="post" action="{{ path('admin_schcool_classes_create')}}">

  <div class="row form-group">
    <div class="col-md-3 control-label">
      <label>年级</label>
    </div>
    <div class="col-md-7 controls">
      <select class="form-control" name="gradeId" id="gradeId">
        {{ select_options_for_school('', '', '--选择年级--') }}
      </select>
    </div>
  </div>

  <div class="row form-group">
    <div class="col-md-3 control-label">
      <label for="name">班级名称</label>
    </div>
    <div class="col-md-7 controls">
      <input type="text" id="name" name="name" class="form-control" placeholder="如：1班、2班等">
    </div>
  </div>

  <div class="row form-group">
    <div class="col-md-3 control-label">
      <label>学期</label>
    </div>
    <div class="col-md-7 controls radios">
      {{ radios('term',{'first':'一学期','second':'二学期'},'first')}}
    </div>
  </div>

  <div class="row form-group">
    <div class="col-md-3 control-label">
      <label>入学年份</label>
    </div>
    <div class="col-md-7 controls">
      <select class="form-control" name="year" id="year">
        {{ select_options(dict('year'),'' , '--入学年份--') }}
      </select>
    </div>
  </div>

  <div class="row form-group">
    <div class="col-md-3 control-label">
      <label for="headteacherid">班主任</label>
    </div>
    <div class="col-md-7 controls">
      <input type="text" id="headteacherid" name="headteacherid" class="form-control">
    </div>
  </div>

  <div class="row form-group">
    <div class="col-md-3 control-label">
      <label>开启状态</label>
    </div>
    <div class="col-md-7 controls radios">
      {{ radios('enabled',{1:'开启', 0:'关闭'},0)}}
    </div>
  </div>

  <div class="row form-group">
    <div class="col-md-3 control-label">
      <label>缩略示意图</label>
    </div>
    <div class="col-md-7 controls">
      <div id="icon-container"></div>
      <button class="btn btn-default" id="school-class-icon-upload" type="button" data-url="{{ path('admin_school_class_icon_upload') }}">上传</button>
      <p class="help-block">
        请上传png, jpg, gif格式的图片文件。推荐尺寸比例：220px * 120px。</p>
        <input type="hidden" name="icon" value="">
      </div>
    </div>

    <div class="row form-group">
      <div class="col-md-3 control-label">
        <label>班级背景图</label>
      </div>
      <div class="col-md-8 controls">
        <div id="backgroudImg-container"></div>
        <button class="btn btn-default" id="school-class-backgroundImg-upload" type="button" data-url="{{ path('admin_school_class_backgroundImg_upload') }}">上传</button>
        <p class="help-block">
          请上传png, jpg, gif格式的图片文件。推荐尺寸比例：1140px * 120px。</p>
          <input type="hidden" name="backgroundImg" value="">
        </div>
      </div>

    </form>
    {% endblock %}

    {% block footer %}
    <button id="class-create-btn" data-submiting-text="正在提交" type="submit" class="btn btn-primary pull-right" data-toggle="form-submit" data-target="#class-create-form">提交</button>
    <button type="button" class="btn btn-link pull-right" data-dismiss="modal">取消</button>
    <script>app.load('school/class-create-modal')</script>
    {% endblock %}