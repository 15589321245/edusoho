{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/user/message/index.js","webpack:///./app/Resources/static-src/app/js/user/message/message.js"],"names":["element","Message","options","$element","$","validator","validate","rules","required","es_remote","chinese_alphanumeric","maxlength","ajax","submitSuccess","Translator","trans","closest","modal","submitError"],"mappings":";;;;;;;AAAA;;;;;;AAEA,uBAAY;AACVA,YAAS;AADC,EAAZ,E;;;;;;;;;;;;;;;ACFA;;;;;;;;KAEMC,O;AACJ,oBAAYC,OAAZ,EAAqB;AAAA;;AACnB,UAAKC,QAAL,GAAgBC,EAAEF,QAAQF,OAAV,CAAhB;AACA,UAAKK,SAAL;AACD;;;;iCAEW;AACV,WAAIF,WAAW,KAAKA,QAApB;AACAA,gBAASG,QAAT,CAAkB;AAChBC,gBAAO;AACL,gCAAqB;AACnBC,uBAAU,IADS;AAEnBC,wBAAW,IAFQ;AAGnBC,mCAAsB;AAHH,YADhB;AAML,+BAAoB;AAClBF,uBAAU,IADQ;AAElBG,wBAAW;AAFO;AANf,UADS;AAYhBC,eAAM,IAZU;AAahBC,sBAbgB,2BAaA;AACd,iCAAO,SAAP,EAAkBC,WAAWC,KAAX,CAAiB,QAAjB,CAAlB;AACAZ,oBAASa,OAAT,CAAiB,QAAjB,EAA2BC,KAA3B,CAAiC,MAAjC;AACD,UAhBe;AAiBhBC,oBAjBgB,yBAiBF;AACZ,iCAAO,QAAP,EAAiBJ,WAAWC,KAAX,CAAiB,aAAjB,CAAjB;AACD;AAnBe,QAAlB;AAqBD;;;;;;mBAGYd,O","file":"app/js/user/message/index.js","sourcesContent":["import Message from './message';\n\nnew Message({\n  element: '#message-create-form'\n})\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/user/message/index.js","import notify from 'common/notify';\n\nclass Message {\n  constructor(options) {\n    this.$element = $(options.element);\n    this.validator();\n  }\n\n  validator() {\n    let $element = this.$element;\n    $element.validate({\n      rules: {\n        'message[receiver]': {\n          required: true,\n          es_remote: true,\n          chinese_alphanumeric: true\n        },\n        'message[content]': {\n          required: true,\n          maxlength: 500\n        }\n      },\n      ajax: true,\n      submitSuccess() {\n        notify('success', Translator.trans('私信发送成功'));\n        $element.closest('.modal').modal('hide');\n      },\n      submitError() {\n        notify('danger', Translator.trans('私信发送失败，请重试！'));\n      }\n    });\n  }\n}\n\nexport default Message;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/user/message/message.js"],"sourceRoot":""}