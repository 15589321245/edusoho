{% extends 'TopxiaWebBundle::layout.html.twig' %}

{% set script_controller = 'quiz-question/do-test' %}

{% block content %}
<div class="well">
  <h1>Example page header</h1>
  <p>asgadsgsagasgasgadsgsagasgasgadsgsagasgasgadsgsagasgasgadsgsagasgasgadsgsagasgasgadsgsagasgasgadsgsagasg</p>
  <small>fasgsadgsadgasgsag</small>
</div>

<style type="text/css">
	.affix.questionBar {
		top: 0;
	}
	.affix.answerCard {
		position: fixed;
		top: 60px;
		float: right;
	}

	.answerCard .panel-body a.btn {
		float: left;
		margin: 1px;
	}

	.answerCard {
		width:22%;
		position: absolute;
		right: 0;
		top: 0;
	}

	.testContent {
		position: relative;;
	}
</style>

<div class="row testContent" data-spy="scroll" data-target=".questionBar">
	<div  class="col-md-9">
		{# <div class="questionBar" data-spy="affix" data-offset-top="200">
			<ul class="nav nav-pills nav-justified">
				<li><a href="#choice">选择</a></li>
				<li><a href="#determine">判断</a></li>
				<li><a href="#fill">填空</a></li>
				<li><a href="#essay">问答</a></li>
				<li><a href="#material">材料</a></li>
			</ul>
		</div>
		<br> #}
		<div>
			{% block main%}
			{% endblock %}
		</div>

	</div>

	<div class="col-md-3"></div>

		<div class="panel panel-default answerCard" data-spy="affix" data-offset-top="200">
  			<div class="panel-heading">
  				<div class="questionBar">
					<ul class="nav nav-pills nav-justified">
						<li><a href="#choice">选择</a></li>
						<li><a href="#determine">判断</a></li>
						<li><a href="#fill">填空</a></li>
						<li><a href="#essay">问答</a></li>
						<li><a href="#material">材料</a></li>
					</ul>
				</div>
  			</div>
  			<div class="panel-body">
  				{% set index = 1 %}
  				{% for question in questions.single_choice %}
					<a href="#question{{ question.id }}" class="btn btn-default btn-sm">{{ index }}</a>
					{% set index = index + 1 %}
				{% endfor %}

				{% for question in questions.choice %}
					<a href="#question{{ question.id }}" class="btn btn-default btn-sm">{{ index }}</a>
					{% set index = index + 1 %}
				{% endfor %}

				{% for question in questions.determine %}
					<a href="#question{{ question.id }}" class="btn btn-default btn-sm">{{ index }}</a>
					{% set index = index + 1 %}
				{% endfor %}

				{% for question in questions.fill %}
					<a href="#question{{ question.id }}" class="btn btn-default btn-sm">{{ index }}</a>
					{% set index = index + 1 %}
				{% endfor %}

				{% for question in questions.essay %}
					<a href="#question{{ question.id }}" class="btn btn-default btn-sm">{{ index }}</a>
					{% set index = index + 1 %}
				{% endfor %}

				{% for question in questions.material %}
					{% for question in question.questions %}
						<a href="#question{{ question.id }}" class="btn btn-default btn-sm">{{ index }}</a>
						{% set index = index + 1 %}
					{% endfor %}
				{% endfor %}

  			</div>
  			<div class="panel-footer">
  				<button class="btn btn-success" style="width:100%" id="postPaper" data-url="{{ path('course_manage_submit_test', { testId: testId }) }}">我要交卷</button>
  			</div>
		</div>

	
</div>
{% endblock %}