{% for sub_menus in menus %}
  <div data-role="navigation">
    <ul class="nav nav-tabs">
      {% for menu in sub_menus %}
  
          {% set param = {} %}
          {% set router_name = menu.router_name %}

            {% if menu.router_params|default(null) %}
            {% set router_params = menu.router_params %}
          
              {% if menu.router_params_context|default(false) %}
                {% for key,router_param in router_params %}

                  {% set router_param = router_param|split('.') %}
                  {% set object = router_param[0] %}
                  {% set value = router_param[1] %}
                  {% set item = setItem(key,_context[object][value]) %}
                  {% set param = param|merge(item) %}
                
                {% endfor %}
                <li class="{% if type == menu.code|default('-1') %}active{% endif %}"><a href="{{path(router_name,param)}}" class="{{menu.class|default('')}}  " {% if menu.blank|default(false) %}target=blank{% endif %}>{% if menu.icon|default(false) %}<span class="{{menu.icon}}"></span>{% endif %} {{menu.name}}</a>
                </li>
              {% else %}
                <li class="{% if type == menu.code|default('-1') %}active{% endif %}"><a href="{{path(router_name,router_params)}}" class="{{menu.class|default('')}}  " {% if menu.blank|default(false) %}target=blank{% endif %}>{% if menu.icon|default(false) %}<span class="{{menu.icon}}"></span>{% endif %} {{menu.name}}</a>
                </li>
              {% endif %}

           
            {% else %}
              <li class="{% if type == menu.code|default('-1') %}active{% endif %}"><a href="{{path(router_name)}}" class="{{menu.class|default('')}}  " {% if menu.blank|default(false) %}target=blank{% endif %}>{% if menu.icon|default(false) %}<span class="{{menu.icon}}"></span>{% endif %} {{menu.name}}</a>
              </li>
            {% endif %}
          
      {% endfor %}
    </ul>
</div>
{% endfor %}