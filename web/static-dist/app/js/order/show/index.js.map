{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/order/show/index.js","webpack:///./app/Resources/static-src/app/js/order/show/order.js"],"names":["element","Order","props","$element","$","$realpayPrice","find","$priceList","init","initEvent","on","calculatePrice","event","id","title","price","addPriceItem","removePriceItem","trigger","validate","formData","serializeArray","get","data","text","$priceItem","length","hasPriceItem","remove","html","append","submit","button"],"mappings":";;;;;;;AAAA;;;;;;AAEA,qBAAU;AACRA,YAAS;AADD,EAAV,E;;;;;;;;;;;;;;;;;KCFMC,K;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AACjB,UAAKC,QAAL,GAAgBC,EAAEF,MAAMF,OAAR,CAAhB;AACA,UAAKK,aAAL,GAAqB,KAAKF,QAAL,CAAcG,IAAd,CAAmB,gBAAnB,CAArB;AACA,UAAKC,UAAL,GAAkB,KAAKJ,QAAL,CAAcG,IAAd,CAAmB,0BAAnB,CAAlB;;AAEA,UAAKE,IAAL;AACD;;;;4BAEM;AACL,YAAKC,SAAL;AACD;;;iCAEW;AAAA;;AACV,YAAKN,QAAL,CAAcO,EAAd,CAAiB,gBAAjB,EAAmC;AAAA,gBAAS,MAAKC,cAAL,CAAoBC,KAApB,CAAT;AAAA,QAAnC;AACA,YAAKT,QAAL,CAAcO,EAAd,CAAiB,cAAjB,EAAiC,UAACE,KAAD,EAAQC,EAAR,EAAYC,KAAZ,EAAmBC,KAAnB;AAAA,gBAA6B,MAAKC,YAAL,CAAkBJ,KAAlB,EAAyBC,EAAzB,EAA6BC,KAA7B,EAAoCC,KAApC,CAA7B;AAAA,QAAjC;AACA,YAAKZ,QAAL,CAAcO,EAAd,CAAiB,iBAAjB,EAAoC,UAACE,KAAD,EAAQC,EAAR;AAAA,gBAAe,MAAKI,eAAL,CAAqBL,KAArB,EAA4BC,EAA5B,CAAf;AAAA,QAApC;;AAEA,YAAKV,QAAL,CAAce,OAAd,CAAsB,gBAAtB;AACA,YAAKC,QAAL;AACD;;;sCAEgB;AAAA;;AACf,WAAIC,WAAW,KAAKjB,QAAL,CAAckB,cAAd,EAAf;AACAjB,SAAEkB,GAAF,CAAM,KAAKnB,QAAL,CAAcoB,IAAd,CAAmB,gBAAnB,CAAN,EAA4CH,QAA5C,EAAsD,UAACG,IAAD,EAAU;AAC9D,gBAAKlB,aAAL,CAAmBmB,IAAnB,CAAwBD,IAAxB;AACD,QAFD;AAGD;;;kCAEYX,K,EAAOC,E,EAAI;AACtB,WAAIY,aAAarB,QAAMS,EAAN,CAAjB;AACA,WAAIY,WAAWC,MAAf,EAAuB;AACrB,gBAAO,IAAP;AACD;;AAED,cAAO,KAAP;AACD;;;kCAEYd,K,EAAOC,E,EAAIC,K,EAAOC,K,EAAO;AACpC,WAAIU,aAAarB,QAAMS,EAAN,CAAjB;;AAEA,WAAI,KAAKc,YAAL,CAAkBf,KAAlB,EAAyBC,EAAzB,CAAJ,EAAkC;AAChCY,oBAAWG,MAAX;AACD;;AAED,WAAIC,wDACoChB,EADpC,2DAEyCC,KAFzC,kEAG4CC,KAH5C,+BAAJ;;AAOA,YAAKR,UAAL,CAAgBuB,MAAhB,CAAuBD,IAAvB;AACD;;;qCAEejB,K,EAAOC,E,EAAI;AACzB,WAAIY,aAAarB,QAAMS,EAAN,CAAjB;;AAEA,WAAI,KAAKc,YAAL,CAAkBf,KAAlB,EAAyBC,EAAzB,CAAJ,EAAkC;AAChCY,oBAAWG,MAAX;AACD;AACF;;;gCAEU;AACT,YAAKzB,QAAL,CAAc4B,MAAd,CAAsB,iBAAS;AAC7B3B,WAAE,mBAAF,EAAuB4B,MAAvB,CAA8B,SAA9B;AACA,gBAAO,IAAP;AACD,QAHD;AAID;;;;;;mBAGY/B,K","file":"app/js/order/show/index.js","sourcesContent":["import Order from './order';\n\nnew Order({\n  element: '#order-create-form'\n});\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/order/show/index.js","class Order {\n  constructor(props) {\n    this.$element = $(props.element);\n    this.$realpayPrice = this.$element.find('#realpay-price');\n    this.$priceList = this.$element.find('#order-center-price-list');\n\n    this.init();\n  }\n\n  init() {\n    this.initEvent();\n  }\n\n  initEvent() {\n    this.$element.on('calculatePrice', event => this.calculatePrice(event));\n    this.$element.on('addPriceItem', (event, id, title, price) => this.addPriceItem(event, id, title, price));\n    this.$element.on('removePriceItem', (event, id) => this.removePriceItem(event, id));\n\n    this.$element.trigger('calculatePrice');\n    this.validate();\n  }\n\n  calculatePrice() {\n    let formData = this.$element.serializeArray();\n    $.get(this.$element.data('priceCalculate'), formData, (data) => {\n      this.$realpayPrice.text(data);\n    })\n  }\n\n  hasPriceItem(event, id) {\n    let $priceItem = $(`#${id}`);\n    if ($priceItem.length) {\n      return true;\n    }\n\n    return false;\n  }\n\n  addPriceItem(event, id, title, price) {\n    let $priceItem = $(`#${id}`);\n\n    if (this.hasPriceItem(event, id)) {\n      $priceItem.remove();\n    }\n\n    let html = `\n      <div class=\"order-center-price\" id=\"${id}\">\n        <div class=\"order-center-price__title\">${title}</div>\n        <div class=\"order-center-price__content\">-${price}</div>\n      </div>\n    `;\n\n    this.$priceList.append(html);\n  }\n\n  removePriceItem(event, id) {\n    let $priceItem = $(`#${id}`);\n    \n    if (this.hasPriceItem(event, id)) {\n      $priceItem.remove();\n    }\n  }\n\n  validate() {\n    this.$element.submit( event => {\n      $('#order-create-btn').button('loading');\n      return true;\n    });\n  }\n}\n\nexport default Order;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/order/show/order.js"],"sourceRoot":""}