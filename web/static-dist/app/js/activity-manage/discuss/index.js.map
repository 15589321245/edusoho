{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/activity-manage/discuss/discuss.js","webpack:///./app/Resources/static-src/app/js/activity-manage/discuss/index.js","webpack:///./app/Resources/static-src/app/js/activity-manage/editor.js?6763*"],"names":["Discuss","props","_init","_inItStep2form","$step2_form","$","validator","data","validate","rules","title","required","maxlength","trim","course_title","content","initEditor","$item","editor","CKEDITOR","replace","toolbar","filebrowserImageUploadUrl","filebrowserFlashUploadUrl","allowedContent","height","on","console","log","val","getData","form"],"mappings":";;;;;;;;;;;;;AAAA;;;;KAEqBA,O;AACnB,oBAAYC,KAAZ,EAAmB;AAAA;;AACjB,UAAKC,KAAL;AACD;;;;6BAEO;AACN,YAAKC,cAAL;AACD;;;sCAEgB;AACf,WAAIC,cAAcC,EAAE,aAAF,CAAlB;AACA,WAAIC,YAAYF,YAAYG,IAAZ,CAAiB,WAAjB,CAAhB;AACAD,mBAAYF,YAAYI,QAAZ,CAAqB;AAC/BC,gBAAO;AACLC,kBAAO;AACLC,uBAAU,IADL;AAELC,wBAAW,EAFN;AAGLC,mBAAM,IAHD;AAILC,2BAAc;AAJT,YADF;AAOLC,oBAAS;AAPJ;AADwB,QAArB,CAAZ;AAWA,+BAAWV,EAAE,kBAAF,CAAX,EAAiCC,SAAjC;AACD;;;;;;mBAxBkBN,O;;;;;;;;;ACFrB;;;;;;AAEA,yB;;;;;;;;;;;;ACFO,KAAMgB,kCAAa,SAAbA,UAAa,CAACC,KAAD,EAAQX,SAAR,EAAsB;;AAE9C,OAAIY,SAASC,SAASC,OAAT,CAAiB,oBAAjB,EAAuC;AAClDC,cAAS,MADyC;AAElDC,gCAA2BjB,EAAE,qBAAF,EAAyBE,IAAzB,CAA8B,gBAA9B,CAFuB;AAGlDgB,gCAA2BlB,EAAE,qBAAF,EAAyBE,IAAzB,CAA8B,gBAA9B,CAHuB;AAIlDiB,qBAAgB,IAJkC;AAKlDC,aAAQ;AAL0C,IAAvC,CAAb;;AAQAP,UAAOQ,EAAP,CAAU,QAAV,EAAoB,YAAM;AACxBC,aAAQC,GAAR,CAAY,QAAZ;AACAX,WAAMY,GAAN,CAAUX,OAAOY,OAAP,EAAV;AACA,SAAIxB,SAAJ,EAAe;AACbA,iBAAUyB,IAAV;AACD;AACF,IAND;;AAQA;AACAb,UAAOQ,EAAP,CAAU,MAAV,EAAkB,YAAM;AACrBC,aAAQC,GAAR,CAAY,MAAZ;AACDX,WAAMY,GAAN,CAAUX,OAAOY,OAAP,EAAV;AACA,SAAIxB,SAAJ,EAAe;AACbA,iBAAUyB,IAAV;AACD;AACF,IAND;;AAQA,UAAOb,MAAP;AACD,EA5BM,C","file":"app/js/activity-manage/discuss/index.js","sourcesContent":["import { initEditor } from '../editor'\n\nexport default class Discuss {\n  constructor(props) {\n    this._init();\n  }\n\n  _init() {\n    this._inItStep2form();\n  }\n\n  _inItStep2form() {\n    var $step2_form = $(\"#step2-form\");\n    var validator = $step2_form.data('validator');\n    validator = $step2_form.validate({\n      rules: {\n        title: {\n          required: true,\n          maxlength: 50,\n          trim: true,\n          course_title: true,\n        },\n        content: 'required',\n      },\n    });\n    initEditor($('[name=\"content\"]'),validator);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/discuss/discuss.js","import Discuss from './discuss';\n\nnew Discuss();\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/discuss/index.js","export const initEditor = ($item, validator) => {\n  \n  var editor = CKEDITOR.replace('text-content-field', {\n    toolbar: 'Task',\n    filebrowserImageUploadUrl: $('#text-content-field').data('imageUploadUrl'),\n    filebrowserFlashUploadUrl: $('#text-content-field').data('flashUploadUrl'),\n    allowedContent: true,\n    height: 280,\n  });\n  \n  editor.on('change', () => {\n    console.log('change');\n    $item.val(editor.getData());\n    if (validator) {\n      validator.form();\n    }\n  });\n\n  //fix ie11 中文输入\n  editor.on('blur', () => {\n     console.log('blur');\n    $item.val(editor.getData());\n    if (validator) {\n      validator.form();\n    }\n  });\n\n  return editor;\n};\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/editor.js"],"sourceRoot":""}