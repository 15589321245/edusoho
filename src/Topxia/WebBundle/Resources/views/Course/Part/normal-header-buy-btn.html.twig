<a class="btn btn-primary btn-lg" 
  href="#modal" 
  data-toggle="modal" 
  data-url="{{ path('course_buy', {id:course.id, targetType:'course'}) }}"
  {% if course.status != 'published' or (course.maxStudentNum > 0 and course.studentNum >= course.maxStudentNum) %}
    disabled="disabled"
  {% endif %}
>
  {% if userVipStatus == 'ok' %}
    加入学习
  {% else %}
    {% if setting('coin.coin_enabled') and setting('coin.price_type') == 'Coin' %}
      {% if course.coinPrice > 0 %}购买课程{% else %}加入学习{% endif %}</a>                
    {% else %}
      {% if course.price > 0 %}购买课程{% else %}加入学习{% endif %}</a>
    {% endif %}
  {% endif %}
</a>