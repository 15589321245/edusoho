{"version":3,"sources":["app/Resources/static-src/app/js/question-manage/type/question-essay.js"],"names":["Essay","$form","initTitleEditor","validator","initAnalysisEditor","answerFieldId","$answerField","$","init","rules","required","editor","CKEDITOR","replace","toolbar","filebrowserImageUploadUrl","data","height","on","val","getData"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;IAEMA,K;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8GACXA,KADW;;AAGjB,UAAKC,eAAL,CAAqB,MAAKC,SAA1B;AACA,UAAKC,kBAAL;;AAEA,UAAKC,aAAL,GAAqB,uBAArB;AACA,UAAKC,YAAL,GAAoBC,EAAE,MAAI,MAAKF,aAAX,CAApB;;AAEA,UAAKG,IAAL;AATiB;AAUlB;;;;2BAEM;AAAA;;AACL,WAAKF,YAAL,CAAkBG,KAAlB,CAAwB,KAAxB,EAA8B;AAC5BC,kBAAS;AADmB,OAA9B;;AAIA,UAAIC,SAASC,SAASC,OAAT,CAAiB,KAAKR,aAAtB,EAAqC;AAChDS,iBAAS,SADuC;AAEhDC,mCAA2B,KAAKT,YAAL,CAAkBU,IAAlB,CAAuB,gBAAvB,CAFqB;AAGhDC,gBAAQ,KAAKX,YAAL,CAAkBW,MAAlB;AAHwC,OAArC,CAAb;;AAMAN,aAAOO,EAAP,CAAW,QAAX,EAAqB,YAAM;AACzB,eAAKZ,YAAL,CAAkBa,GAAlB,CAAsBR,OAAOS,OAAP,EAAtB;AACD,OAFD;AAGAT,aAAOO,EAAP,CAAU,MAAV,EAAkB,YAAW;AAC3B,aAAKZ,YAAL,CAAkBa,GAAlB,CAAsBR,OAAOS,OAAP,EAAtB;AACD,OAFD;AAGD;;;;;;kBAGYpB,K","file":"question-essay.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import QuestionFormBase from './form-base';\n\nclass Essay extends QuestionFormBase {\n  constructor($form) {\n    super($form);\n\n    this.initTitleEditor(this.validator);\n    this.initAnalysisEditor();\n\n    this.answerFieldId = 'question-answer-field';\n    this.$answerField = $('#'+this.answerFieldId);\n\n    this.init();\n  }\n\n  init() {\n    this.$answerField.rules('add',{\n      required:true\n    })\n\n    let editor = CKEDITOR.replace(this.answerFieldId, {\n      toolbar: 'Minimal',\n      filebrowserImageUploadUrl: this.$answerField.data('imageUploadUrl'),\n      height: this.$answerField.height()\n    });\n\n    editor.on( 'change', () => {    \n      this.$answerField.val(editor.getData());\n    });\n    editor.on('blur', function() {\n      this.$answerField.val(editor.getData());\n    });\n  }\n}\n\nexport default Essay;"]}