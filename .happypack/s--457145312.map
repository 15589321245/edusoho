{"version":3,"sources":["app/Resources/static-src/app/js/courseset-manage/intro.js"],"names":["COURSE_All_INTRO","COURSE_BASE_INTRO","COURSE_TASK_INTRO","COURSE_TASK_DETAIL_INTRO","COURSE_LIST_INTRO","COURSE_LIST_INTRO_COOKIE","Intro","isTaskCreatePage","initNotTaskCreatePageIntro","initTaskCreatePageIntro","isInitTaskDetailIntro","setTimeout","initTaskDetailIntro","$","length","attr","steps","intro","introJs","setOptions","skipLabel","nextLabel","prevLabel","start","store","get","set","introStart","initAllSteps","initTaskSteps","element","initTaskDetailSteps","console","log","initNotTaskPageSteps","arry","push","initCourseListSteps","remove"],"mappings":"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","file":"intro.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import 'store';\nimport Cookies from 'js-cookie';\nconst COURSE_All_INTRO = 'COURSE_All_INTRO';\nconst COURSE_BASE_INTRO = 'COURSE_BASE_INTRO'; \nconst COURSE_TASK_INTRO = 'COURSE_TASK_INTRO';\nconst COURSE_TASK_DETAIL_INTRO = 'COURSE_TASK_DETAIL_INTRO';\nconst COURSE_LIST_INTRO = 'COURSE_LIST_INTRO';\nconst COURSE_LIST_INTRO_COOKIE = 'COURSE_LIST_INTRO_COOKIE';\n\nexport default class Intro {\n  introType() {\n    if(!this.isTaskCreatePage()) {\n      this.initNotTaskCreatePageIntro();\n      return null;\n    }\n    this.initTaskCreatePageIntro();\n    if(this.isInitTaskDetailIntro()) {\n      setTimeout(()=> {\n        this.initTaskDetailIntro();\n      }, 500);\n    }\n  }\n\n  isTaskCreatePage() {\n    return $('#step-3').length;\n  }\n\n  isInitTaskDetailIntro() {\n    $('.js-task-manage-item').attr('id','step-5');\n    return !!$('.js-settings-list').length;\n  }\n\n  introStart(steps){\n    let intro = introJs();\n    intro.setOptions({\n      steps: steps,\n      skipLabel:'我知道了',\n      nextLabel:'下一步',\n      prevLabel:'上一步'\n    });\n\n    intro.start();\n  }\n\n  isTaskCreatePage() {\n    return $('#step-3').length;\n  }\n\n  initTaskCreatePageIntro() {\n    if (store.get(COURSE_All_INTRO)) {\n      return;\n    }\n    if (!store.get(COURSE_BASE_INTRO)) {\n      store.set(COURSE_All_INTRO, true);\n      this.introStart(this.initAllSteps());\n      return;\n    }\n    if (!store.get(COURSE_TASK_INTRO)) {\n      store.set(COURSE_TASK_INTRO, true);\n      this.introStart(this.initTaskSteps());\n    }\n  }\n\n  initTaskDetailIntro(element){\n    if (!store.get(COURSE_TASK_DETAIL_INTRO)) {\n      store.set(COURSE_TASK_DETAIL_INTRO);\n      this.introStart(this.initTaskDetailSteps(element));\n    }\n  }\n\n  initNotTaskCreatePageIntro() {\n    if (store.get(COURSE_All_INTRO)) {\n      return;\n    }\n    if (!store.get(COURSE_BASE_INTRO)) {\n      console.log('ok');\n      store.set(COURSE_BASE_INTRO, true);\n      this.introStart(this.initNotTaskPageSteps());\n    }\n  }\n\n  initNotTaskPageSteps() {\n    return [\n      { \n        intro: \"课程管理功能现已全新升级!\",\n      },\n      { \n        element: '#step-1',\n        intro: \"教学内容的编辑、管理请点击左侧“计划任务”的菜单项进入!\",\n      },\n      { \n        element: '#step-2',\n        intro: \"在“营销设置”中您可以通过设置决定课程如何销售、如何加入、如何学习!\",\n      }\n    ];\n  }\n\n  initAllSteps() {\n    let arry = [\n      { \n        intro: \"课程管理功能现已全新升级!\",\n      },\n      { \n        element: '#step-1',\n        intro: \"教学内容的编辑、管理请点击左侧“计划任务”的菜单项进入!\",\n      },\n      { \n        element: '#step-2',\n        intro: \"在“营销设置”中您可以通过设置决定课程如何销售、如何加入、如何学习!\",\n      },\n      { \n        element: '#step-3',\n        intro: \"您可以在这里选择各种不同的教学手段，然后上传文件/设置内容/设置学习完成条件。!\",\n      }\n    ];  \n    //如果存在任务\n    if(this.isInitTaskDetailIntro()) {\n      arry.push({\n        element: '#step-5',\n        intro: `在设计学习任务时，\n        您可以按照课时去设置预习、学习、练习、作业、课外这几个环节，\n        每个环节都可以通过各种教学手段来实现。!`,\n      })\n    }\n\n    return arry;\n  }\n\n  initTaskSteps() {\n    return [\n      { \n        element: '#step-3',\n        intro: \"您可以在这里选择各种不同的教学手段，然后上传文件/设置内容/设置学习完成条件。!\",\n      }\n    ];\n  }\n\n  initCourseListSteps(element) {\n    return [\n      { \n        element: element,\n        intro: \"您可以在这里选择各种不同的教学手段，然后上传文件/设置内容/设置学习完成条件。!\",\n      }\n    ];\n  }\n\n  isCourseListIntro() {\n    if(!store.get(COURSE_LIST_INTRO)) {\n      console.log('ok');\n      Cookies.set(COURSE_LIST_INTRO_COOKIE,true);\n    }\n  } \n\n  initCourseListIntro(element) {\n    if(!store.get(COURSE_LIST_INTRO)) {\n      store.set(COURSE_LIST_INTRO,true);\n      this.introStart(this.initCourseListSteps(element));\n      store.remove(COURSE_LIST_INTRO_COOKIE);\n    }\n  }\n\n  initTaskDetailSteps(element) {\n    return [\n      { \n        element: element,\n        intro: `在设计学习任务时，\n        您可以按照课时去设置预习、学习、练习、作业、课外这几个环节，\n        每个环节都可以通过各种教学手段来实现。!`,\n      },\n    ];\n  }\n}\n\n\n\n\n\n\n\n"]}