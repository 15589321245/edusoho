{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/classroom-manage/student-expiryday/index.js"],"names":["$form","$","validator","validate","rules","deadline","required","date","messages","click","event","form","currentTarget","button","post","attr","serialize","response","Translator","trans","window","location","reload","datetimepicker","language","document","documentElement","lang","autoclose","format","minView","Date"],"mappings":";;;;;;AAAA;;;;;;AAEA,KAAIA,QAAQC,EAAE,qBAAF,CAAZ;AACA,KAAIC,YAAYF,MAAMG,QAAN,CAAe;AAC7BC,UAAO;AACLC,eAAU;AACRC,iBAAU,IADF;AAERC,aAAM;AAFE;AADL,IADsB;AAO7BC,aAAU;AACRH,eAAU;AACRC,iBAAU;AADF;AADF;AAPmB,EAAf,CAAhB;;AAcAL,GAAE,eAAF,EAAmBQ,KAAnB,CAAyB,UAACC,KAAD,EAAW;AAClC,OAAIR,UAAUS,IAAV,EAAJ,EAAsB;AACpBV,OAAES,MAAME,aAAR,EAAuBC,MAAvB,CAA8B,UAA9B;AACAZ,OAAEa,IAAF,CAAOd,MAAMe,IAAN,CAAW,QAAX,CAAP,EAA6Bf,MAAMgB,SAAN,EAA7B,EAAgD,UAAUC,QAAV,EAAoB;AAClE,WAAIA,YAAY,IAAhB,EAAsB;AACpB,+BAAO,SAAP,EAAkBC,WAAWC,KAAX,CAAiB,qDAAjB,CAAlB;AACD,QAFD,MAEO;AACL,+BAAO,QAAP,EAAiBD,WAAWC,KAAX,CAAiB,oDAAjB,CAAjB;AACD;AACDC,cAAOC,QAAP,CAAgBC,MAAhB;AACD,MAPD;AAQD;AACF,EAZD;;AAcArB,GAAE,mBAAF,EAAuBsB,cAAvB,CAAsC;AACpCC,aAAUC,SAASC,eAAT,CAAyBC,IADC;AAEpCC,cAAW,IAFyB;AAGpCC,WAAQ,YAH4B;AAIpCC,YAAS;AAJ2B,EAAtC;;AAOA7B,GAAE,mBAAF,EAAuBsB,cAAvB,CAAsC,cAAtC,EAAsD,IAAIQ,IAAJ,EAAtD,E","file":"app/js/classroom-manage/student-expiryday/index.js","sourcesContent":["import notify from 'common/notify';\n\nlet $form = $('#expiryday-set-form');\nlet validator = $form.validate({\n  rules: {\n    deadline: {\n      required: true,\n      date: true,\n    }\n  },\n  messages: {\n    deadline: {\n      required: '请输入有效期'\n    }\n  }\n})\n\n$('#student-save').click((event) => {\n  if (validator.form()) {\n    $(event.currentTarget).button('loadding');\n    $.post($form.attr('action'), $form.serialize(), function (response) {\n      if (response == true) {\n        notify('success', Translator.trans('classroom_manage.student_expiryday_set_success_hint'));\n      } else {\n        notify('danger', Translator.trans('classroom_manage.student_expiryday_set_failed_hint'));\n      }\n      window.location.reload();\n    });\n  }\n})\n\n$(\"#student_deadline\").datetimepicker({\n  language: document.documentElement.lang,\n  autoclose: true,\n  format: 'yyyy-mm-dd',\n  minView: 'month'\n});\n\n$(\"#student_deadline\").datetimepicker('setStartDate', new Date);\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/classroom-manage/student-expiryday/index.js"],"sourceRoot":""}