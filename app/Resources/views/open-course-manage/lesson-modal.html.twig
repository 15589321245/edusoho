{% extends 'bootstrap-modal-layout.html.twig' %}

{% set modal_class = 'modal-lg' %}
{% set lesson = lesson|default(null) %}

{% block title %}
  {% if lesson %}{{'编辑课时'|trans}}{{ lesson.number }}{% else %}{{'添加课时'|trans}}{% endif %}
{% endblock %}

{% do script(['libs/iframe-resizer.js', 'app/js/open-course-manage/lesson-modal/index.js']) %}

{% block body %}
  <div class="task-create-editor" id="task-create-editor">
    <div id="task-create-content" class="task-create-content hidden" 
      {% if lesson %}
        data-save-url="{{ path('open_course_manage_lesson_edit', {courseId: course.id, lessonId: lesson.id}) }}" data-lesson-id="{{lesson.id}}"
      {% else %}
        data-url= "{{ path('open_course_manage_lesson_create_form', {id: course.id}) }}"
        data-save-url="{{ path('open_course_manage_lesson_create', {id: course.id}) }}"
      {% endif %}
    ></div>
  </div>
{% endblock %}

{% block footer %}
<button type="button" class="btn btn-link" data-dismiss="modal">{{ '取消'|trans }}</button>
<button id="form-submit" type="submit" class="btn btn-primary"
          data-loading-text="{{ '正在保存...'|trans }}">{{ '保存'|trans }}</button>
{% endblock %}