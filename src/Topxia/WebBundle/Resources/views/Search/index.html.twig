{% extends 'TopxiaWebBundle::layout.html.twig' %}

{% block title %}搜索：{% if keywords %}{{ keywords }}{% else %}全部课程{% endif %} - {{ parent() }}{% endblock %}

{% do load_script('search/search') %}

{% block top_content %}
  <div class="search-banner">
    <div class="container">
      <div class="input-group search-input-group">
        <div class="input-wrap">
          <input type="text" class="form-control" placeholder="搜索">
          <i class="js-btn-clear es-icon es-icon-close01"></i>
        </div>
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button">搜索</button>
        </span>
      </div>
    </div>
  </div>
{% endblock %}

{% block content %}

  <div class="row">
    <div class="col-md-8">
      <div class="es-section">
        <ul class="nav nav-tabs" role="tablist">
          <li class="active"><a href="javascript:;">课程</a></li>
          <li><a href="javascript:;">教师</a></li>
          <li><a href="javascript:;">话题</a></li>
          <li><a href="javascript:;">资讯</a></li>
        </ul>
        <div class="search-result">
          <!-- 课程 -->
          {% include 'TopxiaWebBundle:Search:search-course.html.twig' %}
          <!-- 教师 -->
          {#{% include 'TopxiaWebBundle:Search:search-teacher.html.twig' %}#}
          <!-- 资讯 -->
          {#{% include 'TopxiaWebBundle:Search:search-article.html.twig' %}#}
          <!-- 话题 -->
          {#{% include 'TopxiaWebBundle:Search:search-topic.html.twig' %}#}
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">常用关键词</h3>
        </div>
        <div class="panel-body">
          <a href="javascript:;" class="btn-tag">在线教育</a>
          <a href="javascript:;" class="btn-tag">在线教育</a>
          <a href="javascript:;" class="btn-tag">在线教育</a>
          <a href="javascript:;" class="btn-tag">在线教育</a>
          <a href="javascript:;" class="btn-tag">在线教育</a>
          <a href="javascript:;" class="btn-tag">在线教育</a>
        </div>
      </div>
    </div>
  </div>
  
{#
  <div class="course-filter search-filter" id="course-filter">
    <div class="result-declare">
      共找到<span>{{ count }}</span>门{% if keywords %}<span>“{{ keywords }}”</span>相关{% endif %}课程
    </div>
    <ul class="nav nav-pills hidden-xs" role="tablist">
      <li role="presentation" class="{% if not fliter %}active{% endif %}"><a href="{{ path('search') }}">全部课程</a></li>
      {% if isShowVipSearch  %}
        {% if currentUserVipLevel  %}
          <li role="presentation" class="{% if fliter == 'vip' %}active{% endif %}">
            <a href="{{ path('search',{fliter:'vip'}) }}">会员课程</a>
          </li>
        {% endif %}
      {% endif %}
      <li role="presentation" class="{% if fliter == 'free' %}active{% endif %}">
          <a href="{{ path('search',{fliter:'free'}) }}">免费课程</a>
      </li>
      <li role="presentation" class="{% if fliter == 'live' %}active{% endif %}">
          <a href="{{ path('search',{fliter:'live'}) }}">直播课程</a>
      </li>
    </ul>
    <div class="btn-group visible-xs">
      <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">{{ dict_text('searchCourseType',fliter|default('all')) }} 
      <span class="caret"></span></button>

      <ul class="dropdown-menu" role="menu">
        <li role="presentation" class="{% if not fliter %}active{% endif %}"><a href="{{ path('search') }}">全部课程</a></li>
        {% if isShowVipSearch  %}
            {% if currentUserVipLevel  %}
              <li role="presentation" class="{% if fliter == 'vip' %}active{% endif %}">
                <a href="{{ path('search',{fliter:'vip'}) }}">会员课程</a>
              </li>
          {% endif %}
        {% endif %}
        <li role="presentation" class="{% if fliter == 'free' %}active{% endif %}">
            <a href="{{ path('search',{fliter:'free'}) }}">免费课程</a>
        </li>
        <li role="presentation" class="{% if fliter == 'live' %}active{% endif %}">
            <a href="{{ path('search',{fliter:'live'}) }}">直播课程</a>
        </li>
      </ul>
    </div>

  </div>

    <!-- 课程列表 -->
  <div class="course-list">
      {% if courses %}
        <div class="row">
          {% for course in courses %}
            <div class="col-lg-3 col-md-4 col-sm-6">
              {% include 'TopxiaWebBundle:Course:Widget/course-grid.html.twig' with {course:course}%}
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="empty">没有搜到相关课程，请换个关键词试试！</div>
      {% endif %}

  </div>

  <nav class="text-center">
    {% if courses %}
    {{ web_macro.paginator(paginator) }} 
    {% endif %}
  </nav>

#}
{% endblock %}