{% block side %}
  {% set side_nav = side_nav|default(null) %}
  <div class="sidenav locked">
    <ul class="list-group">
      <li class="list-group-heading">{{ '课程设置'|trans }}</li>
      <li class="list-group-item {% if side_nav == 'base' %}active{% endif %}">
        {% if courseSet.locked %}
          <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'base'}) }}">
            <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '基本信息'|trans }}
          </a>  
        {% else %}
          <a href="{{ path('course_set_manage_base', {id: courseSet.id}) }}">
            <span></span>{{ '基本信息'|trans }}
          </a>
        {% endif %}
      </li>
      <li class="list-group-item {% if side_nav == 'detail' %}active{% endif %}">
        {% if courseSet.locked %}
          <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'detail'}) }}">
            <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '详细信息'|trans }}
          </a>  
        {% else %}
          <a href="{{ path('course_set_manage_detail', {id: courseSet.id}) }}">
            <span></span>{{ '详细信息'|trans }}
          </a>
        {% endif %}
      </li>
      <li class="list-group-item {% if side_nav == 'cover' %}active{% endif %}">
        {% if courseSet.locked %}
          <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'cover'}) }}">
            <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '课程封面'|trans }}
          </a>  
        {% else %}
          <a href="{{ path('course_set_manage_cover', {id: courseSet.id}) }}">
            <span></span>{{ '课程封面'|trans }}
          </a>
        {% endif %}
      </li>
      <li class="list-group-item {% if side_nav == 'question' %}active{% endif %}">
        {% if courseSet.locked %}
          <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'question'}) }}">
            <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '题目管理'|trans }}
          </a>  
        {% else %}
          <a href="{{ path('course_set_manage_question', {id: courseSet.id}) }}">
            <span></span>{{ '题目管理'|trans }}
          </a>
        {% endif %}
      </li>
      <li class="list-group-item {% if side_nav == 'testpaper' %}active{% endif %}">
        {% if courseSet.locked %}
          <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'testpaper'}) }}">
            <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '试卷管理'|trans }}
          </a>  
        {% else %}
          <a href="{{ path('course_set_manage_testpaper', {id: courseSet.id}) }}">
            <span></span>{{ '试卷管理'|trans }}
          </a>
        {% endif %}
      </li>

      <li class="list-group-item {% if side_nav == 'files' %}active{% endif %}">
        {% if courseSet.locked %}
          <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'files'}) }}">
            <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '课程文件'|trans }}
          </a>  
        {% else %}
          <a href="{{ path('course_set_manage_files', {id: courseSet.id}) }}">
            <span></span>{{ '课程文件'|trans }}
          </a>
        {% endif %}
      </li>
    </ul>
    {% if curCourse %}
      <ul class="list-group">
        {% if courseSet.type != 'live' %}
          <li class="list-group-heading mr20">
            {% if courseSet.parentId|default(0) > 0 %}
              {{curCourse.title}}
            {% else %}
              <select id="course-select" class="form-control">
                {% for item in courses %}
                  <option value="{{ path('course_set_manage_course_tasks', {courseSetId: courseSet.id, courseId: item.id}) }}"
                      {% if item.id == curCourse.id %}selected{% endif %}>
                    {{ item.title }}
                  </option>
                {% endfor %}
              </select>
            {% endif %}
          </li>
        {% endif %}
        <li class="list-group-item {% if side_nav == 'tasks' %}active{% endif %}">
          {% if courseSet.locked %}
            <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'tasks'}) }}">
              <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '计划任务'|trans }}
            </a>  
          {% else %}
            <a href="{{ path('course_set_manage_course_tasks', {courseSetId: courseSet.id, courseId: curCourse.id}) }}">
              <span></span>{{ '计划任务'|trans }}
            </a>
          {% endif %}
        </li>
        <li class="list-group-item {% if side_nav == 'info' %}active{% endif %}">
          {% if courseSet.locked %}
            <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'info'}) }}">
              <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '计划设置'|trans }}
            </a>  
          {% else %}
            <a href="{{ path('course_set_manage_course_info', {courseSetId: courseSet.id, courseId: curCourse.id}) }}">
              <span></span>{{ '计划设置'|trans }}
            </a>
          {% endif %}
        </li>

        <li class="list-group-item {% if side_nav == 'replay' %}active{% endif %}">
          <a href="{{ path('course_set_manage_course_replay', {courseSetId: courseSet.id, courseId: curCourse.id}) }}">
            <span></span>{{ '录播管理'|trans }}</a>
        </li>

        <li class="list-group-item {% if side_nav == 'marketing' %}active{% endif %}">
          {% if courseSet.locked %}
            <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'marketing'}) }}">
              <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '营销设置'|trans }}
            </a>  
          {% else %}
            <a href="{{ path('course_set_manage_course_marketing', {courseSetId: courseSet.id, courseId: curCourse.id}) }}">
              <span></span>{{ '营销设置'|trans }}
            </a>
          {% endif %}
        </li>
        <li class="list-group-item {% if side_nav == 'teachers' %}active{% endif %}">
          {% if courseSet.locked %}
            <a href="{{ path('course_set_manage_sync', {id: courseSet.id, sideNav: 'teachers'}) }}">
              <span class="es-icon es-icon-lock" aria-hidden="true"></span>{{ '教师设置'|trans }}
            </a>  
          {% else %}
            <a href="{{ path('course_set_manage_course_teachers', {courseSetId: courseSet.id, courseId: curCourse.id}) }}">
              <span></span>{{ '教师设置'|trans }}
            </a>
          {% endif %}
        </li>
        <li class="list-group-item {% if side_nav == 'students' %}active{% endif %}">
          <a href="{{ path('course_set_manage_course_students', {courseSetId: courseSet.id, courseId: curCourse.id}) }}">
            <span></span>{{ setting('default.user_name')|default('学员'|trans) }}{{ '管理'|trans }}
          </a>
        </li>
        <li class="list-group-item {% if side_nav == 'testpaper-check' %}active{% endif %}">
          <a href="{{ path('course_manage_testpaper_check_list', {id: curCourse.id}) }}"><span></span>{{ '试卷批阅'|trans }}
          </a>
        </li>
        <li class="list-group-item {% if side_nav == 'homework-check' %}active{% endif %}">
          <a href="{{ path('course_manage_homework_check_list', {id: curCourse.id}) }}"><span></span>{{ '作业批改'|trans }}
          </a>
        </li>
        <li class="list-group-item {% if side_nav == 'dashboard' %}active{% endif %}">
          <a href="{{ path('course_set_manage_course_dashboard',{courseSetId: courseSet.id, courseId: curCourse.id}) }}">
            <span></span>{{ '学习数据'|trans }}</a>
        </li>
        {# {% if app.user.isAdmin() or setting('course.teacher_search_order') == 1 %} #}
        <li class="list-group-item {% if side_nav == 'orders' %}active{% endif %}">
          <a href="{{ path('course_set_manage_course_orders', {courseSetId: courseSet.id, courseId: curCourse.id}) }}"><span></span>{{ '订单查询'|trans }}
          </a>
        </li>
        {# {% endif %} #}
      </ul>
    {% endif %}
    {% if courseSet.type != 'live' and courseSet.parentId|default(0) <= 0 %}
      <ul class="list-group">
        <li class="list-group-heading">{{ '教学计划'|trans }}</li>
        <li class="list-group-item {% if side_nav == 'plan' %}active{% endif %}">
          <a href="{{ path('course_set_manage_courses', {courseSetId: courseSet.id}) }}">
            {{ '教学计划管理'|trans }}
          </a>
        </li>
      </ul>
    {% endif %}
  </div>
{% endblock %}