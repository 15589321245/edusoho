webpackJsonp(["app/js/course-manage/marketing/index"],[function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_help=__webpack_require__("4e68e437f5b716377a9d"),Marketing=function(){function Marketing(){_classCallCheck(this,Marketing),this.init()}return _createClass(Marketing,[{key:"init",value:function(){var $form=$("#course-marketing-form");(0,_help.TabChange)();var validator=$form.validate({onkeyup:!1,rules:{price:{required:"#chargeMode:checked",currency:!0},tryLookLength:{required:"#enableTryLook:checked",digits:!0},tryLookLimit:{required:"#enableTryLook:checked",digits:!0}},messages:{price:{required:Translator.trans("请输入价格"),currency:Translator.trans("请输入价格，最多两位小数")},tryLookLength:Translator.trans("请输入试看时长"),tryLookLimit:Translator.trans("请输入视频观看时长限制")}});$.validator.addMethod("currency",function(value,element,params){return this.optional(element)||/^\d{0,8}(\.\d{0,2})?$/.test(value)},Translator.trans("请输入价格，最多两位小数")),$('input[name="isFree"]').on("change",function(event){0==$('input[name="isFree"]:checked').val()?$(".js-is-free").removeClass("hidden"):$(".js-is-free").addClass("hidden")}),$('input[name="tryLookable"]').on("change",function(event){1==$('input[name="tryLookable"]:checked').val()?$(".js-enable-try-look").removeClass("hidden"):$(".js-enable-try-look").addClass("hidden")}),$("#course-submit").click(function(evt){validator.form()&&($(evt.currentTarget).button("loading"),$form.submit())})}}]),Marketing}();new Marketing}]);