webpackJsonp(["app/js/cashier/index"],{"0462758757283f323cc5":function(n,t){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function n(n,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(t,i,a){return i&&n(t.prototype,i),a&&n(t,a),t}}(),e=function(){function n(t,a){i(this,n),this.$container=t,this.cashierFrom=a,this.maxCoinInput=this.$container.data("maxAllowCoin")>this.$container.data("coinBalance")?this.$container.data("coinBalance"):this.$container.data("maxAllowCoin"),this.initEvent()}return a(n,[{key:"validate",value:function(){}},{key:"initEvent",value:function(){var n=this;this.$container.on("blur",".js-coin-amount",function(t){var i=$(t.currentTarget),a=i.val();(isNaN(a)||a<=0)&&(i.val(0),n.hidePasswordInput()),i.val()>n.maxCoinInput&&i.val(n.maxCoinInput),i.val()>0&&(n.showPasswordInput(),n.cashierFrom.calcPayPrice(i.val()))})}},{key:"showPasswordInput",value:function(){this.$container.find('[name="payPassword"]').rules("add",{required:!0,passwordCheck:!0}),this.$container.find(".js-pay-password").closest("div").show()}},{key:"hidePasswordInput",value:function(){this.$container.find('[name="payPassword"]').rules("remove","required passwordCheck"),this.$container.find(".js-pay-password").closest("div").hide()}}]),n}();t.default=e},0:function(n,t,i){"use strict";function a(n){return n&&n.__esModule?n:{default:n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(n,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(t,i,a){return i&&n(t.prototype,i),a&&n(t,a),t}}(),r=i("0462758757283f323cc5"),s=a(r),c=i("b334fd7e4c5a19234db2"),u=(a(c),function(){function n(t){e(this,n),this.$container=t,this.validator=this.$container.validate(),this.initEvent(),this.initCoin()}return o(n,[{key:"initCoin",value:function(){var n=$("#coin-use-section");n.length>0&&(this.coin=new s.default(n,this))}},{key:"calcPayPrice",value:function(n){var t=this;$.post(this.$container.data("priceUrl"),{coinAmount:n},function(n){t.$container.find(".js-pay-price").text(n.data)})}},{key:"initEvent",value:function(){this.$container.on("click",".check",function(){var n=$(this);n.hasClass("active")||n.hasClass("disabled")||(n.addClass("active").siblings().removeClass("active"),$("input[name='payment']").val(n.attr("id")))})}}]),n}());new u($("#cashier-form"))}});