{% extends 'TopxiaAdminBundle:Analysis:layout.html.twig' %}

{% block title %}产品订单统计 - {{ parent() }}{% endblock %}

{% set menu = 'businessState' %}

{% set script_controller = 'analysis/business-state' %}



{% block main %}
	<div class="page-header">   
    <h1>产品订单统计</h1>
  </div>

 <form id="message-search-form" class="form-inline well well-sm" action="" method="get" novalidate>


  <div class="form-group">
   
    <select class="form-control" name="prodType" id="prodType">
        {{ select_options(dict('prodType'), app.request.query.get('prodType'), '产品类型') }}
    </select>
  </div>

  <div class="form-group">   
    <select class="form-control" name="priceType">
        {{ select_options(dict('priceType'), app.request.query.get('priceType'), '是否收费') }}
    </select>
  </div>

  <div class="form-group ">
    <input class="form-control" type="text" placeholder="大于等于日期(yyyy-mm-dd)" name="date1" value="{{ app.request.get('date1') }}">- <input class="form-control " type="text" placeholder="小于等于日期(yyyy-mm-dd)" name="date2" value="{{ app.request.get('date2') }}"></div>


  <div class="form-group">
    <input class="form-control" type="text" placeholder="产品Id" name="prodId" value="{{ app.request.get('prodId') }}"></div>

     <div class="form-group">
    <input class="form-control" type="text" placeholder="产品名称，支持模糊查询" name="prodName" value="{{ app.request.get('prodName') }}"></div>

  <div class="form-group">
    <input class="form-control" type="text" placeholder="日订单数大于" name="orders" value="{{ app.request.get('orders') }}"></div>

  <div class="form-group">
    <input class="form-control" type="text" placeholder="日收费订单数大于" name="feeOrders" value="{{ app.request.get('feeOrders') }}"></div>

  <div class="form-group">
    <input class="form-control" type="text" placeholder="总收费订单数大于" name="totalFeeOrders" value="{{ app.request.get('totalFeeOrders') }}"></div>

   
    <input class="form-control" type="hidden" placeholder="排序字段" id="sort" name="sort" value="{{ app.request.get('sort') }}">
  

  <button class="btn btn-primary">搜索</button>
</form>

  <table class="table table-striped table-hover" id="state-table">
    <thead>
    <tr id="state-table-tr">
      <th width="5%">日期</th>
      <th width="5%">产品类型</th>  
      <th width="2%">产品Id</th>  
      <th width="15%">产品名称</th>
      
      <th data-sort="totalOrders"><a href="#">总订单数</a></th>
      
      <th data-sort="totalFeeOrders"><a href="#">总收费定单数</a></th>
      
      <th data-sort="totalFreeOrders"><a href="#">总免费定单数</a></th>

      <th data-sort="orders"><a href="#">日订单数</a></th>
      <th data-sort="feeOrders"><a href="#">日收费定单数</a></th>
      <th data-sort="freeOrders"><a href="#">日免费定单数</a></th>

      <th data-sort="dayGuest"><a href="#">日访问UV</a></th>
      <th data-sort="dayGuestVisit"><a href="#">日访问Pv</a></th> 

      <th data-sort="dayNewGuest"><a href="#">新游客访问UV</a></th>
      <th data-sort="dayNewGuestVisit"><a href="#">新游客访问Pv</a></th>  

      <th data-sort="dayOldGuest"><a href="#">老游客访问UV</a></th>
      <th data-sort="dayOldGuestVisit"><a href="#">老游客访问Pv</a></th>  

      <th data-sort="dayUser"><a href="#">注册用户访问UV</a></th>
      <th data-sort="dayUserVisit"><a href="#">注册用户访问Pv</a></th>     
      
    
    </tr>
    </thead>
    <tbody>
      {% if sumBusinessState is not empty  %}
        {% include 'TopxiaAdminBundle:Analysis:business-state-sum.html.twig' %}
      {% endif %}

      {% for businessState in businessStates %}      
        {% include 'TopxiaAdminBundle:Analysis:business-state-tr.html.twig' %}
      {% else %}
        <tr><td colspan="6"><div class="empty">无课程记录</div></td></tr>
      {% endfor %}


    </tbody>
  </table>

  {{ web_macro.paginator(paginator) }}
{% endblock %}