define("echo.js/1.7.0/index",[],function(t,e,n){"use strict";var o,r,c,a,l,u=this,d={},i=function(){},f=function(t){return null===t.offsetParent},s=function(t,e){if(f(t))return!1;var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},h=function(){(a||!r)&&(clearTimeout(r),r=setTimeout(function(){d.render(),r=null},c))};d.init=function(t){t=t||{};var e=t.offset||0,n=t.offsetVertical||e,r=t.offsetHorizontal||e,f=function(t,e){return parseInt(t||e,10)};o={t:f(t.offsetTop,n),b:f(t.offsetBottom,n),l:f(t.offsetLeft,r),r:f(t.offsetRight,r)},c=f(t.throttle,250),a=t.debounce!==!1,l=!!t.unload,i=t.callback||i,d.render(),document.addEventListener?(u.addEventListener("scroll",h,!1),u.addEventListener("load",h,!1)):(u.attachEvent("onscroll",h),u.attachEvent("onload",h))},d.render=function(){for(var t,e,n=document.querySelectorAll("img[data-echo], [data-echo-background]"),r=n.length,c={l:0-o.l,t:0-o.t,b:(u.innerHeight||document.documentElement.clientHeight)+o.b,r:(u.innerWidth||document.documentElement.clientWidth)+o.r},a=0;r>a;a++)e=n[a],s(e,c)?(l&&e.setAttribute("data-echo-placeholder",e.src),null!==e.getAttribute("data-echo-background")?e.style.backgroundImage="url("+e.getAttribute("data-echo-background")+")":e.src=e.getAttribute("data-echo"),l||(e.removeAttribute("data-echo"),e.removeAttribute("data-echo-background")),i(e,"load")):l&&(t=e.getAttribute("data-echo-placeholder"))&&(null!==e.getAttribute("data-echo-background")?e.style.backgroundImage="url("+t+")":e.src=t,e.removeAttribute("data-echo-placeholder"),i(e,"unload"));r||d.detach()},d.detach=function(){document.removeEventListener?u.removeEventListener("scroll",h):u.detachEvent("onscroll",h),clearTimeout(r)},n.exports=d});