{"version":3,"sources":["app/Resources/static-src/app/js/activity/video/preview/index.js"],"names":["VideoPlay","container","player","$","length","_playerSwf","_playVideo","swf_dom","embedSWF","data","wmode","allowFullScreen","messenger","name","project","children","type","prepend","html","on","videoplay","play"],"mappings":";;;;AAAA;;;;AACA;;;;;;;;IACMA,S;AACJ,qBAAYC,SAAZ,EAAuB;AAAA;;AACrB,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKD,SAAL,GAAiBA,SAAjB;AACD;;;;2BAEM;AACL,UAAIE,EAAE,aAAF,EAAiBC,MAArB,EAA6B;AAC3B,aAAKC,UAAL;AACD,OAFD,MAEO;AACL,aAAKC,UAAL;AACD;AACF;;;iCAEY;AACX,UAAMC,UAAU,YAAhB;AACA,4BAAUC,QAAV,CAAmBL,EAAE,MAAMI,OAAR,EAAiBE,IAAjB,CAAsB,KAAtB,CAAnB,EACEF,OADF,EACW,MADX,EACmB,MADnB,EAC2B,OAD3B,EACoC,IADpC,EAC0C,IAD1C,EACgD;AAC5CG,eAAO,QADqC;AAE5CC,yBAAiB;AAF2B,OADhD;AAKD;;;iCAEY;AACX,UAAIC,YAAY,wBAAgB;AAC9BC,cAAM,QADwB;AAE9BC,iBAAS,eAFqB;AAG9BC,kBAAU,EAHoB;AAI9BC,cAAM;AAJwB,OAAhB,CAAhB;;AAOA,UAAIb,EAAE,KAAKF,SAAP,EAAkBQ,IAAlB,CAAuB,WAAvB,CAAJ,EAAyC;AACvCN,UAAE,eAAF,EAAmBc,OAAnB,CAA2Bd,EAAE,cAAF,EAAkBe,IAAlB,EAA3B;AACAN,kBAAUO,EAAV,CAAa,OAAb,EAAsB,YAAY;AAChChB,YAAE,sBAAF,EAA0Be,IAA1B,CAA+Bf,EAAE,oBAAF,EAAwBe,IAAxB,EAA/B;AACD,SAFD;AAGD;AAEF;;;;;;AAGH,IAAIE,YAAY,IAAIpB,SAAJ,CAAc,uBAAd,CAAhB;AACAoB,UAAUC,IAAV","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import swfobject from 'es-swfobject';\nimport EsMessenger from '../../../../common/messenger';\nclass VideoPlay {\n  constructor(container) {\n    this.player = {};\n    this.container = container;\n  }\n\n  play() {\n    if ($('#swf-player').length) {\n      this._playerSwf();\n    } else {\n      this._playVideo();\n    }\n  }\n\n  _playerSwf() {\n    const swf_dom = 'swf-player';\n    swfobject.embedSWF($('#' + swf_dom).data('url'),\n      swf_dom, '100%', '100%', \"9.0.0\", null, null, {\n        wmode: 'opaque',\n        allowFullScreen: 'true'\n      });\n  }\n\n  _playVideo() {\n    var messenger = new EsMessenger({\n      name: 'parent',\n      project: 'PlayerProject',\n      children: [],\n      type: 'parent'\n    });\n\n    if ($(this.container).data('timelimit')) {\n      $(\".modal-footer\").prepend($('.js-buy-text').html());\n      messenger.on(\"ended\", function () {\n        $('#task-preview-player').html($('.js-time-limit-dev').html());\n      });\n    }\n\n  }\n\n}\nlet videoplay = new VideoPlay('#lesson-video-content');\nvideoplay.play();"]}