{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/es-bar/es-bar.js","webpack:///./app/Resources/static-src/app/js/es-bar/index.js"],"names":["EsBar","prop","ele","$","init","initEvent","ie10","ie11","edge","css","find","length","tooltip","container","popover","placement","trigger","html","content","data","on","animate","right","removeClass","goTop","$node","onBarBhrink","event","onMenuTop","onBtnAction","e","$this","currentTarget","parents","end","isNotLogin","perfectScrollbar","wheelSpeed","remove","hasClass","siblings","addClass","clickBar","url","get","closest","$loginModal","modal","$gotop","window","scroll","scrollTop","click","esBar"],"mappings":"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","file":"app/js/es-bar/index.js","sourcesContent":["import { Browser, isLogin } from 'common/utils';\n\nclass EsBar {\n  constructor(prop) {\n    this.ele = $(prop.ele);\n    this.init();\n  }\n\n  init() {\n    this.initEvent();\n\n    if (Browser.ie10 || Browser.ie11 || Browser.edge) {\n      this.ele.css( \"margin-right\",'16px');\n    }\n\n    if ( this.ele.find('[data-toggle=\"tooltip\"]').length > 0) {\n      this.ele.find('[data-toggle=\"tooltip\"]').tooltip({container: '.es-bar'});\n    }\n\n    this.ele.find(\".bar-menu-sns li.popover-btn\").popover({\n      placement: 'left',\n      trigger: 'hover',\n      html: true,\n      content: function() {\n        return $($(this).data('contentElement')).html();\n      }\n    });\n\n    $(\"body\").on('click', '.es-wrap', () => {\n      if ($(\".es-bar-main.active\").length) {\n        this.ele.animate({\n          right: '-230px'\n        },300).find(\".bar-menu-top li.active\").removeClass('active');\n      }\n    });\n\n    this.goTop();\n  }\n\n  initEvent() {\n    const $node = this.ele;\n    $node.on('click', '.js-bar-shrink', event => this.onBarBhrink(event));\n    $node.on('click', '.bar-menu-top li', event => this.onMenuTop(event));\n    $node.on('click', '.btn-action >a', event => this.onBtnAction(event));\n  }\n\n  onBarBhrink(e) {\n    const $this = $(e.currentTarget);\n    $this.parents(\".es-bar-main.active\").removeClass('active').end().parents(\".es-bar\").animate({\n        right: '-230px'\n    },300);\n    $(\".bar-menu-top li.active\").removeClass('active');\n  }\n\n  onMenuTop(e) {\n    const $this = $(e.currentTarget);\n\n    // 判断是否登录\n    if(!isLogin){\n      this.isNotLogin();\n      return;\n    }\n\n    this.ele.find(\".bar-main-body\").perfectScrollbar({wheelSpeed:50});\n\n    if($this.find(\".dot\")) {\n      $this.find(\".dot\").remove();  \n    }\n\n    if(!$this.hasClass('active')) {\n      $this.siblings(\".active\").removeClass('active').end().addClass('active').parents(\".es-bar\").animate({\n        right: '0'\n      },300);\n      this.clickBar($this);\n      $($this.data('id')).siblings(\".es-bar-main.active\").removeClass('active').end().addClass('active');\n    }else {\n      $this.removeClass('active').parents(\".es-bar\").animate({\n        right: '-230px'\n      },300);\n    }\n  }\n\n  onBtnAction(e) {\n    const $this = $(e.currentTarget);\n    const url = $this.data('url');\n\n    $.get(url,function(html){\n        $this.closest('.es-bar-main').html(html);\n        $(\".es-bar .bar-main-body\").perfectScrollbar({wheelSpeed:50});\n    })\n  }\n\n  clickBar($this) {\n    if(typeof($this.find('a').data('url')) != 'undefined' ) {\n      const url = $this.find('a').data('url');\n\n      $.get(url,function(html){\n        $($this.data('id')).html(html);\n        $(\".es-bar .bar-main-body\").perfectScrollbar({wheelSpeed:50});\n      })\n    }\n  }\n\n  isNotLogin() {\n    const $loginModal = $(\"#login-modal\");\n\n    $loginModal.modal('show');\n    $.get($loginModal.data('url'), function(html){\n        $loginModal.html(html);\n    });\n  }\n\n  goTop() {\n    const $gotop = $(\".go-top\");\n\n    $(window).scroll(function(event) {\n      const scrollTop = $(window).scrollTop();\n\n      if(scrollTop>=300) {\n        $gotop.addClass('show');\n\n      }else if($gotop.hasClass('show')) {\n        $gotop.removeClass('show');\n      }\n    });\n    $gotop.click(function() {\n      return $(\"body,html\").animate({\n        scrollTop: 0\n      }, 300), !1\n    });\n  }\n}\n\nexport default EsBar;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/es-bar/es-bar.js","import EsBar from './es-bar';\n\nlet esBar = new EsBar({\n  ele: '.es-bar'\n})\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/es-bar/index.js"],"sourceRoot":""}