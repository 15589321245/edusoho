{"version":3,"sources":["app/Resources/static-src/app/js/courseset/show/index.js"],"names":["orderLearnSwiper","initTaskLearnChart","triggerMemberExpired","$","length","easyPieChart","easing","trackColor","barColor","scaleColor","lineWidth","size","onStep","from","to","percent","css","Math","round","el","addClass","find","html","bg","trigger"],"mappings":";;AAAA;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAIA,mBAAmB,IAAvB;;AAEA;AACAC;AACAC;;AAEA,IAAIC,EAAE,qBAAF,EAAyBC,MAAzB,GAAkC,CAAtC,EAAyC;AACrC,oCAAsBD,EAAE,qBAAF,CAAtB;AACH;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASF,kBAAT,GAA8B;AAC1BE,MAAE,eAAF,EAAmBE,YAAnB,CAAgC;AAC5BC,gBAAQ,eADoB;AAE5BC,oBAAY,SAFgB;AAG5BC,kBAAU,SAHkB;AAI5BC,oBAAY,KAJgB;AAK5BC,mBAAW,EALiB;AAM5BC,cAAM,GANsB;AAO5BC,gBAAQ,gBAASC,IAAT,EAAeC,EAAf,EAAmBC,OAAnB,EAA4B;AAChCZ,cAAE,QAAF,EAAYa,GAAZ,CAAgB,QAAhB,EAAyB,OAAzB;AACAb,cAAE,QAAF,EAAYa,GAAZ,CAAgB,OAAhB,EAAwB,OAAxB;AACA,gBAAIC,KAAKC,KAAL,CAAWH,OAAX,KAAuB,GAA3B,EAAgC;AAC5BZ,kBAAE,KAAKgB,EAAP,EAAWC,QAAX,CAAoB,MAApB;AACH;AACDjB,cAAE,KAAKgB,EAAP,EAAWE,IAAX,CAAgB,UAAhB,EAA4BC,IAA5B,CAAiC,SAAS,wBAAT,GAAoCL,KAAKC,KAAL,CAAWH,OAAX,CAApC,GAA0D,UAA3F;AACH;AAd2B,KAAhC;;AAiBAZ,MAAE,qBAAF,EAAyBE,YAAzB,CAAsC;AAClCC,gBAAQ,eAD0B;AAElCC,oBAAY,SAFsB;AAGlCC,kBAAU,SAHwB;AAIlCC,oBAAY,KAJsB;AAKlCC,mBAAW,EALuB;AAMlCC,cAAM;AAN4B,KAAtC;;AASA,QAAIY,KAAKpB,EAAE,qBAAF,EAAyBC,MAAzB,GAAkC,CAAlC,GAAsC,aAAtC,GAAsD,SAA/D;;AAEAD,MAAE,gBAAF,EAAoBE,YAApB,CAAiC;AAC7BC,gBAAQ,eADqB;AAE7BC,oBAAYgB,EAFiB;AAG7Bf,kBAAU,SAHmB;AAI7BC,oBAAY,KAJiB;AAK7BC,mBAAW,EALkB;AAM7BC,cAAM,GANuB;AAO7BC,gBAAQ,gBAASC,IAAT,EAAeC,EAAf,EAAmBC,OAAnB,EAA4B;AAChC,gBAAIE,KAAKC,KAAL,CAAWH,OAAX,KAAuB,GAA3B,EAAgC;AAC5BZ,kBAAE,KAAKgB,EAAP,EAAWC,QAAX,CAAoB,MAApB;AACH;AACDjB,cAAE,KAAKgB,EAAP,EAAWE,IAAX,CAAgB,UAAhB,EAA4BC,IAA5B,CAAiC,SAAS,wBAAT,GAAoCL,KAAKC,KAAL,CAAWH,OAAX,CAApC,GAA0D,UAA3F;AACH;AAZ4B,KAAjC;AAcH;;AAED,SAASb,oBAAT,GAAgC;AAC5B,QAAIC,EAAE,gBAAF,EAAoBC,MAAxB,EAAgC;AAC5BD,UAAE,kBAAF,EAAsBqB,OAAtB,CAA8B,OAA9B;AACH;AACJ;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import { chapterAnimate } from 'app/common/widget/chapter-animate';\nimport AttachmentActions from 'app/js/attachment/widget/attachment-actions';\nimport { Browser } from 'common/utils';\nimport Swiper from 'swiper';\n\nlet orderLearnSwiper = null;\n\nchapterAnimate();\ninitTaskLearnChart();\ntriggerMemberExpired();\n\nif ($('.js-attachment-list').length > 0) {\n    new AttachmentActions($('.js-attachment-list'));\n}\n\n// 暂时去掉块状\n// $('.js-task-show-type').on('click', 'a', function() {\n//     let $this = $(this).addClass('active');\n//     $($this.data('list')).removeClass('hidden');\n//     $($this.siblings('a').removeClass('active').data('list')).addClass('hidden');\n//     if($this.data('type') == 'chart'&& !orderLearnSwiper) {\n//       initSwiper();\n//     }\n// })\n\nfunction initTaskLearnChart() {\n    $('#freeprogress').easyPieChart({\n        easing: 'easeOutBounce',\n        trackColor: '#ebebeb',\n        barColor: '#46c37b',\n        scaleColor: false,\n        lineWidth: 14,\n        size: 145,\n        onStep: function(from, to, percent) {\n            $('canvas').css('height','146px');\n            $('canvas').css('width','146px');\n            if (Math.round(percent) == 100) {\n                $(this.el).addClass('done');\n            }\n            $(this.el).find('.percent').html('学习进度' + '<br><span class=\"num\">' + Math.round(percent) + '%</span>');\n        }\n    });\n\n    $('#orderprogress-plan').easyPieChart({\n        easing: 'easeOutBounce',\n        trackColor: '#ebebeb',\n        barColor: '#fd890c',\n        scaleColor: false,\n        lineWidth: 14,\n        size: 145,\n    });\n\n    let bg = $('#orderprogress-plan').length > 0 ? 'transparent' : '#ebebeb';\n\n    $('#orderprogress').easyPieChart({\n        easing: 'easeOutBounce',\n        trackColor: bg,\n        barColor: '#46c37b',\n        scaleColor: false,\n        lineWidth: 14,\n        size: 145,\n        onStep: function(from, to, percent) {\n            if (Math.round(percent) == 100) {\n                $(this.el).addClass('done');\n            }\n            $(this.el).find('.percent').html('学习进度' + '<br><span class=\"num\">' + Math.round(percent) + '%</span>');\n        }\n    });\n}\n\nfunction triggerMemberExpired() {\n    if ($('.member-expire').length) {\n        $(\".member-expire a\").trigger('click');\n    }\n}\n\n// function initSwiper() {\n//   orderLearnSwiper = new Swiper('.swiper-container',{\n//     pagination: '.swiper-pager',\n//     loop:true,\n//     grabCursor: true,\n//     paginationClickable: true\n//   })\n//   $('.arrow-left').on('click', function(e){\n//     e.preventDefault()\n//     orderLearnSwiper.swipePrev();\n//   })\n//   $('.arrow-right').on('click', function(e){\n//     e.preventDefault()\n//     orderLearnSwiper.swipeNext();\n//   })\n// }\n\n"]}