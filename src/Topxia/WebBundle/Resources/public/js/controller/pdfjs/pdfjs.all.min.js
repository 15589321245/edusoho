"use strict";function getFileName(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)}function getFileUrl(){return DEFAULT_URL}function setFileName(e){DEFAULT_URL=e}function getOutputScale(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return{sx:r,sy:r,scaled:1!==r}}function scrollIntoView(e,t){var n=e.offsetParent,r=e.offsetTop+e.clientTop,i=e.offsetLeft+e.clientLeft;if(!n)return console.error("offsetParent is not set -- cannot scroll"),void 0;for(;n.clientHeight===n.scrollHeight;)if(n.dataset._scaleY&&(r/=n.dataset._scaleY,i/=n.dataset._scaleX),r+=n.offsetTop,i+=n.offsetLeft,n=n.offsetParent,!n)return;t&&(void 0!==t.top&&(r+=t.top),void 0!==t.left&&(i+=t.left,n.scrollLeft=i)),n.scrollTop=r}function watchScroll(e,t){var n=function(){i||(i=window.requestAnimationFrame(function(){var n,s;i=null,n=e.scrollTop,s=r.lastY,n>s?r.down=!0:s>n&&(r.down=!1),r.lastY=n,t(r)}))},r={down:!0,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r}function getVisibleElements(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d=e.scrollTop,v=d+e.clientHeight,m=e.scrollLeft,g=m+e.clientWidth,y=[];for(l=0,c=t.length;c>l;++l)if(r=t[l],i=r.el.offsetTop+r.el.clientTop,s=r.el.clientHeight,!(d>i+s)){if(i>v)break;a=r.el.offsetLeft+r.el.clientLeft,f=r.el.clientWidth,m>a+f||a>g||(o=Math.max(0,d-i)+Math.max(0,i+s-v),u=0|100*(s-o)/s,y.push({id:r.id,x:a,y:i,view:r,percent:u}))}return h=y[0],p=y[y.length-1],n&&y.sort(function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}),{first:h,last:p,views:y}}function noContextMenuHandler(e){e.preventDefault()}function getPDFFileNameFromURL(e){var t=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(e),i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],-1!==i.indexOf("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(s){}return i||"document.pdf"}function isAllWhitespace(e){return!NonWhitespaceRegexp.test(e)}function webViewerLoad(){PDFViewerApplication.initialize().then(webViewerInitialized)}function webViewerInitialized(){var e,t,n,r,i,s,o,u,a,f=document.location.search.substring(1),l=PDFViewerApplication.parseQueryString(f),c="file"in l?l.file:DEFAULT_URL,h=document.createElement("input");if(h.id="fileInput",h.className="fileInput",h.setAttribute("type","file"),h.oncontextmenu=noContextMenuHandler,document.body.appendChild(h),window.File&&window.FileReader&&window.FileList&&window.Blob&&(document.getElementById("fileInput").value=null),e=PDFJS.locale||navigator.language,PDFViewerApplication.preferencePdfBugEnabled){if(t=document.location.hash.substring(1),n=PDFViewerApplication.parseQueryString(t),"disableworker"in n&&(PDFJS.disableWorker="true"===n["disableworker"]),"disablerange"in n&&(PDFJS.disableRange="true"===n["disablerange"]),"disablestream"in n&&(PDFJS.disableStream="true"===n["disablestream"]),"disableautofetch"in n&&(PDFJS.disableAutoFetch="true"===n["disableautofetch"]),"disablefontface"in n&&(PDFJS.disableFontFace="true"===n["disablefontface"]),"disablehistory"in n&&(PDFJS.disableHistory="true"===n["disablehistory"]),"webgl"in n&&(PDFJS.disableWebGL="true"!==n["webgl"]),"useonlycsszoom"in n&&(PDFJS.useOnlyCssZoom="true"===n["useonlycsszoom"]),"verbosity"in n&&(PDFJS.verbosity=0|n["verbosity"]),"ignorecurrentpositiononzoom"in n&&(IGNORE_CURRENT_POSITION_ON_ZOOM="true"===n["ignorecurrentpositiononzoom"]),"locale"in n&&(e=n["locale"]),"textlayer"in n)switch(n["textlayer"]){case"off":PDFJS.disableTextLayer=!0;break;case"visible":case"shadow":case"hover":r=document.getElementById("viewer"),r.classList.add("textLayer-"+n["textlayer"])}"pdfbug"in n&&(PDFJS.pdfBug=!0,i=n["pdfbug"],s=i.split(","),PDFBug.enable(s),PDFBug.init())}if(mozL10n.setLanguage(e),!PDFViewerApplication.supportsPrinting,PDFViewerApplication.supportsFullscreen||(document.getElementById("presentationMode").classList.add("hidden"),document.getElementById("secondaryPresentationMode").classList.add("hidden")),PDFViewerApplication.supportsIntegratedFind&&document.getElementById("viewFind").classList.add("hidden"),PDFJS.UnsupportedManager.listen(PDFViewerApplication.fallback.bind(PDFViewerApplication)),document.getElementById("scaleSelect").oncontextmenu=noContextMenuHandler,o=document.getElementById("mainContainer"),u=document.getElementById("outerContainer"),o.addEventListener("transitionend",function(e){if(e.target===o){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!1,!1,window,0),window.dispatchEvent(t),u.classList.remove("sidebarMoving")}},!0),document.getElementById("sidebarToggle").addEventListener("click",function(){this.classList.toggle("toggled"),u.classList.add("sidebarMoving"),u.classList.toggle("sidebarOpen"),PDFViewerApplication.sidebarOpen=u.classList.contains("sidebarOpen"),PDFViewerApplication.forceRendering()}),document.getElementById("viewThumbnail").addEventListener("click",function(){PDFViewerApplication.switchSidebarView("thumbs")}),document.getElementById("viewOutline").addEventListener("click",function(){PDFViewerApplication.switchSidebarView("outline")}),document.getElementById("viewAttachments").addEventListener("click",function(){PDFViewerApplication.switchSidebarView("attachments")}),document.getElementById("previous").addEventListener("click",function(){PDFViewerApplication.page--}),document.getElementById("next").addEventListener("click",function(){PDFViewerApplication.page++}),document.getElementById("zoomIn").addEventListener("click",function(){PDFViewerApplication.zoomIn()}),document.getElementById("zoomOut").addEventListener("click",function(){PDFViewerApplication.zoomOut()}),document.getElementById("pageNumber").addEventListener("click",function(){this.select()}),document.getElementById("pageNumber").addEventListener("change",function(){PDFViewerApplication.page=0|this.value,this.value!==(0|this.value).toString()&&(this.value=PDFViewerApplication.page)}),document.getElementById("scaleSelect").addEventListener("change",function(){PDFViewerApplication.setScale(this.value,!1)}),document.getElementById("presentationMode").addEventListener("click",SecondaryToolbar.presentationModeClick.bind(SecondaryToolbar)),c&&0===c.lastIndexOf("file:",0)){PDFViewerApplication.setTitleUsingUrl(c),a=new XMLHttpRequest,a.onload=function(){PDFViewerApplication.open(new Uint8Array(a.response),0)};try{a.open("GET",c),a.responseType="arraybuffer",a.send()}catch(p){PDFViewerApplication.error(mozL10n.get("loading_error",null,"An error occurred while loading the PDF."),p)}}else c&&PDFViewerApplication.open(c,0)}function updateViewarea(){PDFViewerApplication.initialized&&PDFViewerApplication.pdfViewer.update()}function selectScaleOption(e){var t,n,r=document.getElementById("scaleSelect").options,i=!1;for(t=0;t<r.length;t++)n=r[t],n.value===e?(n.selected=!0,i=!0):n.selected=!1;return i}function handleMouseWheel(e){var t=40,n="DOMMouseScroll"===e.type?-e.detail:e.wheelDelta/t,r=0>n?"zoomOut":"zoomIn";PresentationMode.active?(e.preventDefault(),PDFViewerApplication.mouseScroll(n*t)):e.ctrlKey&&(e.preventDefault(),PDFViewerApplication[r](Math.abs(n)))}document.webL10n=function(e,t){function n(){return t.querySelectorAll('link[type="application/l10n"]')}function r(){var e=t.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}function i(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}function s(e){var t,n,r;if(!e)return{};if(t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={},n)try{r=JSON.parse(n)}catch(i){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}function o(e){var n=t.createEvent("Event");n.initEvent("localized",!0,!1),n.language=e,t.dispatchEvent(n)}function u(e,t,n,r){t=t||function(){},n=n||function(){console.warn(e+" not found.")};var i=new XMLHttpRequest;i.open("GET",e,r),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?t(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(s){n()}}function a(e,t,n,r){function i(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"  ").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function s(e){function n(e,n){var u,p,d,v=e.replace(a,"").split(/[\r\n]+/),m="*",g=t.replace(/-[a-z]+$/i,""),y=!1,b="";for(u=0;u<v.length;u++)if(p=v[u],!f.test(p)){if(n){if(l.test(p)){b=l.exec(p),m=b[1],y="*"!==m&&m!==t&&m!==g;continue}if(y)continue;c.test(p)&&(b=c.exec(p),r(o+b[1]))}d=p.match(h),d&&3==d.length&&(s[d[1]]=i(d[2]))}}function r(e){u(e,function(e){n(e,!1)},null,!1)}var s=[],a=/^\s*|\s*$/,f=/^\s*#|^\s*$/,l=/^\s*\[(.*)\]\s*$/,c=/^\s*@import\s+url\((.*)\)\s*$/i,h=/^([^=\s]*)\s*=\s*(.+)$/;return n(e,!0),s}var o=e.replace(/[^\/]*$/,"")||"./";u(e,function(e){var t,r,i,o,u;b+=e,t=s(e);for(r in t)u=r.lastIndexOf("."),u>0?(i=r.substring(0,u),o=r.substr(u+1)):(i=r,o=w),y[i]||(y[i]={}),y[i][o]=t[r];n&&n()},r,T)}function f(e,t){function i(e){var t=e.href;e.type,this.load=function(e,n){var r=e;return a(t,e,n,function(){console.warn(t+" not found."),r=""}),r}}var s,u,f,c,h,p,d,v;if(t=t||function(){},l(),E=e,s=n(),u=s.length,0===u)return f=r(),f&&f.locales&&f.default_locale?(console.log("using the embedded JSON directory, early way out"),y=f.locales[e]||f.locales[f.default_locale],t()):console.log("no resource to load, early way out"),o(e),x="complete",void 0;for(c=null,h=0,c=function(){h++,h>=u&&(t(),o(e),x="complete")},p=0;u>p;p++)d=new i(s[p]),v=d.load(e,c),v!=e&&(console.warn('"'+e+'" resource not found'),E="")}function l(){y={},b="",E=""}function c(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return e>=t&&n>=e}var r={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3},i={0:function(){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&0===e%10?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":1==e%10&&11!=e%100?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":1!=e%10||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":0===e%10||n(e%10,5,9)||n(e%100,11,14)?"many":1==e%10&&11!=e%100?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":2==e%100?"two":1==e%100?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return 1==e%10&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&9!=e%10||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?0===e%1e6&&0!==e?"many":2!=e%10||t(e%100,[12,72,92])?1!=e%10||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||0===e%20?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},s=r[e.replace(/-.*$/,"")];return s in i?i[s]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}function h(e,t,n){var r,i,s,o=y[e];if(!o){if(console.warn("#"+e+" is undefined."),!n)return null;o=n}r={};for(i in o)s=o[i],s=p(s,t,e,i),s=d(s,t,e),r[i]=s;return r}function p(e,t,n,r){var i,s,o,u,a=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,f=a.exec(e);return f&&f.length?(i=f[1],s=f[2],t&&s in t?o=t[s]:s in y&&(o=y[s]),i in S&&(u=S[i],e=u(e,o,n,r)),e):e}function d(e,t,n){for(var r,i,s=/\{\{\s*(.+?)\s*\}\}/,o=s.exec(e);o;){if(!o||o.length<2)return e;if(r=o[1],i="",t&&r in t)i=t[r];else{if(!(r in y))return console.log("argument {{"+r+"}} for #"+n+" is undefined."),e;i=y[r][w]}e=e.substring(0,o.index)+i+e.substr(o.index+o[0].length),o=s.exec(e)}return e}function v(e){var n,r,i,o,u,a,f,l=s(e);if(l.id){if(n=h(l.id,l.args),!n)return console.warn("#"+l.id+" is undefined."),void 0;if(n[w]){if(0===m(e))e[w]=n[w];else{for(r=e.childNodes,i=!1,o=0,u=r.length;u>o;o++)3===r[o].nodeType&&/\S/.test(r[o].nodeValue)&&(i?r[o].nodeValue="":(r[o].nodeValue=n[w],i=!0));i||(a=t.createTextNode(n[w]),e.insertBefore(a,e.firstChild))}delete n[w]}for(f in n)e[f]=n[f]}}function m(e){var t,n;if(e.children)return e.children.length;if("undefined"!=typeof e.childElementCount)return e.childElementCount;for(t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}function g(e){var n,r,s;for(e=e||t.documentElement,n=i(e),r=n.length,s=0;r>s;s++)v(n[s]);v(e)}var y={},b="",w="textContent",E="",S={},x="loading",T=!0;return S.plural=function(e,t,n,r){var i,s=parseFloat(t);return isNaN(s)?e:r!=w?e:(S._pluralRules||(S._pluralRules=c(E)),i="["+S._pluralRules(s)+"]",0===s&&n+"[zero]"in y?e=y[n+"[zero]"][r]:1==s&&n+"[one]"in y?e=y[n+"[one]"][r]:2==s&&n+"[two]"in y?e=y[n+"[two]"][r]:n+i in y?e=y[n+i][r]:n+"[other]"in y&&(e=y[n+"[other]"][r]),e)},{get:function(e,t,n){var r,i,s=e.lastIndexOf("."),o=w;return s>0&&(o=e.substr(s+1),e=e.substring(0,s)),n&&(r={},r[o]=n),i=h(e,t,r),i&&o in i?i[o]:"{{"+e+"}}"},getData:function(){return y},getText:function(){return b},getLanguage:function(){return E},setLanguage:function(e){f(e,g)},getDirection:function(){var e=["ar","he","fa","ps","ur"],t=E.split("-")[0];return e.indexOf(t)>=0?"rtl":"ltr"},translate:g,getReadyState:function(){return x},ready:function(n){n&&("complete"==x||"interactive"==x?e.setTimeout(n):t.addEventListener?t.addEventListener("localized",n):t.attachEvent&&t.documentElement.attachEvent("onpropertychange",function(e){"localized"===e.propertyName&&n()}))}}}(window,document);"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),PDFJS.version="1.0.1",PDFJS.build="fatal: Not a git repository (or any of the parent directories): .git",function(){"use strict";function e(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function t(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}function n(e){if(arguments.length>1){var t=["Error:"];t.push.apply(t,arguments),console.log.apply(console,t),e=[].join.call(arguments," ")}else console.log("Error: "+e);throw console.log(r()),T.notify(x.unknown),new Error(e)}function r(){try{throw new Error}catch(e){return e.stack?e.stack.split("\n").slice(2).join("\n"):""}}function i(e,t){e||n(t)}function s(e,t){var n,r,i;return t?/^[a-z][a-z0-9+\-.]*:/i.test(t)?t:"/"===t.charAt(0)?(n=e.indexOf("://"),"/"===t.charAt(1)?++n:n=e.indexOf("/",n+3),e.substring(0,n)+t):(r=e.length,n=e.lastIndexOf("#"),r=n>=0?n:r,n=e.lastIndexOf("?",r),r=n>=0?n:r,i=e.lastIndexOf("/",r),e.substring(0,i+1)+t):e}function o(e,t){if(!e)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!n)return t;switch(n=n[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":return!0;default:return!1}}function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function a(e){var t,n,r,i,s=e.length,o=8192;if(o>s)return String.fromCharCode.apply(null,e);for(t=[],n=0;s>n;n+=o)r=Math.min(n+o,s),i=e.subarray(n,r),t.push(String.fromCharCode.apply(null,i));return t.join("")}function f(e){return String.fromCharCode(255&e>>24,255&e>>16,255&e>>8,255&e)}function l(){var e,t=new Uint8Array(2);return t[0]=1,e=new Uint16Array(t.buffer),1===e[0]}function c(){var e,t,n=document.createElement("canvas");return n.width=n.height=1,e=n.getContext("2d"),t=e.createImageData(1,1),"undefined"!=typeof t.data.buffer}function h(e){return"number"==typeof e}function p(e){return e instanceof Array}function d(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength}function v(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}function m(e,t){var r,i;this.name=e,this.comObj=t,this.callbackIndex=1,this.postMessageTransfers=!0,r=this.callbacksCapabilities={},i=this.actionHandler={},i["console_log"]=[function(e){console.log.apply(console,e)}],i["console_error"]=[function(e){console.error.apply(console,e)}],i["_unsupported_feature"]=[function(e){T.notify(e)}],t.onmessage=function(e){var s,o,u,a=e.data;a.isReply?(s=a.callbackId,a.callbackId in r?(o=r[s],delete r[s],"error"in a?o.reject(a.error):o.resolve(a.data)):n("Cannot resolve callback "+s)):a.action in i?(u=i[a.action],a.callbackId?Promise.resolve().then(function(){return u[0].call(u[1],a.data)}).then(function(e){t.postMessage({isReply:!0,callbackId:a.callbackId,data:e})},function(e){t.postMessage({isReply:!0,callbackId:a.callbackId,error:e})}):u[0].call(u[1],a.data)):n("Unknown action from worker: "+a.action)}}function g(e,n,r){var i=new Image;i.onload=function(){r.resolve(e,i)},i.onerror=function(){r.resolve(e,null),t("Error during JPEG image loading")},i.src=n}function y(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}function b(e){e.mozCurrentTransform||(e._scaleX=e._scaleX||1,e._scaleY=e._scaleY||1,e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=[e._scaleX,0,0,e._scaleY,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],u=t*i-n*r,a=n*r-t*i;return[i/u,n/a,r/a,t/u,(i*s-r*o)/a,(n*s-t*o)/u]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,i,s,o){var u=this._transformMatrix;this._transformMatrix=[u[0]*t+u[2]*n,u[1]*t+u[3]*n,u[0]*r+u[2]*i,u[1]*r+u[3]*i,u[0]*s+u[2]*o+u[4],u[1]*s+u[3]*o+u[5]],e._originalTransform(t,n,r,i,s,o)},e.setTransform=function(t,n,r,i,s,o){this._transformMatrix=[t,n,r,i,s,o],e._originalSetTransform(t,n,r,i,s,o)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}function w(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b=1e3,w=e.width,E=e.height,S=w+1,x=new Uint8Array(S*(E+1)),T=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=-8&w+7,C=e.data,k=new Uint8Array(N*E),L=0;for(t=0,i=C.length;i>t;t++)for(s=128,o=C[t];s>0;)k[L++]=o&s?0:255,s>>=1;for(u=0,L=0,0!==k[L]&&(x[0]=1,++u),n=1;w>n;n++)k[L]!==k[L+1]&&(x[n]=k[L]?2:1,++u),L++;for(0!==k[L]&&(x[n]=2,++u),t=1;E>t;t++){for(L=t*N,r=t*S,k[L-N]!==k[L]&&(x[r]=k[L]?1:8,++u),a=(k[L]?4:0)+(k[L-N]?8:0),n=1;w>n;n++)a=(a>>2)+(k[L+1]?4:0)+(k[L-N+1]?8:0),T[a]&&(x[r+n]=T[a],++u),L++;if(k[L-N]!==k[L]&&(x[r+n]=k[L]?2:4,++u),u>b)return null}for(L=N*(E-1),r=t*S,0!==k[L]&&(x[r]=8,++u),n=1;w>n;n++)k[L]!==k[L+1]&&(x[r+n]=k[L]?4:8,++u),L++;if(0!==k[L]&&(x[r+n]=4,++u),u>b)return null;for(f=new Int32Array([0,S,-1,0,-S,0,0,0,1]),l=[],t=0;u&&E>=t;t++){for(c=t*S,h=c+w;h>c&&!x[c];)c++;if(c!==h){p=[c%S,t],v=x[c],m=c;do{g=f[v];do c+=g;while(!x[c]);d=x[c],5!==d&&10!==d?(v=d,x[c]=0):(v=d&51*v>>4,x[c]&=v>>2|v<<2),p.push(c%S),p.push(0|c/S),--u}while(m!==c);l.push(p),--t}}return y=function(e){var t,n,r,i,s;for(e.save(),e.scale(1/w,-1/E),e.translate(0,-E),e.beginPath(),t=0,n=l.length;n>t;t++)for(r=l[t],e.moveTo(r[0],r[1]),i=2,s=r.length;s>i;i+=2)e.lineTo(r[i],r[i+1]);e.fill(),e.beginPath(),e.restore()}}function E(e){var t=K[e[0]];return t||n("Unknown IR type: "+e[0]),t.fromIR(e)}var S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut="undefined"==typeof window?this:window,at="undefined"==typeof window,ft=[.001,0,0,.001,0,0],lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ct={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ht={WIDGET:1,TEXT:2,LINK:3};ut.PDFJS||(ut.PDFJS={}),ut.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5},S=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},x=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},T=PDFJS.UnsupportedManager=function(){var e=[];return{listen:function(t){e.push(t)},notify:function(n){t('Unsupported feature "'+n+'"');for(var r=0,i=e.length;i>r;r++)e[r](n)}}}(),PDFJS.isValidUrl=o,N=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},C=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}(),PDFJS.PasswordException=C,k=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}(),PDFJS.UnknownErrorException=k,L=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),PDFJS.InvalidPDFException=L,A=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}(),PDFJS.MissingPDFException=A,O=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}(),PDFJS.UnexpectedResponseException=O,function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}(),function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}(),Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function(){return u(PDFJS,"isLittleEndian",l())}}),Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:!0,get:function(){return u(PDFJS,"hasCanvasTypedArrays",c())}}),M=function(){function e(e,t){this.buffer=e,this.byteLength=e.length,this.length=void 0===t?this.byteLength>>2:t,n(this.length)}function t(e){return{get:function(){var t=this.buffer,n=e<<2;return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0},set:function(t){var n=this.buffer,r=e<<2;n[r]=255&t,n[r+1]=255&t>>8,n[r+2]=255&t>>16,n[r+3]=255&t>>>24}}}function n(n){for(;n>r;)Object.defineProperty(e.prototype,r,t(r)),r++}e.prototype=Object.create(null);var r=0;return e}(),_=[1,0,0,1,0,0],D=PDFJS.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,n,r){return t[1]=e,t[3]=n,t[5]=r,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){var n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]},e.applyInverseTransform=function(e,t){var n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,i]},e.getAxialAlignedBoundingBox=function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),s=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],o=(n+s)/2,u=Math.sqrt((n+s)*(n+s)-4*(n*s-i*r))/2,a=o+u||1,f=o-u||1;return[Math.sqrt(a),Math.sqrt(f)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),s=[t[1],t[3],n[1],n[3]].sort(r),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0]?(o[0]=i[1],o[2]=i[2],s[0]===t[1]&&s[1]===n[1]||s[0]===n[1]&&s[1]===t[1]?(o[1]=s[1],o[3]=s[2],o):!1):!1},e.sign=function(e){return 0>e?-1:1},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var n in t)e[n]=t[n]},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);)e=e.get("Parent");return e?e.get(t):null},e.inherit=function(e,t,n){e.prototype=Object.create(t.prototype),e.prototype.constructor=e;for(var r in n)e.prototype[r]=n[r]},e.loadScript=function(e,t){var n=document.createElement("script"),r=!1;n.setAttribute("src",e),t&&(n.onload=function(){r||t(),r=!0}),document.getElementsByTagName("head")[0].appendChild(n)},e}(),PDFJS.PageViewport=function(){function e(e,t,n,r,i,s){var o,u,a,f,l,c,h,p,d,v;switch(this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=i,o=(e[2]+e[0])/2,u=(e[3]+e[1])/2,n%=360,n=0>n?n+360:n){case 180:a=-1,f=0,l=0,c=1;break;case 90:a=0,f=1,l=1,c=0;break;case 270:a=0,f=-1,l=-1,c=0;break;default:a=1,f=0,l=0,c=-1}s&&(l=-l,c=-c),0===a?(h=Math.abs(u-e[1])*t+r,p=Math.abs(o-e[0])*t+i,d=Math.abs(e[3]-e[1])*t,v=Math.abs(e[2]-e[0])*t):(h=Math.abs(o-e[0])*t+r,p=Math.abs(u-e[1])*t+i,d=Math.abs(e[2]-e[0])*t,v=Math.abs(e[3]-e[1])*t),this.transform=[a*t,f*t,l*t,c*t,h-a*t*o-l*t*u,p-f*t*o-c*t*u],this.width=d,this.height=v,this.fontScale=t}return e.prototype={clone:function(t){var n,r;return t=t||{},n="scale"in t?t.scale:this.scale,r="rotation"in t?t.rotation:this.rotation,new e(this.viewBox.slice(),n,r,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return D.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=D.applyTransform([e[0],e[1]],this.transform),n=D.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]},convertToPdfPoint:function(e,t){return D.applyInverseTransform([e,t],this.transform)}},e}(),PDFJS.createPromiseCapability=v,function(){function e(e){this._status=n,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(t){this._reject(t)}}var n,r,i,s,o;return ut.Promise?("function"!=typeof ut.Promise.all&&(ut.Promise.all=function(e){var t,n,r=0,i=[],s=new ut.Promise(function(e,r){t=e,n=r});return e.forEach(function(e,s){r++,e.then(function(e){i[s]=e,r--,0===r&&t(i)},n)}),0===r&&t(i),s}),"function"!=typeof ut.Promise.resolve&&(ut.Promise.resolve=function(e){return new ut.Promise(function(t){t(e)})}),"function"!=typeof ut.Promise.reject&&(ut.Promise.reject=function(e){return new ut.Promise(function(t,n){n(e)})}),"function"!=typeof ut.Promise.prototype.catch&&(ut.Promise.prototype.catch=function(e){return ut.Promise.prototype.then(void 0,e)}),void 0):(n=0,r=1,i=2,s=500,o={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){e._status!==n&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e,t,n,s=1,o=Date.now()+s;this.handlers.length>0;){e=this.handlers.shift(),t=e.thisPromise._status,n=e.thisPromise._value;try{t===r?"function"==typeof e.onResolve&&(n=e.onResolve(n)):"function"==typeof e.onReject&&(n=e.onReject(n),t=r,e.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(e.thisPromise))}catch(u){t=i,n=u}if(e.nextPromise._updateStatus(t,n),Date.now()>=o)break}return this.handlers.length>0?(setTimeout(this.runHandlers.bind(this),0),void 0):(this.running=!1,void 0)},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){var e,n,r,i;for(this.pendingRejectionCheck=!1,e=Date.now(),n=0;n<this.unhandledRejections.length;n++)e-this.unhandledRejections[n].time>s&&(r=this.unhandledRejections[n].promise._value,i="Unhandled rejection: "+r,r.stack&&(i+="\n"+r.stack),t(i),this.unhandledRejections.splice(n),n--);this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),s))}},e.all=function(t){function n(e){l._status!==i&&(h=[],s(e))}var r,s,o,u,a,f,l=new e(function(e,t){r=e,s=t}),c=t.length,h=[];if(0===c)return r(h),l;for(o=0,u=t.length;u>o;++o)a=t[o],f=function(e){return function(t){l._status!==i&&(h[e]=t,c--,0===c&&r(h))}}(o),e.isPromise(a)?a.then(f,n):f(a);return l},e.isPromise=function(e){return e&&"function"==typeof e.then},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(t,n){if(this._status!==r&&this._status!==i){if(t===r&&e.isPromise(n))return n.then(this._updateStatus.bind(this,r),this._updateStatus.bind(this,i)),void 0;this._status=t,this._value=n,t===i&&0===this._handlers.length&&(this._unhandledRejection=!0,o.addUnhandledRejection(this)),o.scheduleHandlers(this)}},_resolve:function(e){this._updateStatus(r,e)},_reject:function(e){this._updateStatus(i,e)},then:function(t,n){var r=new e(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:t,onReject:n,nextPromise:r}),o.scheduleHandlers(this),r},"catch":function(e){return this.then(void 0,e)}},ut.Promise=e,void 0)}(),P=function(){function e(e,t,n){for(;e.length<n;)e+=t;return e}function n(){this.started={},this.times=[],this.enabled=!0}return n.prototype={time:function(e){this.enabled&&(e in this.started&&t("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||t("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,n,r,i,s,o=this.times,u="",a=0;for(t=0,n=o.length;n>t;++t)r=o[t]["name"],r.length>a&&(a=r.length);for(t=0,n=o.length;n>t;++t)i=o[t],s=i.end-i.start,u+=e(i["name"]," ",a)+" "+s+"ms\n";return u}},n}(),PDFJS.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var n=new MozBlobBuilder;return n.append(e),n.getBlob(t)},PDFJS.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,n){var r,i,s,o,u,a,f,l,c,h,p;if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL)return r=PDFJS.createBlob(t,n),URL.createObjectURL(r);for(i="data:"+n+";base64,",s=0,o=t.length;o>s;s+=3)u=255&t[s],a=255&t[s+1],f=255&t[s+2],l=u>>2,c=(3&u)<<4|a>>4,h=o>s+1?(15&a)<<2|f>>6:64,p=o>s+2?63&f:64,i+=e[l]+e[c]+e[h]+e[p];return i}}(),m.prototype={on:function(e,t,r){var i=this.actionHandler;i[e]&&n('There is already an actionName called "'+e+'"'),i[e]=[t,r]},send:function(e,t,n){var r={action:e,data:t};this.postMessage(r,n)},sendWithPromise:function(e,t,n){var r=this.callbackIndex++,i={action:e,data:t,callbackId:r},s=v();this.callbacksCapabilities[r]=s;try{this.postMessage(i,n)}catch(o){s.reject(o)}return s.promise},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize,PDFJS.cMapUrl=void 0===PDFJS.cMapUrl?null:PDFJS.cMapUrl,PDFJS.cMapPacked=void 0===PDFJS.cMapPacked?!1:PDFJS.cMapPacked,PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace,PDFJS.imageResourcesPath=void 0===PDFJS.imageResourcesPath?"":PDFJS.imageResourcesPath,PDFJS.disableWorker=void 0===PDFJS.disableWorker?!1:PDFJS.disableWorker,PDFJS.workerSrc=void 0===PDFJS.workerSrc?null:PDFJS.workerSrc,PDFJS.disableRange=void 0===PDFJS.disableRange?!1:PDFJS.disableRange,PDFJS.disableStream=void 0===PDFJS.disableStream?!1:PDFJS.disableStream,PDFJS.disableAutoFetch=void 0===PDFJS.disableAutoFetch?!1:PDFJS.disableAutoFetch,PDFJS.pdfBug=void 0===PDFJS.pdfBug?!1:PDFJS.pdfBug,PDFJS.postMessageTransfers=void 0===PDFJS.postMessageTransfers?!0:PDFJS.postMessageTransfers,PDFJS.disableCreateObjectURL=void 0===PDFJS.disableCreateObjectURL?!1:PDFJS.disableCreateObjectURL,PDFJS.disableWebGL=void 0===PDFJS.disableWebGL?!0:PDFJS.disableWebGL,PDFJS.useOnlyCssZoom=void 0===PDFJS.useOnlyCssZoom?!1:PDFJS.useOnlyCssZoom,PDFJS.verbosity=void 0===PDFJS.verbosity?PDFJS.VERBOSITY_LEVELS.warnings:PDFJS.verbosity,PDFJS.maxCanvasPixels=void 0===PDFJS.maxCanvasPixels?16777216:PDFJS.maxCanvasPixels,PDFJS.getDocument=function(e,t,r,i){var o,u,a,f,l;"string"==typeof e?e={url:e}:d(e)?e={data:e}:"object"!=typeof e&&n("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),e.url||e.data||n("Invalid parameter array, need either .data or .url"),f={};for(l in e)f[l]="url"!==l||"undefined"==typeof window?e[l]:s(window.location.href,e[l]);return o=v(),u=v(),a=new j(o,u,t,i),o.promise.then(function(){a.passwordCallback=r,a.fetchDocument(f)}),u.promise},H=function(){function e(e,t){this.pdfInfo=e,this.transport=t}return e.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(e){return this.transport.getDestination(e)},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}},e}(),B=function(){function e(e,t,n){this.pageIndex=e,this.pageInfo=t,this.transport=n,this.stats=new P,this.stats.enabled=!!ut.PDFJS.enableStats,this.commonObjs=n.commonObjs,this.objs=new F,this.cleanupAfterRender=!1,this.pendingDestroy=!1,this.intentStates={}}return e.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(e,t){return arguments.length<2&&(t=this.rotate),new PDFJS.PageViewport(this.view,e,t,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var e=this.transport.getAnnotations(this.pageIndex);return this.annotationsPromise=e,e},render:function(e){function t(e){var t=r.renderTasks.indexOf(i);t>=0&&r.renderTasks.splice(t,1),o.cleanupAfterRender&&(o.pendingDestroy=!0),o._tryDestroy(),e?i.capability.reject(e):i.capability.resolve(),u.timeEnd("Rendering"),u.timeEnd("Overall")}var n,r,i,s,o,u=this.stats;return u.time("Overall"),this.pendingDestroy=!1,n="print"===e.intent?"print":"display",this.intentStates[n]||(this.intentStates[n]={}),r=this.intentStates[n],r.displayReadyCapability||(r.receivingOperatorList=!0,r.displayReadyCapability=v(),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:n})),i=new q(t,e,this.objs,this.commonObjs,r.operatorList,this.pageNumber),r.renderTasks||(r.renderTasks=[]),r.renderTasks.push(i),s=new I(i),o=this,r.displayReadyCapability.promise.then(function(e){return o.pendingDestroy?(t(),void 0):(u.time("Rendering"),i.initalizeGraphics(e),i.operatorListChanged(),void 0)},function(e){t(e)}),s},getOperatorList:function(){function e(){t.operatorList.lastChunk&&t.opListReadCapability.resolve(t.operatorList)}var t,n,r="oplist";return this.intentStates[r]||(this.intentStates[r]={}),t=this.intentStates[r],t.opListReadCapability||(n={},n.operatorListChanged=e,t.receivingOperatorList=!0,t.opListReadCapability=v(),t.renderTasks=[],t.renderTasks.push(n),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:r})),t.opListReadCapability.promise},getTextContent:function(){return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1})},destroy:function(){this.pendingDestroy=!0,this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&!Object.keys(this.intentStates).some(function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingDestroy=!1)},_startRenderPage:function(e,t){var n=this.intentStates[t];n.displayReadyCapability&&n.displayReadyCapability.resolve(e)},_renderPageChunk:function(e,t){var n,r,i=this.intentStates[t];for(n=0,r=e.length;r>n;n++)i.operatorList.fnArray.push(e.fnArray[n]),i.operatorList.argsArray.push(e.argsArray[n]);for(i.operatorList.lastChunk=e.lastChunk,n=0;n<i.renderTasks.length;n++)i.renderTasks[n].operatorListChanged();e.lastChunk&&(i.receivingOperatorList=!1,this._tryDestroy())}},e}(),j=function(){function r(t,r,i,s){var o,u,a,f;if(this.pdfDataRangeTransport=i,this.workerInitializedCapability=t,this.workerReadyCapability=r,this.progressCallback=s,this.commonObjs=new F,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=v(),this.passwordCallback=null,!ut.PDFJS.disableWorker&&"undefined"!=typeof Worker){o=PDFJS.workerSrc,o||n("No PDFJS.workerSrc specified");try{u=new Worker(o),a=new m("main",u),this.messageHandler=a,a.on("test",function(e){var n=e&&e.supportTypedArray;n?(this.worker=u,e.supportTransfers||(PDFJS.postMessageTransfers=!1),this.setupMessageHandler(a),t.resolve()):this.setupFakeWorker()}.bind(this)),f=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{a.send("test",f,[f.buffer])}catch(l){e("Cannot use postMessage transfers"),f[0]=0,a.send("test",f)}return}catch(c){e("The worker has been disabled.")}}this.setupFakeWorker()}return r.prototype={destroy:function(){this.pageCache=[],this.pagePromises=[];var e=this;this.messageHandler.sendWithPromise("Terminate",null).then(function(){Y.clear(),e.worker&&e.worker.terminate()})},setupFakeWorker:function(){ut.PDFJS.disableWorker=!0,PDFJS.fakeWorkerFilesLoadedCapability||(PDFJS.fakeWorkerFilesLoadedCapability=v(),D.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedCapability.resolve()})),PDFJS.fakeWorkerFilesLoadedCapability.promise.then(function(){var e,n;t("Setting up fake worker."),e={postMessage:function(t){e.onmessage({data:t})},terminate:function(){}},n=new m("main",e),this.setupMessageHandler(n),PDFJS.WorkerMessageHandler.setup(n),this.workerInitializedCapability.resolve()}.bind(this))},setupMessageHandler:function(e){function r(t){e.send("UpdatePassword",t)}this.messageHandler=e;var i=this.pdfDataRangeTransport;i&&(i.addRangeListener(function(t,n){e.send("OnDataRange",{begin:t,chunk:n})}),i.addProgressListener(function(t){e.send("OnDataProgress",{loaded:t})}),i.addProgressiveReadListener(function(t){e.send("OnDataRange",{chunk:t})}),e.on("RequestDataRange",function(e){i.requestDataRange(e.begin,e.end)},this)),e.on("GetDoc",function(e){var t,n=e.pdfInfo;this.numPages=e.pdfInfo.numPages,t=new H(n,this),this.pdfDocument=t,this.workerReadyCapability.resolve(t)},this),e.on("NeedPassword",function(e){return this.passwordCallback?this.passwordCallback(r,N.NEED_PASSWORD):(this.workerReadyCapability.reject(new C(e.message,e.code)),void 0)},this),e.on("IncorrectPassword",function(e){return this.passwordCallback?this.passwordCallback(r,N.INCORRECT_PASSWORD):(this.workerReadyCapability.reject(new C(e.message,e.code)),void 0)},this),e.on("InvalidPDF",function(e){this.workerReadyCapability.reject(new L(e.message))},this),e.on("MissingPDF",function(e){this.workerReadyCapability.reject(new A(e.message))},this),e.on("UnexpectedResponse",function(e){this.workerReadyCapability.reject(new O(e.message,e.status))},this),e.on("UnknownError",function(e){this.workerReadyCapability.reject(new k(e.message,e.details))},this),e.on("DataLoaded",function(e){this.downloadInfoCapability.resolve(e)},this),e.on("PDFManagerReady",function(){this.pdfDataRangeTransport&&this.pdfDataRangeTransport.transportReady()},this),e.on("StartRenderPage",function(e){var t=this.pageCache[e.pageIndex];t.stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)},this),e.on("RenderPageChunk",function(e){var t=this.pageCache[e.pageIndex];t._renderPageChunk(e.operatorList,e.intent)},this),e.on("commonobj",function(e){var n,r,i,s=e[0],o=e[1];if(!this.commonObjs.hasData(s))switch(o){case"Font":if(n=e[2],"error"in n){i=n.error,t("Error during font loading: "+i),this.commonObjs.resolve(s,i);break}r=new Z(n),Y.bind([r],function(){this.commonObjs.resolve(s,r)}.bind(this));break;case"FontPath":this.commonObjs.resolve(s,e[2]);break;default:i("Got unknown common object type "+o)}},this),e.on("obj",function(e){var t,r,i=e[0],s=e[1],o=e[2],u=this.pageCache[s];if(!u.objs.hasData(i))switch(o){case"JpegStream":t=e[3],g(i,t,u.objs);break;case"Image":t=e[3],u.objs.resolve(i,t),r=8e6,t&&"data"in t&&t.data.length>r&&(u.cleanupAfterRender=!0);break;default:n("Got unknown object type "+o)}},this),e.on("DocProgress",function(e){this.progressCallback&&this.progressCallback({loaded:e.loaded,total:e.total})},this),e.on("PageError",function(e){var t=this.pageCache[e.pageNum-1],r=t.intentStates[e.intent];r.displayReadyCapability?r.displayReadyCapability.reject(e.error):n(e.error)},this),e.on("JpegDecode",function(e){var t=e[0],n=e[1];return 3!==n&&1!==n?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(e,r){var i=new Image;i.onload=function(){var t,r,s,o=i.width,u=i.height,a=o*u,f=4*a,l=new Uint8Array(a*n),c=y(o,u),h=c.getContext("2d");if(h.drawImage(i,0,0),t=h.getImageData(0,0,o,u).data,3===n)for(r=0,s=0;f>r;r+=4,s+=3)l[s]=t[r],l[s+1]=t[r+1],l[s+2]=t[r+2];else if(1===n)for(r=0,s=0;f>r;r+=4,s++)l[s]=t[r];e({data:l,width:o,height:u})},i.onerror=function(){r(new Error("JpegDecode failed to load image"))},i.src=t})})},fetchDocument:function(e){e.disableAutoFetch=PDFJS.disableAutoFetch,e.disableStream=PDFJS.disableStream,e.chunkedViewerLoading=!!this.pdfDataRangeTransport,this.messageHandler.send("GetDocRequest",{source:e,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,cMapUrl:PDFJS.cMapUrl,cMapPacked:PDFJS.cMapPacked,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(e){var t,n;return 0>=e||e>this.numPages||(0|e)!==e?Promise.reject(new Error("Invalid page request")):(t=e-1,t in this.pagePromises?this.pagePromises[t]:(n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(function(e){var n=new B(t,e,this);return this.pageCache[t]=n,n}.bind(this)),this.pagePromises[t]=n,n))},getPageIndex:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e})},getAnnotations:function(e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(e){return this.messageHandler.sendWithPromise("GetDestination",{id:e})},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new PDFJS.Metadata(e[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){var e,t,n;for(e=0,t=this.pageCache.length;t>e;e++)n=this.pageCache[e],n&&n.destroy();this.commonObjs.clear(),Y.clear()}.bind(this))}},r}(),F=function(){function e(){this.objs={}}return e.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={capability:v(),data:null,resolved:!1};return this.objs[e]=t,t},get:function(e,t){if(t)return this.ensureObj(e).capability.promise.then(t),null;var r=this.objs[e];return r&&r.resolved||n("Requesting object that isn't resolved yet "+e),r.data},resolve:function(e,t){var n=this.ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)},isResolved:function(e){var t=this.objs;return t[e]?t[e].resolved:!1},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs={}}},e}(),I=function(){function e(e){this.internalRenderTask=e,this.promise=this.internalRenderTask.capability.promise}return e.prototype={cancel:function(){this.internalRenderTask.cancel()},then:function(e,t){return this.promise.then(e,t)}},e}(),q=function(){function e(e,t,n,r,i,s){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.operatorListIdx=null,this.operatorList=i,this.pageNumber=s,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.cancelled=!1,this.capability=v(),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this)}return e.prototype={initalizeGraphics:function(e){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in ut&&ut.StepperManager.enabled&&(this.stepper=ut.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var t=this.params;this.gfx=new $(t.canvasContext,this.commonObjs,this.objs,t.imageLayer),this.gfx.beginDrawing(t.viewport,e),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue(),void 0):(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound),void 0)},_continue:function(){this.running=!0,this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){window.requestAnimationFrame(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},e}(),PDFJS.Metadata=function(){function e(e){return e.replace(/>\\376\\377([^<]+)/g,function(e,t){var n,r,i=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,n,r){return String.fromCharCode(64*t+8*n+1*r)}),s="";for(n=0;n<i.length;n+=2)r=256*i.charCodeAt(n)+i.charCodeAt(n+1),s+="&#x"+(65536+r).toString(16).substring(1)+";";return">"+s})}function t(t){if("string"==typeof t){t=e(t);var r=new DOMParser;t=r.parseFromString(t,"application/xml")}else t instanceof Document||n("Metadata: Invalid metadata object");this.metaDocument=t,this.metadata={},this.parse()}return t.prototype={parse:function(){var e,t,n,r,i,s,o,u,a,f=this.metaDocument,l=f.documentElement;if("rdf:rdf"!==l.nodeName.toLowerCase())for(l=l.firstChild;l&&"rdf:rdf"!==l.nodeName.toLowerCase();)l=l.nextSibling;if(e=l?l.nodeName.toLowerCase():null,l&&"rdf:rdf"===e&&l.hasChildNodes())for(a=l.childNodes,i=0,o=a.length;o>i;i++)if(t=a[i],"rdf:description"===t.nodeName.toLowerCase())for(s=0,u=t.childNodes.length;u>s;s++)"#text"!==t.childNodes[s].nodeName.toLowerCase()&&(n=t.childNodes[s],r=n.nodeName.toLowerCase(),this.metadata[r]=n.textContent.trim())},get:function(e){return this.metadata[e]||null},has:function(e){return"undefined"!=typeof this.metadata[e]}},t}(),R=16,U=100,z=4096,W=!0,X=function(){var e={};return{getCanvas:function(t,n,r,i){var s,o,u;return t in e?(s=e[t],s.canvas.width=n,s.canvas.height=r,s.context.setTransform(1,0,0,1,0,0)):(o=y(n,r),u=o.getContext("2d"),i&&b(u),e[t]=s={canvas:o,context:u}),s},clear:function(){var t,n;for(t in e)n=e[t],n.canvas.width=0,n.canvas.height=0,delete e[t]}}}(),V=function(){function e(e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_,this.textMatrixScale=1,this.fontMatrix=ft,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=lt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.old=e}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),$=function(){function r(e,t,n,r){this.ctx=e,this.current=new V,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.imageLayer=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,e&&b(e)}function s(e,t){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O;if("undefined"!=typeof ImageData&&t instanceof ImageData)return e.putImageData(t,0,0),void 0;if(r=t.height,i=t.width,s=16,o=r/s,u=Math.floor(o),a=Math.ceil(o),f=r-u*s,l=e.createImageData(i,s),h=0,p=t.data,d=l.data,t.kind===ct.GRAYSCALE_1BPP)for(b=p.byteLength,w=PDFJS.hasCanvasTypedArrays?new Uint32Array(d.buffer):new M(d),E=w.length,S=i+7>>3,x=4294967295,T=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255,v=0;a>v;v++){for(g=u>v?s:f,c=0,m=0;g>m;m++){for(N=b-h,C=0,k=N>S?i:8*N-7,L=-8&k,A=0,O=0;L>C;C+=8)O=p[h++],w[c++]=128&O?x:T,w[c++]=64&O?x:T,w[c++]=32&O?x:T,w[c++]=16&O?x:T,w[c++]=8&O?x:T,w[c++]=4&O?x:T,w[c++]=2&O?x:T,w[c++]=1&O?x:T;for(;k>C;C++)0===A&&(O=p[h++],A=128),w[c++]=O&A?x:T,A>>=1}for(;E>c;)w[c++]=0;e.putImageData(l,0,v*s)}else if(t.kind===ct.RGBA_32BPP){for(m=0,y=4*i*s,v=0;u>v;v++)d.set(p.subarray(h,h+y)),h+=y,e.putImageData(l,0,m),m+=s;a>v&&(y=4*i*f,d.set(p.subarray(h,h+y)),e.putImageData(l,0,m))}else if(t.kind===ct.RGB_24BPP)for(g=s,y=i*g,v=0;a>v;v++){for(v>=u&&(g=f,y=i*g),c=0,m=y;m--;)d[c++]=p[h++],d[c++]=p[h++],d[c++]=p[h++],d[c++]=255;e.putImageData(l,0,v*s)}else n("bad image kind: "+t.kind)}function o(e,t){var n,r,i,s,o,u,a,f=t.height,l=t.width,c=16,h=f/c,p=Math.floor(h),d=Math.ceil(h),v=f-p*c,m=e.createImageData(l,c),g=0,y=t.data,b=m.data;for(n=0;d>n;n++){for(r=p>n?c:v,i=3,s=0;r>s;s++)for(o=0,u=0;l>u;u++)o||(a=y[g++],o=128),b[i]=a&o?0:255,i+=4,o>>=1;e.putImageData(m,0,n*c)}}function a(e,t){var n,r,i,s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(n=0,r=s.length;r>n;n++)i=s[n],i in e&&(t[i]=e[i]);"setLineDash"in e?(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset):"mozDash"in e&&(t.mozDash=e.mozDash,t.mozDashOffset=e.mozDashOffset)}function f(e,t,n,r){var i,s,o,u=e.length;for(i=3;u>i;i+=4)s=e[i],0===s?(e[i-3]=t,e[i-2]=n,e[i-1]=r):255>s&&(o=255-s,e[i-3]=e[i-3]*s+t*o>>8,e[i-2]=e[i-2]*s+n*o>>8,e[i-1]=e[i-1]*s+r*o>>8)}function l(e,t){var n,r,i=e.length,s=1/255;for(n=3;i>n;n+=4)r=e[n],t[n]=0|t[n]*r*s}function c(e,t){var n,r,i=e.length;for(n=3;i>n;n+=4)r=77*e[n-3]+152*e[n-2]+28*e[n-1],t[n]=t[n]*r>>16}function d(e,t,n,r,i,s){var o,u,a,h,p,d,v,m=!!s,g=m?s[0]:0,y=m?s[1]:0,b=m?s[2]:0;for(o="Luminosity"===i?c:l,u=1048576,a=Math.min(r,Math.ceil(u/n)),h=0;r>h;h+=a)p=Math.min(a,r-h),d=e.getImageData(0,h,n,p),v=t.getImageData(0,h,n,p),m&&f(d.data,g,y,b),o(d.data,v.data),e.putImageData(v,0,h)}function v(e,t,n){var r,i,s=t.canvas,o=t.context;return e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY),r=t.backdrop||null,J.isEnabled?(i=J.composeSMask(n.canvas,s,{subtype:t.subtype,backdrop:r}),e.setTransform(1,0,0,1,0,0),e.drawImage(i,t.offsetX,t.offsetY),void 0):(d(o,n,s.width,s.height,t.subtype,r),e.drawImage(s,0,0),void 0)}var m,g=15,y=10,x=["butt","round","square"],T=["miter","round","bevel"],N={},C={};r.prototype={beginDrawing:function(e,t){var n,r=this.ctx.canvas.width,i=this.ctx.canvas.height;t?this.ctx.clearRect(0,0,r,i):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,r,i),this.ctx.restore()),n=e.transform,this.ctx.save(),this.ctx.transform.apply(this.ctx,n),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m=e.argsArray,b=e.fnArray,w=t||0,E=m.length;if(E===w)return w;for(i=E-w>y&&"function"==typeof n,s=i?Date.now()+g:0,o=0,u=this.commonObjs,a=this.objs;;){if(void 0!==r&&w===r.nextBreakPoint)return r.breakIt(w,n),w;if(f=b[w],f!==S.dependency)this[f].apply(this,m[w]);else for(l=m[w],c=0,h=l.length;h>c;c++)if(p=l[c],d="g"===p[0]&&"_"===p[1],v=d?u:a,!v.isResolved(p))return v.get(p,n),w;if(w++,w===E)return w;if(i&&++o>y){if(Date.now()>s)return n(),w;o=0}}},endDrawing:function(){this.ctx.restore(),X.clear(),J.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=x[e]},setLineJoin:function(e){this.ctx.lineJoin=T[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;"setLineDash"in n?(n.setLineDash(e),n.lineDashOffset=t):(n.mozDash=e,n.mozDashOffset=t)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(e){var n,r,i,s,o,u;for(n=0,r=e.length;r>n;n++)switch(i=e[n],s=i[0],o=i[1],s){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":o&&o.name&&"Normal"!==o.name?(u=o.name.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}).substring(1),this.ctx.globalCompositeOperation=u,this.ctx.globalCompositeOperation!==u&&t('globalCompositeOperation "'+u+'" is not supported')):this.ctx.globalCompositeOperation="source-over";break;case"SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}},beginSMaskGroup:function(){var e,t=this.current.activeSMask,n=t.canvas.width,r=t.canvas.height,i="smaskGroupAt"+this.groupLevel,s=X.getCanvas(i,n,r,!0),o=this.ctx,u=o.mozCurrentTransform;this.ctx.save(),e=s.context,e.scale(1/t.scaleX,1/t.scaleY),e.translate(-t.offsetX,-t.offsetY),e.transform.apply(e,u),a(o,e),this.ctx=e,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),v(this.ctx,this.current.activeSMask,e),this.ctx.restore()},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.activeSMask=null},restore:function(){0!==this.stateStack.length&&(null!==this.current.activeSMask&&this.endSMaskGroup(),this.current=this.stateStack.pop(),this.ctx.restore())},transform:function(e,t,n,r,i,s){this.ctx.transform(e,t,n,r,i,s)},constructPath:function(e,t){var n,r,i,s,o,u,a,f=this.ctx,l=this.current,c=l.x,h=l.y;for(n=0,r=0,i=e.length;i>n;n++)switch(0|e[n]){case S.rectangle:c=t[r++],h=t[r++],s=t[r++],o=t[r++],0===s&&(s=this.getSinglePixelWidth()),0===o&&(o=this.getSinglePixelWidth()),u=c+s,a=h+o,this.ctx.moveTo(c,h),this.ctx.lineTo(u,h),this.ctx.lineTo(u,a),this.ctx.lineTo(c,a),this.ctx.lineTo(c,h),this.ctx.closePath();break;case S.moveTo:c=t[r++],h=t[r++],f.moveTo(c,h);break;case S.lineTo:c=t[r++],h=t[r++],f.lineTo(c,h);break;case S.curveTo:c=t[r+4],h=t[r+5],f.bezierCurveTo(t[r],t[r+1],t[r+2],t[r+3],c,h),r+=6;break;case S.curveTo2:f.bezierCurveTo(c,h,t[r],t[r+1],t[r+2],t[r+3]),c=t[r+2],h=t[r+3],r+=4;break;case S.curveTo3:c=t[r+2],h=t[r+3],f.bezierCurveTo(t[r],t[r+1],c,h,c,h),r+=4;break;case S.closePath:f.closePath()}l.setCurrentPoint(c,h)},closePath:function(){this.ctx.closePath()},stroke:function(e){var t,n;e="undefined"!=typeof e?e:!0,t=this.ctx,n=this.current.strokeColor,0===this.current.lineWidth&&(t.lineWidth=this.getSinglePixelWidth()),t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(t.save(),t.strokeStyle=n.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){var t,n,r;if(e="undefined"!=typeof e?e:!0,t=this.ctx,n=this.current.fillColor,r=!1,n&&n.hasOwnProperty("type")&&"Pattern"===n.type&&(t.save(),t.fillStyle=n.getPattern(t,this),r=!0),this.pendingEOFill){if(void 0!==t.mozFillRule)t.mozFillRule="evenodd",t.fill(),t.mozFillRule="nonzero";else try{t.fill("evenodd")}catch(i){t.fill()}this.pendingEOFill=!1}else t.fill();r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=N},eoClip:function(){this.pendingClip=C},beginText:function(){this.current.textMatrix=_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e,t,n=this.pendingTextPaths,r=this.ctx;if(void 0===n)return r.beginPath(),void 0;for(r.save(),r.beginPath(),e=0;e<n.length;e++)t=n[e],r.setTransform.apply(r,t.transform),r.translate(t.x,t.y),t.addToPath(r,t.fontSize);r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,r){var i,s,o,u,a,f,l=this.commonObjs.get(e),c=this.current;l||n("Can't find font for "+e),c.fontMatrix=l.fontMatrix?l.fontMatrix:ft,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&t("Invalid font matrix for font "+e),0>r?(r=-r,c.fontDirection=-1):c.fontDirection=1,this.current.font=l,this.current.fontSize=r,l.isType3Font||(i=l.loadedName||"sans-serif",s=l.black?l.bold?"bolder":"bold":l.bold?"bold":"normal",o=l.italic?"italic":"normal",u='"'+i+'", '+l.fallbackName,a=R>r?R:r>U?U:r,this.current.fontSizeScale=r/a,f=o+" "+s+" "+a+"px "+u,this.ctx.font=f)},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,i,s){this.current.textMatrix=[e,t,n,r,i,s],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n){var r,i,s=this.ctx,o=this.current,u=o.font,a=o.textRenderingMode,f=o.fontSize/o.fontSizeScale,l=a&lt.FILL_STROKE_MASK,c=!!(a&lt.ADD_TO_PATH_FLAG);(u.disableFontFace||c)&&(r=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace?(s.save(),s.translate(t,n),s.beginPath(),r(s,f),(l===lt.FILL||l===lt.FILL_STROKE)&&s.fill(),(l===lt.STROKE||l===lt.FILL_STROKE)&&s.stroke(),s.restore()):((l===lt.FILL||l===lt.FILL_STROKE)&&s.fillText(e,t,n),(l===lt.STROKE||l===lt.FILL_STROKE)&&s.strokeText(e,t,n)),c&&(i=this.pendingTextPaths||(this.pendingTextPaths=[]),i.push({transform:s.mozCurrentTransform,x:t,y:n,fontSize:f,addToPath:r}))},get isFontSubpixelAAEnabled(){var e,t,n,r=document.createElement("canvas").getContext("2d");for(r.scale(1.5,1),r.fillText("I",0,10),e=r.getImageData(0,0,10,10).data,t=!1,n=3;n<e.length;n+=4)if(e[n]>0&&e[n]<255){t=!0;break}return u(this,"isFontSubpixelAAEnabled",t)},showText:function(e){var t,n,r,i,s,o,u,a,f,l,c,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=this.current,P=D.font;if(P.isType3Font)return this.showType3Text(e);if(t=D.fontSize,0!==t){for(n=this.ctx,r=D.fontSizeScale,i=D.charSpacing,s=D.wordSpacing,o=D.fontDirection,u=D.textHScale*o,a=e.length,f=P.vertical,l=P.defaultVMetrics,c=t*D.fontMatrix[0],p=D.textRenderingMode===lt.FILL&&!P.disableFontFace,n.save(),n.transform.apply(n,D.textMatrix),n.translate(D.x,D.y+D.textRise),o>0?n.scale(u,-1):n.scale(u,1),d=D.lineWidth,v=D.textMatrixScale,0===v||0===d?d=this.getSinglePixelWidth():d/=v,1!==r&&(n.scale(r,r),d/=r),n.lineWidth=d,g=0,m=0;a>m;++m)y=e[m],null!==y?h(y)?g+=.001*-y*t:(b=!1,w=y.fontChar,E=y.accent,C=y.width,f?(k=y.vmetric||l,L=y.vmetric?k[1]:.5*C,L=-L*c,A=k[2]*c,C=k?-k[0]:C,S=L/r,x=(g+A)/r):(S=g/r,x=0),P.remeasure&&C>0&&this.isFontSubpixelAAEnabled&&(O=1e3*n.measureText(w).width/t*r,M=C/O,b=!0,n.save(),n.scale(M,1),S/=M),p&&!E?n.fillText(w,S,x):(this.paintChar(w,S,x),E&&(T=S+E.offset.x/r,N=x-E.offset.y/r,this.paintChar(E.fontChar,T,N))),_=C*c+i*o,g+=_,b&&n.restore()):g+=o*s;f?D.y-=g*u:D.x+=g*u,n.restore()}},showType3Text:function(e){var n,r,i,s,o,u,a=this.ctx,f=this.current,l=f.font,c=f.fontSize,p=f.fontDirection,d=f.charSpacing,v=f.wordSpacing,m=f.textHScale*p,g=f.fontMatrix||ft,y=e.length,b=f.textRenderingMode===lt.INVISIBLE;if(!b&&0!==c){for(a.save(),a.transform.apply(a,f.textMatrix),a.translate(f.x,f.y),a.scale(m,p),n=0;y>n;++n)r=e[n],null!==r?h(r)?(s=.001*-r*c,this.ctx.translate(s,0),f.x+=s*m):(o=l.charProcOperatorList[r.operatorListId],o?(this.processingType3=r,this.save(),a.scale(c,c),a.transform.apply(a,g),this.executeOperatorList(o),this.restore(),u=D.applyTransform([r.width,0],g),i=u[0]*c+d,a.translate(i,0),f.x+=i*m):t('Type3 character "'+r.operatorListId+'" is not available')):(this.ctx.translate(v,0),f.x+=v*m);a.restore(),this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(e,t,n,r,i,s){this.ctx.rect(n,r,i-n,s-r),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t,n;return"TilingPattern"===e[0]?(n=e[1],t=new G(e,n,this.ctx,this.objs,this.commonObjs,this.baseTransform)):t=E(e),t},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments)},setStrokeRGBColor:function(e,t,n){var r=D.makeCssRgb(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillRGBColor:function(e,t,n){var r=D.makeCssRgb(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r},shadingFill:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d=this.ctx;this.save(),t=E(e),d.fillStyle=t.getPattern(d,this,!0),n=d.mozCurrentTransformInverse,n?(r=d.canvas,i=r.width,s=r.height,o=D.applyTransform([0,0],n),u=D.applyTransform([0,s],n),a=D.applyTransform([i,0],n),f=D.applyTransform([i,s],n),l=Math.min(o[0],u[0],a[0],f[0]),c=Math.min(o[1],u[1],a[1],f[1]),h=Math.max(o[0],u[0],a[0],f[0]),p=Math.max(o[1],u[1],a[1],f[1]),this.ctx.fillRect(l,c,h-l,p-c)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.restore()},beginInlineImage:function(){n("Should not call beginInlineImage")},beginImageData:function(){n("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){var n,r;this.save(),this.baseTransformStack.push(this.baseTransform),p(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,p(t)&&4===t.length&&(n=t[2]-t[0],r=t[3]-t[1],this.ctx.rect(t[0],t[1],n,r),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(n){var r,s,o,u,f,l,c,h,p,d,v,m,g;this.save(),r=this.ctx,n.isolated||e("TODO: Support non-isolated groups."),n.knockout&&t("Knockout groups not supported."),s=r.mozCurrentTransform,n.matrix&&r.transform.apply(r,n.matrix),i(n.bbox,"Bounding box is required."),o=D.getAxialAlignedBoundingBox(n.bbox,r.mozCurrentTransform),u=[0,0,r.canvas.width,r.canvas.height],o=D.intersect(o,u)||[0,0,0,0],f=Math.floor(o[0]),l=Math.floor(o[1]),c=Math.max(Math.ceil(o[2])-f,1),h=Math.max(Math.ceil(o[3])-l,1),p=1,d=1,c>z&&(p=c/z,c=z),h>z&&(d=h/z,h=z),v="groupAt"+this.groupLevel,n.smask&&(v+="_smask_"+this.smaskCounter++%2),m=X.getCanvas(v,c,h,!0),g=m.context,g.scale(1/p,1/d),g.translate(-f,-l),g.transform.apply(g,s),n.smask?this.smaskStack.push({canvas:m.canvas,context:g,offsetX:f,offsetY:l,scaleX:p,scaleY:d,subtype:n.smask.subtype,backdrop:n.smask.backdrop}):(r.setTransform(1,0,0,1,0,0),r.translate(f,l),r.scale(p,d)),a(r,g),this.ctx=g,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new V},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){var r,i;this.save(),p(e)&&4===e.length&&(r=e[2]-e[0],i=e[3]-e[1],this.ctx.rect(e[0],e[1],r,i),this.clip(),this.endPath()),this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,n,r){var i,s,o,u=this.objs.get(e);return u?(this.save(),i=this.ctx,i.scale(1/n,-1/r),i.drawImage(u,0,0,u.width,u.height,0,-r,n,r),this.imageLayer&&(s=i.mozCurrentTransformInverse,o=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:e,left:o[0],top:o[1],width:n/s[0],height:r/s[3]})),this.restore(),void 0):(t("Dependent image isn't ready yet"),void 0)},paintImageMaskXObject:function(e){var t,n,r,i,s=this.ctx,u=e.width,a=e.height,f=this.processingType3;return!W||!f||"compiled"in f||(t=1e3,f.compiled=t>=u&&t>=a?w({data:e.data,width:u,height:a}):null),f&&f.compiled?(f.compiled(s),void 0):(n=X.getCanvas("maskCanvas",u,a),r=n.context,r.save(),o(r,e),r.globalCompositeOperation="source-in",i=this.current.fillColor,r.fillStyle=i&&i.hasOwnProperty("type")&&"Pattern"===i.type?i.getPattern(r,this):i,r.fillRect(0,0,u,a),r.restore(),this.paintInlineImageXObject(n.canvas),void 0)},paintImageMaskXObjectRepeat:function(e,t,n,r){var i,s,u,a=e.width,f=e.height,l=this.ctx,c=X.getCanvas("maskCanvas",a,f),h=c.context;for(h.save(),o(h,e),h.globalCompositeOperation="source-in",i=this.current.fillColor,h.fillStyle=i&&i.hasOwnProperty("type")&&"Pattern"===i.type?i.getPattern(h,this):i,h.fillRect(0,0,a,f),h.restore(),s=0,u=r.length;u>s;s+=2)l.save(),l.transform(t,0,0,n,r[s],r[s+1]),l.scale(1,-1),l.drawImage(c.canvas,0,0,a,f,0,-1,1,1),l.restore()},paintImageMaskXObjectGroup:function(e){var t,n,r,i,s,u,a,f,l=this.ctx;for(t=0,n=e.length;n>t;t++)r=e[t],i=r.width,s=r.height,u=X.getCanvas("maskCanvas",i,s),a=u.context,a.save(),o(a,r),a.globalCompositeOperation="source-in",f=this.current.fillColor,a.fillStyle=f&&f.hasOwnProperty("type")&&"Pattern"===f.type?f.getPattern(a,this):f,a.fillRect(0,0,i,s),a.restore(),l.save(),l.transform.apply(l,r.transform),l.scale(1,-1),l.drawImage(u.canvas,0,0,i,s,0,-1,1,1),l.restore()},paintImageXObject:function(e){var n=this.objs.get(e);return n?(this.paintInlineImageXObject(n),void 0):(t("Dependent image isn't ready yet"),void 0)},paintImageXObjectRepeat:function(e,n,r,i){var s,o,u,a,f,l=this.objs.get(e);if(!l)return t("Dependent image isn't ready yet"),void 0;for(s=l.width,o=l.height,u=[],a=0,f=i.length;f>a;a+=2)u.push({transform:[n,0,0,r,i[a],i[a+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(l,u)},paintInlineImageXObject:function(e){var t,n,r,i,o,u,a,f,l,c,h,p,d,v,m,g,y=e.width,b=e.height,w=this.ctx;for(this.save(),w.scale(1/y,-1/b),t=w.mozCurrentTransformInverse,n=t[0],r=t[1],i=Math.max(Math.sqrt(n*n+r*r),1),o=t[2],u=t[3],a=Math.max(Math.sqrt(o*o+u*u),1),e instanceof HTMLElement||!e.data?f=e:(l=X.getCanvas("inlineImage",y,b),c=l.context,s(c,e),f=l.canvas),h=y,p=b,d="prescale1";i>2&&h>1||a>2&&p>1;)v=h,m=p,i>2&&h>1&&(v=Math.ceil(h/2),i/=h/v),a>2&&p>1&&(m=Math.ceil(p/2),a/=p/m),l=X.getCanvas(d,v,m),c=l.context,c.clearRect(0,0,v,m),c.drawImage(f,0,0,h,p,0,0,v,m),f=l.canvas,h=v,p=m,d="prescale1"===d?"prescale2":"prescale1";w.drawImage(f,0,0,h,p,0,-b,y,b),this.imageLayer&&(g=this.getCanvasPosition(0,-b),this.imageLayer.appendImage({imgData:e,left:g[0],top:g[1],width:y/t[0],height:b/t[3]})),this.restore()},paintInlineImageXObjectGroup:function(e,t){var n,r,i,o,u=this.ctx,a=e.width,f=e.height,l=X.getCanvas("inlineImage",a,f),c=l.context;for(s(c,e),n=0,r=t.length;r>n;n++)i=t[n],u.save(),u.transform.apply(u,i.transform),u.scale(1,-1),u.drawImage(l.canvas,i.x,i.y,i.w,i.h,0,-1,1,1),this.imageLayer&&(o=this.getCanvasPosition(i.x,i.y),this.imageLayer.appendImage({imgData:e,left:o[0],top:o[1],width:a,height:f})),u.restore()},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;if(this.pendingClip){if(this.pendingClip===C)if(void 0!==e.mozFillRule)e.mozFillRule="evenodd",e.clip(),e.mozFillRule="nonzero";else try{e.clip("evenodd")}catch(t){e.clip()}else e.clip();this.pendingClip=null}e.beginPath()},getSinglePixelWidth:function(){var e=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}};for(m in S)r.prototype[S[m]]=r.prototype[m];return r}(),J=function(){function e(e,t,n){var r,i,s=e.createShader(n);if(e.shaderSource(s,t),e.compileShader(s),r=e.getShaderParameter(s,e.COMPILE_STATUS),!r)throw i=e.getShaderInfoLog(s),new Error("Error during shader compilation: "+i);return s}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){var n,r,i,s,o=e.createProgram();for(n=0,r=t.length;r>n;++n)e.attachShader(o,t[n]);if(e.linkProgram(o),i=e.getProgramParameter(o,e.LINK_STATUS),!i)throw s=e.getProgramInfoLog(o),new Error("Error during program linking: "+s);return o}function i(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}function s(){h||(p=document.createElement("canvas"),h=p.getContext("webgl",{premultipliedalpha:!1}))}function o(){var e,i,o,u,a,f,l,c,g,y;s(),e=p,p=null,i=h,h=null,o=t(i,d),u=n(i,v),a=r(i,[o,u]),i.useProgram(a),f={},f.gl=i,f.canvas=e,f.resolutionLocation=i.getUniformLocation(a,"u_resolution"),f.positionLocation=i.getAttribLocation(a,"a_position"),f.backdropLocation=i.getUniformLocation(a,"u_backdrop"),f.subtypeLocation=i.getUniformLocation(a,"u_subtype"),l=i.getAttribLocation(a,"a_texCoord"),c=i.getUniformLocation(a,"u_image"),g=i.getUniformLocation(a,"u_mask"),y=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,y),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(l),i.vertexAttribPointer(l,2,i.FLOAT,!1,0,0),i.uniform1i(c,0),i.uniform1i(g,1),m=f}function a(e,t,n){var r,s,u,a,f,l,c=e.width,h=e.height;return m||o(),r=m,s=r.canvas,u=r.gl,s.width=c,s.height=h,u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight),u.uniform2f(r.resolutionLocation,c,h),n.backdrop?u.uniform4f(r.resolutionLocation,n.backdrop[0],n.backdrop[1],n.backdrop[2],1):u.uniform4f(r.resolutionLocation,0,0,0,0),u.uniform1i(r.subtypeLocation,"Luminosity"===n.subtype?1:0),a=i(u,e,u.TEXTURE0),f=i(u,t,u.TEXTURE1),l=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,l),u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,c,0,0,h,0,h,c,0,c,h]),u.STATIC_DRAW),u.enableVertexAttribArray(r.positionLocation),u.vertexAttribPointer(r.positionLocation,2,u.FLOAT,!1,0,0),u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.clear(u.COLOR_BUFFER_BIT),u.drawArrays(u.TRIANGLES,0,6),u.flush(),u.deleteTexture(a),u.deleteTexture(f),u.deleteBuffer(l),s}function f(){var e,i,o,u,a,f;s(),e=p,p=null,i=h,h=null,o=t(i,g),u=n(i,y),a=r(i,[o,u]),i.useProgram(a),f={},f.gl=i,f.canvas=e,f.resolutionLocation=i.getUniformLocation(a,"u_resolution"),f.scaleLocation=i.getUniformLocation(a,"u_scale"),f.offsetLocation=i.getUniformLocation(a,"u_offset"),f.positionLocation=i.getAttribLocation(a,"a_position"),f.colorLocation=i.getAttribLocation(a,"a_color"),b=f}function l(e,t,n,r,i){var s,o,u,a,l,c,h,p,d,v,m,g,y,w,E,S,x,T,N,C,k,L,A,O;for(b||f(),s=b,o=s.canvas,u=s.gl,o.width=e,o.height=t,u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight),u.uniform2f(s.resolutionLocation,e,t),a=0,l=0,c=r.length;c>l;l++)switch(r[l].type){case"lattice":h=0|r[l].coords.length/r[l].verticesPerRow,a+=6*(h-1)*(r[l].verticesPerRow-1);break;case"triangles":a+=r[l].coords.length}for(p=new Float32Array(2*a),d=new Uint8Array(3*a),v=i.coords,m=i.colors,g=0,y=0,l=0,c=r.length;c>l;l++)switch(w=r[l],E=w.coords,S=w.colors,w.type){case"lattice":for(x=w.verticesPerRow,h=0|E.length/x,T=1;h>T;T++)for(N=T*x+1,C=1;x>C;C++,N++)p[g]=v[E[N-x-1]],p[g+1]=v[E[N-x-1]+1],p[g+2]=v[E[N-x]],p[g+3]=v[E[N-x]+1],p[g+4]=v[E[N-1]],p[g+5]=v[E[N-1]+1],d[y]=m[S[N-x-1]],d[y+1]=m[S[N-x-1]+1],d[y+2]=m[S[N-x-1]+2],d[y+3]=m[S[N-x]],d[y+4]=m[S[N-x]+1],d[y+5]=m[S[N-x]+2],d[y+6]=m[S[N-1]],d[y+7]=m[S[N-1]+1],d[y+8]=m[S[N-1]+2],p[g+6]=p[g+2],p[g+7]=p[g+3],p[g+8]=p[g+4],p[g+9]=p[g+5],p[g+10]=v[E[N]],p[g+11]=v[E[N]+1],d[y+9]=d[y+3],d[y+10]=d[y+4],d[y+11]=d[y+5],d[y+12]=d[y+6],d[y+13]=d[y+7],d[y+14]=d[y+8],d[y+15]=m[S[N]],d[y+16]=m[S[N]+1],d[y+17]=m[S[N]+2],g+=12,y+=18;break;case"triangles":for(k=0,L=E.length;L>k;k++)p[g]=v[E[k]],p[g+1]=v[E[k]+1],d[y]=m[S[l]],d[y+1]=m[S[k]+1],d[y+2]=m[S[k]+2],g+=2,y+=3}return n?u.clearColor(n[0]/255,n[1]/255,n[2]/255,1):u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),A=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,A),u.bufferData(u.ARRAY_BUFFER,p,u.STATIC_DRAW),u.enableVertexAttribArray(s.positionLocation),u.vertexAttribPointer(s.positionLocation,2,u.FLOAT,!1,0,0),O=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,O),u.bufferData(u.ARRAY_BUFFER,d,u.STATIC_DRAW),u.enableVertexAttribArray(s.colorLocation),u.vertexAttribPointer(s.colorLocation,3,u.UNSIGNED_BYTE,!1,0,0),u.uniform2f(s.scaleLocation,i.scaleX,i.scaleY),u.uniform2f(s.offsetLocation,i.offsetX,i.offsetY),u.drawArrays(u.TRIANGLES,0,a),u.flush(),u.deleteBuffer(A),u.deleteBuffer(O),o}function c(){m&&m.canvas&&(m.canvas.width=0,m.canvas.height=0),b&&b.canvas&&(b.canvas.width=0,b.canvas.height=0),m=null,b=null}var h,p,d="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",v="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",m=null,g="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",y="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",b=null;return{get isEnabled(){if(PDFJS.disableWebGL)return!1;var e=!1;try{s(),e=!!h}catch(t){}return u(this,"isEnabled",e)},composeSMask:a,drawFigures:l,clear:c}}(),K={},K.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],r=e[3],i=e[4],s=e[5],o=e[6];return{type:"Pattern",getPattern:function(e){var u,a,f,l;for("axial"===t?u=e.createLinearGradient(r[0],r[1],i[0],i[1]):"radial"===t&&(u=e.createRadialGradient(r[0],r[1],s,i[0],i[1],o)),a=0,f=n.length;f>a;++a)l=n[a],u.addColorStop(l[0],l[1]);return u}}}},Q=function(){function e(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=t.coords,R=t.colors,U=e.data,z=4*e.width;if(q[n+1]>q[r+1]&&(a=n,n=r,r=a,a=s,s=o,o=a),q[r+1]>q[i+1]&&(a=r,r=i,i=a,a=o,o=u,u=a),q[n+1]>q[r+1]&&(a=n,n=r,r=a,a=s,s=o,o=a),f=(q[n]+t.offsetX)*t.scaleX,l=(q[n+1]+t.offsetY)*t.scaleY,c=(q[r]+t.offsetX)*t.scaleX,h=(q[r+1]+t.offsetY)*t.scaleY,p=(q[i]+t.offsetX)*t.scaleX,d=(q[i+1]+t.offsetY)*t.scaleY,!(l>=d))for(v=R[s],m=R[s+1],g=R[s+2],y=R[o],b=R[o+1],w=R[o+2],E=R[u],S=R[u+1],x=R[u+2],T=Math.round(l),N=Math.round(d),H=T;N>=H;H++)for(h>H?(P=l>H?0:l===h?1:(l-H)/(l-h),C=f-(f-c)*P,k=v-(v-y)*P,L=m-(m-b)*P,A=g-(g-w)*P):(P=H>d?1:h===d?0:(h-H)/(h-d),C=c-(c-p)*P,k=y-(y-E)*P,L=b-(b-S)*P,A=w-(w-x)*P),P=l>H?0:H>d?1:(l-H)/(l-d),O=f-(f-p)*P,M=v-(v-E)*P,_=m-(m-S)*P,D=g-(g-x)*P,B=Math.round(Math.min(C,O)),j=Math.round(Math.max(C,O)),F=z*H+4*B,I=B;j>=I;I++)P=(C-I)/(C-O),P=0>P?0:P>1?1:P,U[F++]=0|k-(k-M)*P,U[F++]=0|L-(L-_)*P,U[F++]=0|A-(A-D)*P,U[F++]=255}function t(t,r,i){var s,o,u,a,f,l,c,h=r.coords,p=r.colors;switch(r.type){case"lattice":for(u=r.verticesPerRow,a=Math.floor(h.length/u)-1,f=u-1,s=0;a>s;s++)for(l=s*u,c=0;f>c;c++,l++)e(t,i,h[l],h[l+1],h[l+u],p[l],p[l+1],p[l+u]),e(t,i,h[l+u+1],h[l+1],h[l+u],p[l+u+1],p[l+1],p[l+u]);break;case"triangles":for(s=0,o=h.length;o>s;s+=3)e(t,i,h[s],h[s+1],h[s+2],p[s],p[s+1],p[s+2]);break;default:n("illigal figure")}}function r(e,n,r,i,s,o){var u,a,f,l,c,h,p,d=1.1,v=3e3,m=Math.floor(e[0]),g=Math.floor(e[1]),y=Math.ceil(e[2])-m,b=Math.ceil(e[3])-g,w=Math.min(Math.ceil(Math.abs(y*n[0]*d)),v),E=Math.min(Math.ceil(Math.abs(b*n[1]*d)),v),S=y/w,x=b/E,T={coords:r,colors:i,offsetX:-m,offsetY:-g,scaleX:1/S,scaleY:1/x};if(J.isEnabled)u=J.drawFigures(w,E,o,s,T),a=X.getCanvas("mesh",w,E,!1),a.context.drawImage(u,0,0),u=a.canvas;else{if(a=X.getCanvas("mesh",w,E,!1),c=a.context,h=c.createImageData(w,E),o)for(p=h.data,f=0,l=p.length;l>f;f+=4)p[f]=o[0],p[f+1]=o[1],p[f+2]=o[2],p[f+3]=255;for(f=0;f<s.length;f++)t(h,s[f],T);c.putImageData(h,0,0),u=a.canvas}return{canvas:u,offsetX:m,offsetY:g,scaleX:S,scaleY:x}}return r}(),K.Mesh={fromIR:function(e){var t=e[2],n=e[3],r=e[4],i=e[5],s=e[6],o=e[8];return{type:"Pattern",getPattern:function(e,u,a){var f,l,c;return a?f=D.singularValueDecompose2dScale(e.mozCurrentTransform):(f=D.singularValueDecompose2dScale(u.baseTransform),s&&(l=D.singularValueDecompose2dScale(s),f=[f[0]*l[0],f[1]*l[1]])),c=Q(i,f,t,n,r,a?null:o),a||(e.setTransform.apply(e,u.baseTransform),s&&e.transform.apply(e,s)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}}},K.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}},G=function(){function t(e,t,n,r,i,s){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.objs=r,this.commonObjs=i,this.baseTransform=s,this.type="Pattern",this.ctx=n}var r={COLORED:1,UNCOLORED:2},i=3e3;return t.prototype={createPatternCanvas:function(t){var n,r,s,o,u,a,f,l,c,h,p,d,v,m,g,y=this.operatorList,b=this.bbox,w=this.xstep,E=this.ystep,S=this.paintType,x=this.tilingType,T=this.color,N=this.objs,C=this.commonObjs;return e("TilingType: "+x),n=b[0],r=b[1],s=b[2],o=b[3],u=[n,r],a=[n+w,r+E],f=a[0]-u[0],l=a[1]-u[1],c=D.singularValueDecompose2dScale(this.matrix),h=D.singularValueDecompose2dScale(this.baseTransform),p=[c[0]*h[0],c[1]*h[1]],f=Math.min(Math.ceil(Math.abs(f*p[0])),i),l=Math.min(Math.ceil(Math.abs(l*p[1])),i),d=X.getCanvas("pattern",f,l,!0),v=d.context,m=new $(v,C,N),m.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(v,S,T),this.setScale(f,l,w,E),this.transformToScale(m),g=[1,0,0,1,-u[0],-u[1]],m.transform.apply(m,g),this.clipBbox(m,b,n,r,s,o),m.executeOperatorList(y),d.canvas},setScale:function(e,t,n,r){this.scale=[e/n,t/r]},transformToScale:function(e){var t=this.scale,n=[t[0],0,0,t[1],0,0];e.transform.apply(e,n)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,n,r,i,s){var o,u;t&&p(t)&&4===t.length&&(o=i-n,u=s-r,e.ctx.rect(n,r,o,u),e.clip(),e.endPath())},setFillAndStrokeStyleToContext:function(e,t,i){var s,o;switch(t){case r.COLORED:s=this.ctx,e.fillStyle=s.fillStyle,e.strokeStyle=s.strokeStyle;break;case r.UNCOLORED:o=D.makeCssRgb(i[0],i[1],i[2]),e.fillStyle=o,e.strokeStyle=o;break;default:n("Unsupported paint type: "+t)}},getPattern:function(e,t){var n=this.createPatternCanvas(t);return e=this.ctx,e.setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(n,"repeat")}},t}(),PDFJS.disableFontFace=!1,Y={insertRule:function(e){var t,n=document.getElementById("PDFJS_FONT_STYLE_TAG");n||(n=document.createElement("style"),n.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(n)),t=n.sheet,t.insertRule(e,t.cssRules.length)},clear:function(){var e=document.getElementById("PDFJS_FONT_STYLE_TAG");e&&e.parentNode.removeChild(e),this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0},get loadTestFont(){return u(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){var e,t;return at?!1:(e=window.navigator.userAgent,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(e),t&&t[1]>=14?!0:"node"===e?!0:!1)}(),nativeFontFaces:[],isFontLoadingAPISupported:!at&&!!document.fonts,addNativeFontFace:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)},bind:function(e,t){var n,r,s,o,u,a,f,l,c;for(i(!at,"bind() shall be called from main thread"),n=[],r=[],s=[],o=0,u=e.length;u>o;o++)a=e[o],a.attached||a.loading===!1||(a.attached=!0,this.isFontLoadingAPISupported?(f=a.createNativeFontFace(),f&&s.push(f.loaded)):(l=a.bindDOM(),l&&(n.push(l),r.push(a))));c=Y.queueLoadingCallback(t),this.isFontLoadingAPISupported?Promise.all(r).then(function(){c.complete()}):n.length>0&&!this.isSyncFontLoadingSupported?Y.prepareFontLoadEvent(n,r,c):c.complete()},queueLoadingCallback:function(e){function t(){for(i(!s.end,"completeRequest() cannot be called twice"),s.end=Date.now();n.requests.length>0&&n.requests[0].end;){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=Y.loadingContext,r="pdfjs-font-loading-"+n.nextRequestId++,s={id:r,complete:t,callback:e,started:Date.now()};return n.requests.push(s),s},prepareFontLoadEvent:function(e,n,r){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,n,r){var i=e.substr(0,t),s=e.substr(t+n);return i+r+s}function o(e,n){if(c++,c>30)return t("Load test font never loaded."),n(),void 0;l.font="30px "+e,l.fillText(".",0,20);var r=l.getImageData(0,0,1,1);return r.data[3]>0?(n(),void 0):(setTimeout(o.bind(null,e,n)),void 0)}var u,a,l,c,h,p,d,v,m,g,y,b,w,E,S,x=document.createElement("canvas");for(x.width=1,x.height=1,l=x.getContext("2d"),c=0,h="lt"+Date.now()+this.loadTestFontId++,p=this.loadTestFont,d=976,p=s(p,d,h.length,h),v=16,m=1482184792,g=i(p,v),u=0,a=h.length-3;a>u;u+=4)g=0|g-m+i(h,u);for(u<h.length&&(g=0|g-m+i(h+"XXX",u)),p=s(p,v,4,f(g)),y="url(data:font/opentype;base64,"+btoa(p)+");",b='@font-face { font-family:"'+h+'";src:'+y+"}",Y.insertRule(b),w=[],u=0,a=n.length;a>u;u++)w.push(n[u].loadedName);for(w.push(h),E=document.createElement("div"),E.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),u=0,a=w.length;a>u;++u)S=document.createElement("span"),S.textContent="Hi",S.style.fontFamily=w[u],E.appendChild(S);document.body.appendChild(E),o(h,function(){document.body.removeChild(E),r.complete()})}},Z=function(){function e(){var e,t;if(this.compiledGlyphs={},1!==arguments.length);else{e=arguments[0];for(t in e)this[t]=e[t]}}return e.prototype={createNativeFontFace:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var e=new FontFace(this.loadedName,this.data,{});return Y.addNativeFontFace(e),PDFJS.pdfBug&&"FontInspector"in ut&&ut["FontInspector"].enabled&&ut["FontInspector"].fontAdded(this),e},bindDOM:function(){var e,t,n,r;return this.data?PDFJS.disableFontFace?(this.disableFontFace=!0,null):(e=a(new Uint8Array(this.data)),t=this.loadedName,n="url(data:"+this.mimetype+";base64,"+window.btoa(e)+");",r='@font-face { font-family:"'+t+'";src:'+n+"}",Y.insertRule(r),PDFJS.pdfBug&&"FontInspector"in ut&&ut["FontInspector"].enabled&&ut["FontInspector"].fontAdded(this,n),r):null},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var n=e.get(this.loadedName+"_path_"+t);this.compiledGlyphs[t]=new Function("c","size",n)}return this.compiledGlyphs[t]}},e}(),et=4,tt=10,nt=function(){function e(e,t,n){var r,i,s,o=e.style;o.fontSize=t.fontSize+"px",o.direction=t.fontDirection<0?"rtl":"ltr",n&&(o.fontWeight=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal",o.fontStyle=n.italic?"italic":"normal",r=n.loadedName,i=r?'"'+r+'", ':"",s=n.fallbackName||"Helvetica, sans-serif",o.fontFamily=i+s)}function t(e,t,n){var r,i,s=n||0,o=document.createElement(e);return o.style.borderWidth=s+"px",r=t[2]-t[0]-2*s,i=t[3]-t[1]-2*s,o.style.width=r+"px",o.style.height=i+"px",o}function n(e){var n,r,i=t("section",e.rect,e.borderWidth);return i.style.backgroundColor=e.color,n=e.color,e.colorCssRgb=D.makeCssRgb(Math.round(255*n[0]),Math.round(255*n[1]),Math.round(255*n[2])),r=document.createElement("div"),r.className="annotationHighlight",r.style.left=r.style.top=-et+"px",r.style.right=r.style.bottom=-et+"px",r.setAttribute("hidden",!0),e.highlightElement=r,i.appendChild(e.highlightElement),i}function r(n,r){var i,s,o,u=t("div",n.rect,0);return u.style.display="table",i=document.createElement("div"),i.textContent=n.fieldValue,s=n.textAlignment,i.style.textAlign=["left","center","right"][s],i.style.verticalAlign="middle",i.style.display="table-cell",o=n.fontRefName?r.getData(n.fontRefName):null,e(i,n,o),u.appendChild(i),u}function i(e){var t,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=e.rect;if(x[3]-x[1]<tt&&(x[3]=x[1]+tt),x[2]-x[0]<tt&&(x[2]=x[0]+(x[3]-x[1])),t=n(e),t.className="annotText",r=document.createElement("img"),r.style.height=t.style.height,r.style.width=t.style.width,i=e.name,r.src=PDFJS.imageResourcesPath+"annotation-"+i.toLowerCase()+".svg",r.alt="[{{type}} Annotation]",r.dataset.l10nId="text_annotation_type",r.dataset.l10nArgs=JSON.stringify({type:i}),s=document.createElement("div"),s.className="annotTextContentWrapper",s.style.left=Math.floor(x[2]-x[0]+5)+"px",s.style.top="-10px",o=document.createElement("div"),o.className="annotTextContent",o.setAttribute("hidden",!0),e.hasBgColor&&(f=e.color,l=.7,c=l*(1-f[0])+f[0],h=l*(1-f[1])+f[1],p=l*(1-f[2])+f[2],o.style.backgroundColor=D.makeCssRgb(0|255*c,0|255*h,0|255*p)),d=document.createElement("h1"),v=document.createElement("p"),d.textContent=e.title,e.content||e.title){for(m=document.createElement("span"),g=e.content.split(/(?:\r\n?|\n)/),u=0,a=g.length;a>u;++u)y=g[u],m.appendChild(document.createTextNode(y)),a-1>u&&m.appendChild(document.createElement("br"));v.appendChild(m),b=!1,w=function(e){e&&(b=!0),o.hasAttribute("hidden")&&(t.style.zIndex+=1,o.removeAttribute("hidden"))},E=function(e){e&&(b=!1),o.hasAttribute("hidden")||b||(t.style.zIndex-=1,o.setAttribute("hidden",!0))},S=function(){b?E(!0):w(!0)},r.addEventListener("click",function(){S()},!1),r.addEventListener("mouseover",function(){w()},!1),r.addEventListener("mouseout",function(){E()},!1),o.addEventListener("click",function(){E(!0)},!1)}else o.setAttribute("hidden",!0);return o.appendChild(d),o.appendChild(v),s.appendChild(o),t.appendChild(r),t.appendChild(s),t}function s(e){var t,r=n(e);return r.className="annotLink",r.style.borderColor=e.colorCssRgb,r.style.borderStyle="solid",t=document.createElement("a"),t.href=t.title=e.url||"",r.appendChild(t),r}function o(e,t){switch(e.annotationType){case ht.WIDGET:return r(e,t);case ht.TEXT:return i(e);case ht.LINK:return s(e);default:throw new Error("Unsupported annotationType: "+e.annotationType)}}return{getHtmlElement:o}}(),PDFJS.AnnotationUtils=nt,rt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},it=function(){function e(e,t,n){var r,i,s,o=-1;for(r=t;n>r;r++)i=255&(o^e[r]),s=f[i],o=o>>>8^s;return-1^o}function t(t,n,r,i){var s,o=i,u=n.length;r[o]=255&u>>24,r[o+1]=255&u>>16,r[o+2]=255&u>>8,r[o+3]=255&u,o+=4,r[o]=255&t.charCodeAt(0),r[o+1]=255&t.charCodeAt(1),r[o+2]=255&t.charCodeAt(2),r[o+3]=255&t.charCodeAt(3),o+=4,r.set(n,o),o+=n.length,s=e(r,i+4,o),r[o]=255&s>>24,r[o+1]=255&s>>16,r[o+2]=255&s>>8,r[o+3]=255&s}function n(e,t,n){var r,i=1,s=0;for(r=t;n>r;++r)i=(i+(255&e[r]))%65521,s=(s+i)%65521;return s<<16|i}function r(e,r){var i,s,o,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N=e.width,C=e.height,k=e.data;switch(r){case ct.GRAYSCALE_1BPP:s=0,i=1,o=N+7>>3;break;case ct.RGB_24BPP:s=2,i=8,o=3*N;break;case ct.RGBA_32BPP:s=6,i=8,o=4*N;break;default:throw new Error("invalid format")}for(f=new Uint8Array((1+o)*C),l=0,c=0,h=0;C>h;++h)f[l++]=0,f.set(k.subarray(c,c+o),l),c+=o,l+=o;if(r===ct.GRAYSCALE_1BPP)for(l=0,h=0;C>h;h++)for(l++,p=0;o>p;p++)f[l++]^=255;for(d=new Uint8Array([255&N>>24,255&N>>16,255&N>>8,255&N,255&C>>24,255&C>>16,255&C>>8,255&C,i,s,0,0,0]),v=f.length,m=65535,g=Math.ceil(v/m),y=new Uint8Array(2+v+5*g+4),b=0,y[b++]=120,y[b++]=156,w=0;v>m;)y[b++]=0,y[b++]=255,y[b++]=255,y[b++]=0,y[b++]=0,y.set(f.subarray(w,w+m),b),b+=m,w+=m,v-=m;return y[b++]=1,y[b++]=255&v,y[b++]=255&v>>8,y[b++]=255&(65535&~v),y[b++]=255&(65535&~v)>>8,y.set(f.subarray(w),b),b+=f.length-w,E=n(f,0,f.length),y[b++]=255&E>>24,y[b++]=255&E>>16,y[b++]=255&E>>8,y[b++]=255&E,S=u.length+3*a+d.length+y.length,x=new Uint8Array(S),T=0,x.set(u,T),T+=u.length,t("IHDR",d,x,T),T+=a+d.length,t("IDATA",y,x,T),T+=a+y.length,t("IEND",new Uint8Array(0),x,T),PDFJS.createObjectURL(x,"image/png")}var i,s,o,u=new Uint8Array([137,80,78,71,13,10,26,10]),a=12,f=new Int32Array(256);for(i=0;256>i;i++){for(s=i,o=0;8>o;o++)s=1&s?3988292384^2147483647&s>>1:2147483647&s>>1;f[i]=s}return function(e){var t=void 0===e.kind?ct.GRAYSCALE_1BPP:e.kind;return r(e,t)}}(),st=function(){function e(){this.fontSizeScale=1,this.fontWeight=rt.fontWeight,this.fontSize=0,this.textMatrix=_,this.fontMatrix=ft,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=rt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.clipId="",this.pendingClip=!1,this.maskId=""}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),ot=function(){function e(e,t){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg:svg");return r.setAttributeNS(null,"version","1.1"),r.setAttributeNS(null,"width",e+"px"),r.setAttributeNS(null,"height",t+"px"),r.setAttributeNS(null,"viewBox","0 0 "+e+" "+t),r}function n(e){var t,n=[],r=[],i=e.length;for(t=0;i>t;t++)"save"!==e[t].fn?"restore"===e[t].fn?n=r.pop():n.push(e[t]):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items);return n}function r(e){var t,n;if(e===(0|e))return e.toString();if(t=e.toFixed(10),n=t.length-1,"0"!==t[n])return t;do n--;while("0"===t[n]);return t.substr(0,"."===t[n]?n:n+1)}function i(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale("+r(e[0])+" "+r(e[3])+")";if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate("+r(t)+")"}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate("+r(e[4])+" "+r(e[5])+")";return"matrix("+r(e[0])+" "+r(e[1])+" "+r(e[2])+" "+r(e[3])+" "+r(e[4])+" "+r(e[5])+")"}function s(e,t){this.current=new st,this.transformMatrix=_,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts={},this.cssStyle=null}var o="http://www.w3.org/2000/svg",u="http://www.w3.org/XML/1998/namespace",a="http://www.w3.org/1999/xlink",f=["butt","round","square"],l=["miter","round","bevel"],c=0,d=0;return s.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.tgrp=document.createElementNS(o,"svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix)),this.pgrp.appendChild(this.tgrp)},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){var t,n,r,i,s,o,u,a=e.fnArray,f=a.length,l=e.argsArray,c=this;for(t=0;f>t;t++)if(S.dependency===a[t])for(n=l[t],r=0,i=n.length;i>r;r++)s=n[r],o="g_"===s.substring(0,2),u=o?new Promise(function(e){c.commonObjs.get(s,e)}):new Promise(function(e){c.objs.get(s,e)}),this.current.dependencies.push(u);return Promise.all(this.current.dependencies)},transform:function(e,t,n,r,s,u){var a=[e,t,n,r,s,u];this.transformMatrix=PDFJS.Util.transform(this.transformMatrix,a),this.tgrp=document.createElementNS(o,"svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix))},getSVG:function(t,n){return this.svg=e(n.width,n.height),this.viewport=n,this.loadDependencies(t).then(function(){this.transformMatrix=_,this.pgrp=document.createElementNS(o,"svg:g"),this.pgrp.setAttributeNS(null,"transform",i(n.transform)),this.tgrp=document.createElementNS(o,"svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix)),this.defs=document.createElementNS(o,"svg:defs"),this.pgrp.appendChild(this.defs),this.pgrp.appendChild(this.tgrp),this.svg.appendChild(this.pgrp);var e=this.convertOpList(t);return this.executeOpTree(e),this.svg}.bind(this))},convertOpList:function(e){var t,r,i,s=e.argsArray,o=e.fnArray,u=o.length,a=[],f=[];for(t in S)a[S[t]]=t;for(r=0;u>r;r++)i=o[r],f.push({fnId:i,fn:a[i],args:s[r]});return n(f)},executeOpTree:function(e){var n,r,i,s,o=e.length;for(n=0;o>n;n++)switch(r=e[n].fn,i=e[n].fnId,s=e[n].args,0|i){case S.beginText:this.beginText();break;case S.setLeading:this.setLeading(s);break;case S.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case S.setFont:this.setFont(s);break;case S.showText:this.showText(s[0]);break;case S.showSpacedText:this.showText(s[0]);break;case S.endText:this.endText();break;case S.moveText:this.moveText(s[0],s[1]);break;case S.setCharSpacing:this.setCharSpacing(s[0]);break;case S.setWordSpacing:this.setWordSpacing(s[0]);break;case S.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case S.setLineWidth:this.setLineWidth(s[0]);break;case S.setLineJoin:this.setLineJoin(s[0]);break;case S.setLineCap:this.setLineCap(s[0]);break;case S.setMiterLimit:this.setMiterLimit(s[0]);break;case S.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case S.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case S.setDash:this.setDash(s[0],s[1]);break;case S.setGState:this.setGState(s[0]);break;case S.fill:this.fill();break;case S.eoFill:this.eoFill();break;case S.stroke:this.stroke();break;case S.fillStroke:this.fillStroke();break;case S.eoFillStroke:this.eoFillStroke();break;case S.clip:this.clip("nonzero");break;case S.eoClip:this.clip("evenodd");break;case S.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case S.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case S.paintImageXObject:this.paintImageXObject(s[0]);break;case S.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case S.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case S.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case S.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case S.closePath:this.closePath();break;case S.closeStroke:this.closeStroke();break;case S.closeFillStroke:this.closeFillStroke();break;case S.nextLine:this.nextLine();break;case S.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case S.constructPath:this.constructPath(s[0],s[1]);break;case S.endPath:this.endPath();break;case 92:this.group(e[n].items);break;default:t("Unimplemented method "+r)}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(e,t,n,i,s,u){var a=this.current;this.current.textMatrix=this.current.lineMatrix=[e,t,n,i,s,u],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,a.xcoords=[],a.tspan=document.createElementNS(o,"svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",r(a.fontSize)+"px"),a.tspan.setAttributeNS(null,"y",r(-a.y)),a.txtElement=document.createElementNS(o,"svg:text"),a.txtElement.appendChild(a.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=_,this.current.lineMatrix=_,this.current.tspan=document.createElementNS(o,"svg:tspan"),this.current.txtElement=document.createElementNS(o,"svg:text"),this.current.txtgrp=document.createElementNS(o,"svg:g"),this.current.xcoords=[]},moveText:function(e,t){var n=this.current;this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t,n.xcoords=[],n.tspan=document.createElementNS(o,"svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",r(n.fontSize)+"px"),n.tspan.setAttributeNS(null,"y",r(-n.y))},showText:function(e){var t,n,s,o,a,f,l,c,p,d,v,m,g,y=this.current,b=y.font,w=y.fontSize;if(0!==w){for(t=y.charSpacing,n=y.wordSpacing,s=y.fontDirection,o=y.textHScale*s,a=e.length,f=b.vertical,l=w*y.fontMatrix[0],p=0,c=0;a>c;++c)d=e[c],null!==d?h(d)?p+=.001*-d*w:(y.xcoords.push(y.x+p*o),v=d.width,m=d.fontChar,g=v*l+t*s,p+=g,y.tspan.textContent+=m):p+=s*n;f?y.y-=p*o:y.x+=p*o,y.tspan.setAttributeNS(null,"x",y.xcoords.map(r).join(" ")),y.tspan.setAttributeNS(null,"y",r(-y.y)),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",r(y.fontSize)+"px"),y.fontStyle!==rt.fontStyle&&y.tspan.setAttributeNS(null,"font-style",y.fontStyle),y.fontWeight!==rt.fontWeight&&y.tspan.setAttributeNS(null,"font-weight",y.fontWeight),y.fillColor!==rt.fillColor&&y.tspan.setAttributeNS(null,"fill",y.fillColor),y.txtElement.setAttributeNS(null,"transform",i(y.textMatrix)+" scale(1, -1)"),y.txtElement.setAttributeNS(u,"xml:space","preserve"),y.txtElement.appendChild(y.tspan),y.txtgrp.appendChild(y.txtElement),this.tgrp.appendChild(y.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=document.createElementNS(o,"svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=PDFJS.createObjectURL(e.data,e.mimetype);this.cssStyle.textContent+='@font-face { font-family: "'+e.loadedName+'";'+" src: url("+t+"); }\n"},setFont:function(e){var t,n,i=this.current,s=this.commonObjs.get(e[0]),u=e[1];this.current.font=s,this.embedFonts&&s.data&&!this.embeddedFonts[s.loadedName]&&(this.addFontStyle(s),this.embeddedFonts[s.loadedName]=s),i.fontMatrix=s.fontMatrix?s.fontMatrix:ft,t=s.black?s.bold?"bolder":"bold":s.bold?"bold":"normal",n=s.italic?"italic":"normal",0>u?(u=-u,i.fontDirection=-1):i.fontDirection=1,i.fontSize=u,i.fontFamily=s.loadedName,i.fontWeight=t,i.fontStyle=n,i.tspan=document.createElementNS(o,"svg:tspan"),i.tspan.setAttributeNS(null,"y",r(-i.y)),i.xcoords=[]},endText:function(){this.current.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),this.tgrp=document.createElementNS(o,"svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix))},setLineWidth:function(e){this.current.lineWidth=e},setLineCap:function(e){this.current.lineCap=f[e]},setLineJoin:function(e){this.current.lineJoin=l[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeRGBColor:function(e,t,n){var r=D.makeCssRgb(e,t,n);this.current.strokeColor=r},setFillRGBColor:function(e,t,n){var r=D.makeCssRgb(e,t,n);this.current.fillColor=r,this.current.tspan=document.createElementNS(o,"svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(e,t){var n,i,s,u,a,f,l,c,h=this.current,p=h.x,d=h.y;for(h.path=document.createElementNS(o,"svg:path"),n=[],i=e.length,s=0,u=0;i>s;s++)switch(0|e[s]){case S.rectangle:p=t[u++],d=t[u++],a=t[u++],f=t[u++],l=p+a,c=d+f,n.push("M",r(p),r(d),"L",r(l),r(d),"L",r(l),r(c),"L",r(p),r(c),"Z");break;case S.moveTo:p=t[u++],d=t[u++],n.push("M",r(p),r(d));break;case S.lineTo:p=t[u++],d=t[u++],n.push("L",r(p),r(d));break;case S.curveTo:p=t[u+4],d=t[u+5],n.push("C",r(t[u]),r(t[u+1]),r(t[u+2]),r(t[u+3]),r(p),r(d)),u+=6;break;case S.curveTo2:p=t[u+2],d=t[u+3],n.push("C",r(p),r(d),r(t[u]),r(t[u+1]),r(t[u+2]),r(t[u+3])),u+=4;break;case S.curveTo3:p=t[u+2],d=t[u+3],n.push("C",r(t[u]),r(t[u+1]),r(p),r(d),r(p),r(d)),u+=4;break;case S.closePath:n.push("Z")}h.path.setAttributeNS(null,"d",n.join(" ")),h.path.setAttributeNS(null,"stroke-miterlimit",r(h.miterLimit)),h.path.setAttributeNS(null,"stroke-linecap",h.lineCap),h.path.setAttributeNS(null,"stroke-linejoin",h.lineJoin),h.path.setAttributeNS(null,"stroke-width",r(h.lineWidth)+"px"),h.path.setAttributeNS(null,"stroke-dasharray",h.dashArray.map(r).join(" ")),h.path.setAttributeNS(null,"stroke-dashoffset",r(h.dashPhase)+"px"),h.path.setAttributeNS(null,"fill","none"),this.tgrp.appendChild(h.path),h.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),h.element=h.path,h.setCurrentPoint(p,d)},endPath:function(){var e=this.current;e.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp),this.tgrp=document.createElementNS(o,"svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix))},clip:function(e){var t,n=this.current;n.clipId="clippath"+c,c++,this.clippath=document.createElementNS(o,"svg:clipPath"),this.clippath.setAttributeNS(null,"id",n.clipId),t=n.element.cloneNode(),"evenodd"===e?t.setAttributeNS(null,"clip-rule","evenodd"):t.setAttributeNS(null,"clip-rule","nonzero"),this.clippath.setAttributeNS(null,"transform",i(this.transformMatrix)),this.clippath.appendChild(t),this.defs.appendChild(this.clippath),n.pendingClip=!0,this.cgrp=document.createElementNS(o,"svg:g"),this.cgrp.setAttributeNS(null,"clip-path","url(#"+n.clipId+")"),this.pgrp.appendChild(this.cgrp)},closePath:function(){var e=this.current,t=e.path.getAttributeNS(null,"d");t+="Z",e.path.setAttributeNS(null,"d",t)},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){var t,n,r,i,s;for(t=0,n=e.length;n>t;t++)switch(r=e[t],i=r[0],s=r[1],i){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":break;case"FL":break;case"Font":this.setFont(s);break;case"CA":break;case"ca":break;case"BM":break;case"SMask":}},fill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor)},stroke:function(){var e=this.current;e.element.setAttributeNS(null,"stroke",e.strokeColor),e.element.setAttributeNS(null,"fill","none")},eoFill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-rule","evenodd")},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=document.createElementNS(o,"svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this.tgrp.appendChild(t)},paintJpegXObject:function(e,t,n){var i=this.current,s=this.objs.get(e),u=document.createElementNS(o,"svg:image");u.setAttributeNS(a,"xlink:href",s.src),u.setAttributeNS(null,"width",s.width+"px"),u.setAttributeNS(null,"height",s.height+"px"),u.setAttributeNS(null,"x","0"),u.setAttributeNS(null,"y",r(-n)),u.setAttributeNS(null,"transform","scale("+r(1/t)+" "+r(-1/n)+")"),this.tgrp.appendChild(u),i.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageXObject:function(e){var n=this.objs.get(e);return n?(this.paintInlineImageXObject(n),void 0):(t("Dependent image isn't ready yet"),void 0)},paintInlineImageXObject:function(e,t){var n,i=this.current,s=e.width,u=e.height,f=it(e),l=document.createElementNS(o,"svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",r(s)),l.setAttributeNS(null,"height",r(u)),i.element=l,this.clip("nonzero"),n=document.createElementNS(o,"svg:image"),n.setAttributeNS(a,"xlink:href",f),n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y",r(-u)),n.setAttributeNS(null,"width",r(s)+"px"),n.setAttributeNS(null,"height",r(u)+"px"),n.setAttributeNS(null,"transform","scale("+r(1/s)+" "+r(-1/u)+")"),t?t.appendChild(n):this.tgrp.appendChild(n),i.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageMaskXObject:function(e){var t,n,i=this.current,s=e.width,u=e.height,a=i.fillColor;i.maskId="mask"+d++,t=document.createElementNS(o,"svg:mask"),t.setAttributeNS(null,"id",i.maskId),n=document.createElementNS(o,"svg:rect"),n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width",r(s)),n.setAttributeNS(null,"height",r(u)),n.setAttributeNS(null,"fill",a),n.setAttributeNS(null,"mask","url(#"+i.maskId+")"),this.defs.appendChild(t),this.tgrp.appendChild(n),this.paintInlineImageXObject(e,t)},paintFormXObjectBegin:function(e,t){var n,i,s;this.save(),p(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),p(t)&&4===t.length&&(n=t[2]-t[0],i=t[3]-t[1],s=document.createElementNS(o,"svg:rect"),s.setAttributeNS(null,"x",t[0]),s.setAttributeNS(null,"y",t[1]),s.setAttributeNS(null,"width",r(n)),s.setAttributeNS(null,"height",r(i)),this.current.element=s,this.clip("nonzero"),this.endPath())},paintFormXObjectEnd:function(){this.restore()}},s}(),PDFJS.SVGGraphics=ot}.call("undefined"==typeof window?this:window),PDFJS.workerSrc||"undefined"==typeof document||(PDFJS.workerSrc=function(){"use strict";var e=document.body||document.getElementsByTagName("head")[0],t=e.lastChild.src;return t&&t.replace(/\.js$/i,".worker.js")}());"use strict";"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),function(){function e(e,t){return new n(this.slice(e,t))}function t(e,t){arguments.length<2&&(t=0);for(var n=0,r=e.length;r>n;++n,++t)this[t]=255&e[n]}function n(n){var r,i,s;if("number"==typeof n)for(r=[],i=0;n>i;++i)r[i]=0;else if("slice"in n)r=n.slice(0);else for(r=[],i=0,s=n.length;s>i;++i)r[i]=n[i];return r.subarray=e,r.buffer=r,r.byteLength=r.length,r.set=t,"object"==typeof n&&n.buffer&&(r.buffer=n.buffer),r}return"undefined"!=typeof Uint8Array?("undefined"==typeof Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),"undefined"==typeof Float64Array&&(window.Float64Array=Float32Array),void 0):(window.Uint8Array=n,window.Int8Array=n,window.Uint32Array=n,window.Int32Array=n,window.Uint16Array=n,window.Float32Array=n,window.Float64Array=n,void 0)}(),function(){window.URL||(window.URL=window.webkitURL)}(),function(){var e,t;if("undefined"!=typeof Object.defineProperty){e=!0;try{Object.defineProperty(new Image,"id",{value:"test"}),t=function(){},t.prototype={get id(){}},Object.defineProperty(new t,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(n){e=!1}if(e)return}Object.defineProperty=function(e,t,n){delete e[t],"get"in n&&e.__defineGetter__(t,n["get"]),"set"in n&&e.__defineSetter__(t,n["set"]),"value"in n&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=n.value)}}(),function(){var e=XMLHttpRequest.prototype,t=new XMLHttpRequest;return"overrideMimeType"in t||Object.defineProperty(e,"overrideMimeType",{value:function(){}}),"responseType"in t?void 0:(PDFJS.disableWorker=!0,Object.defineProperty(e,"responseType",{get:function(){return this._responseType||"text"},set:function(e){("text"===e||"arraybuffer"===e)&&(this._responseType=e,"arraybuffer"===e&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"!=typeof VBArray?(Object.defineProperty(e,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array((new VBArray(this.responseBody)).toArray()):this.responseText}}),void 0):(Object.defineProperty(e,"response",{get:function(){var e,t,n,r;if("arraybuffer"!==this.responseType)return this.responseText;for(e=this.responseText,n=e.length,r=new Uint8Array(n),t=0;n>t;++t)r[t]=255&e.charCodeAt(t);return r.buffer}}),void 0))}(),function(){if(!("btoa"in window)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.btoa=function(t){var n,r,i,s,o,u,f,l,c,h="";for(n=0,r=t.length;r>n;n+=3)i=255&t.charCodeAt(n),s=255&t.charCodeAt(n+1),o=255&t.charCodeAt(n+2),u=i>>2,f=(3&i)<<4|s>>4,l=r>n+1?(15&s)<<2|o>>6:64,c=r>n+2?63&o:64,h+=e.charAt(u)+e.charAt(f)+e.charAt(l)+e.charAt(c);return h}}}(),function(){if(!("atob"in window)){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.atob=function(t){if(t=t.replace(/=+$/,""),1===t.length%4)throw new Error("bad atob input");for(var n,r,i=0,s=0,o="";r=t.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(6&-2*i)):0)r=e.indexOf(r);return o}}}(),function(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r=function(){var r=n.concat(Array.prototype.slice.call(arguments));return t.apply(e,r)};return r})}(),function(){var e=document.createElement("div");"dataset"in e||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){var e,t,n,r,i;if(this._dataset)return this._dataset;for(e={},t=0,n=this.attributes.length;n>t;t++)r=this.attributes[t],"data-"===r.name.substring(0,5)&&(i=r.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()}),e[i]=r.value);return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}(),function(){function e(e,t,n,r){var i,s=e.className||"",o=s.split(/\s+/g);return""===o[0]&&o.shift(),i=o.indexOf(t),0>i&&n&&o.push(t),i>=0&&r&&o.splice(i,1),e.className=o.join(" "),i>=0}var t,n=document.createElement("div");"classList"in n||(t={add:function(t){e(this.element,t,!0,!1)},contains:function(t){return e(this.element,t,!1,!1)},remove:function(t){e(this.element,t,!1,!0)},toggle:function(t){e(this.element,t,!0,!0)}},Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var e=Object.create(t,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0}))}(),function(){"console"in window?"bind"in console.log||(console.log=function(e){return function(t){return e(t)}}(console.log),console.error=function(e){return function(t){return e(t)}}(console.error),console.warn=function(e){return function(t){return e(t)}}(console.warn)):window.console={log:function(){},error:function(){},warn:function(){}}}(),function(){function e(e){t(e.target)&&e.stopPropagation()}function t(e){return e.disabled||e.parentNode&&t(e.parentNode)}-1!==navigator.userAgent.indexOf("Opera")&&document.addEventListener("click",e,!0)}(),function(){navigator.userAgent.indexOf("Trident")>=0&&(PDFJS.disableCreateObjectURL=!0)}(),function(){function e(e){var t=e.split(/[-_]/);return t[0]=t[0].toLowerCase(),t.length>1&&(t[1]=t[1].toUpperCase()),t.join("-")}if(!("language"in navigator&&/^[a-z]+(-[A-Z]+)?$/.test(navigator.language))){var t=navigator.language||navigator.userLanguage||"en-US";PDFJS.locale=e(t)}}(),function(){var e=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,t=/Android\s[0-2][^\d]/,n=t.test(navigator.userAgent);(e||n)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){(!history.pushState||navigator.userAgent.indexOf("Android 2.")>=0)&&(PDFJS.disableHistory=!0)}(),function(){var e,t,n;window.CanvasPixelArray?"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,n=this.length;n>t;t++)this[t]=e[t]}):(t=!1,navigator.userAgent.indexOf("Chrom")>=0?(e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=e&&parseInt(e[2])<21):navigator.userAgent.indexOf("Android")>=0?t=/Android\s[0-4][^\d]/g.test(navigator.userAgent):navigator.userAgent.indexOf("Safari")>=0&&(e=navigator.userAgent.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),t=e&&parseInt(e[1])<6),t&&(n=window.CanvasRenderingContext2D.prototype,n._createImageData=n.createImageData,n.createImageData=function(e,t){var n=this._createImageData(e,t);return n.data.set=function(e){for(var t=0,n=this.length;n>t;t++)this[t]=e[t]},n}))}(),function(){function e(e){window.setTimeout(e,20)}var t=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);return t?(window.requestAnimationFrame=e,void 0):("requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e),void 0)}(),function(){var e=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),t=/Android/g.test(navigator.userAgent);(e||t)&&(PDFJS.maxCanvasPixels=5242880)}();var mozL10n,CSS_UNITS,DEFAULT_SCALE,UNKNOWN_SCALE,MAX_AUTO_SCALE,SCROLLBAR_PADDING,VERTICAL_PADDING,DEFAULT_CACHE_SIZE,CustomStyle,ProgressBar,Cache,DEFAULT_PREFERENCES,SidebarView,Preferences,DownloadManager,ViewHistory,PDFFindBar,FindStates,PDFFindController,PDFHistory,SecondaryToolbar,DELAY_BEFORE_HIDING_CONTROLS,SELECTOR,DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS,PresentationMode,GrabToPan,HandTool,OverlayManager,PasswordPrompt,DocumentProperties,PresentationModeState,IGNORE_CURRENT_POSITION_ON_ZOOM,CLEANUP_TIMEOUT,RenderingStates,PDFRenderingQueue,PageView,FIND_SCROLL_OFFSET_TOP,FIND_SCROLL_OFFSET_LEFT,MAX_TEXT_DIVS_TO_RENDER,RENDER_DELAY,NonWhitespaceRegexp,TextLayerBuilder,PDFViewer,SimpleLinkService,PDFPageSource,PDFViewerApplication,THUMBNAIL_SCROLL_MARGIN,ThumbnailView,PDFThumbnailViewer,DocumentOutlineView,DocumentAttachmentsView,DEFAULT_URL="",DEFAULT_SCALE_DELTA=1.1,MIN_SCALE=.25,MAX_SCALE=10,VIEW_HISTORY_MEMORY=20,SCALE_SELECT_CONTAINER_PADDING=8,SCALE_SELECT_PADDING=22,PAGE_NUMBER_LOADING_INDICATOR="visiblePageIsLoading",DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT=5e3;PDFJS.imageResourcesPath="./images/",PDFJS.workerSrc="pdf.worker.min.js",PDFJS.cMapUrl="../pdfjs/cmaps/",PDFJS.cMapPacked=!0,mozL10n=document.mozL10n||document.webL10n,CSS_UNITS=96/72,DEFAULT_SCALE="auto",UNKNOWN_SCALE=0,MAX_AUTO_SCALE=1.25,SCROLLBAR_PADDING=40,VERTICAL_PADDING=5,DEFAULT_CACHE_SIZE=10,CustomStyle=function(){function e(){}var t=["ms","Moz","Webkit","O"],n={};return e.getProp=function(e,r){var i,s,o,u,f;if(1===arguments.length&&"string"==typeof n[e])return n[e];if(r=r||document.documentElement,o=r.style,"string"==typeof o[e])return n[e]=e;for(s=e.charAt(0).toUpperCase()+e.slice(1),u=0,f=t.length;f>u;u++)if(i=t[u]+s,"string"==typeof o[i])return n[e]=i;return n[e]="undefined"},e.setProp=function(e,t,n){var r=this.getProp(e);"undefined"!==r&&(t.style[r]=n)},e}(),ProgressBar=function(){function e(e,t,n){return Math.min(Math.max(e,t),n)}function t(e,t){this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=t.height||100,this.width=t.width||100,this.units=t.units||"%",this.div.style.height=this.height+this.units,this.percent=0}return t.prototype={updateBar:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units,void 0;this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units},get percent(){return this._percent},set percent(t){this._indeterminate=isNaN(t),this._percent=e(t,0,100),this.updateBar()},setWidth:function(e){var t,n;e&&(t=e.parentNode,n=t.offsetWidth-e.offsetWidth,n>0&&this.bar.setAttribute("style","width: calc(100% - "+n+"px);"))},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},t}(),Cache=function(e){var t=[];this.push=function(n){var r=t.indexOf(n);r>=0&&t.splice(r,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n){for(e=n;t.length>e;)t.shift().destroy()}},DEFAULT_PREFERENCES={showPreviousViewOnLoad:!0,defaultZoomValue:"",sidebarViewOnLoad:0,enableHandToolOnLoad:!1,enableWebGL:!1,pdfBugEnabled:!1,disableRange:!1,disableStream:!1,disableAutoFetch:!1,disableFontFace:!1,disableTextLayer:!1,useOnlyCssZoom:!1},SidebarView={NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3},Preferences={prefs:Object.create(DEFAULT_PREFERENCES),isInitializedPromiseResolved:!1,initializedPromise:null,initialize:function(){return this.initializedPromise=this._readFromStorage(DEFAULT_PREFERENCES).then(function(e){this.isInitializedPromiseResolved=!0,e&&(this.prefs=e)}.bind(this))},_writeToStorage:function(){return Promise.resolve()},_readFromStorage:function(){return Promise.resolve()},reset:function(){return this.initializedPromise.then(function(){return this.prefs=Object.create(DEFAULT_PREFERENCES),this._writeToStorage(DEFAULT_PREFERENCES)}.bind(this))},reload:function(){return this.initializedPromise.then(function(){this._readFromStorage(DEFAULT_PREFERENCES).then(function(e){e&&(this.prefs=e)}.bind(this))}.bind(this))},set:function(e,t){return this.initializedPromise.then(function(){var n,r;if(void 0===DEFAULT_PREFERENCES[e])throw new Error("preferencesSet: '"+e+"' is undefined.");if(void 0===t)throw new Error("preferencesSet: no value is specified.");if(n=typeof t,r=typeof DEFAULT_PREFERENCES[e],n!==r){if("number"!==n||"string"!==r)throw new Error("Preferences_set: '"+t+"' is a \""+n+'", expected "'+r+'".');t=t.toString()}else if("number"===n&&(0|t)!==t)throw new Error("Preferences_set: '"+t+'\' must be an "integer".');return this.prefs[e]=t,this._writeToStorage(this.prefs)}.bind(this))},get:function(e){return this.initializedPromise.then(function(){var t,n=DEFAULT_PREFERENCES[e];if(void 0===n)throw new Error("preferencesGet: '"+e+"' is undefined.");return t=this.prefs[e],void 0!==t?t:n}.bind(this))}},Preferences._writeToStorage=function(e){return new Promise(function(t){localStorage.setItem("pdfjs.preferences",JSON.stringify(e)),t()})},Preferences._readFromStorage=function(){return new Promise(function(e){var t=JSON.parse(localStorage.getItem("pdfjs.preferences"));e(t)})},function(){function e(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,!1,!1,"custom"),window.dispatchEvent(t)}function t(){if(i)if(r(),++s<i.length){var e=i[s];"function"==typeof e.mozPrintCallback?e.mozPrintCallback({context:e.getContext("2d"),abort:n,done:t}):t()}else r(),o.call(window),setTimeout(n,20)}function n(){i&&(i=null,r(),e("afterprint"))}function r(){var e,t,r,o=document.getElementById("mozPrintCallback-shim");i?(e=Math.round(100*s/i.length),t=o.querySelector("progress"),r=o.querySelector(".relative-progress"),t.value=e,r.textContent=e+"%",o.removeAttribute("hidden"),o.onclick=n):o.setAttribute("hidden","")}var i,s,o,u,a;"mozPrintCallback"in document.createElement("canvas")||(HTMLCanvasElement.prototype.mozPrintCallback=void 0,o=window.print,window.print=function(){if(i)return console.warn("Ignored window.print() because of a pending print job."),void 0;try{e("beforeprint")}finally{i=document.querySelectorAll("canvas"),s=-1,t()}},u=!!document.attachEvent,window.addEventListener("keydown",function(e){if(80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){if(window.print(),u)return;return e.preventDefault(),e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation(),void 0}27===e.keyCode&&i&&n()},!0),u&&document.attachEvent("onkeydown",function(e){return e=e||window.event,80===e.keyCode&&e.ctrlKey?(e.keyCode=0,!1):void 0}),"onbeforeprint"in window&&(a=function(e){"custom"!==e.detail&&e.stopImmediatePropagation&&e.stopImmediatePropagation()},window.addEventListener("beforeprint",a,!1),window.addEventListener("afterprint",a,!1)))}(),DownloadManager=function(){function e(e,t){var n,r=document.createElement("a");r.click?(r.href=e,r.target="_parent","download"in r&&(r.download=t),(document.body||document.documentElement).appendChild(r),r.click(),r.parentNode.removeChild(r)):(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]&&(n=-1===e.indexOf("?")?"?":"&",e=e.replace(/#|$/,n+"$&")),window.open(e,"_parent"))}function t(){}return t.prototype={downloadUrl:function(t,n){PDFJS.isValidUrl(t,!0)&&e(t+"#pdfjs.action=download",n)},downloadData:function(t,n,r){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([t],{type:r}),n);var i=PDFJS.createObjectURL(t,r);e(i,n)},download:function(t,n,r){if(!URL)return this.downloadUrl(n,r),void 0;if(navigator.msSaveBlob)return navigator.msSaveBlob(t,r)||this.downloadUrl(n,r),void 0;var i=URL.createObjectURL(t);e(i,r)}},t}(),ViewHistory=function(){function e(e){this.fingerprint=e,this.isInitializedPromiseResolved=!1,this.initializedPromise=this._readFromStorage().then(function(e){var t,n,r,i,s;this.isInitializedPromiseResolved=!0,t=JSON.parse(e||"{}"),"files"in t||(t.files=[]),t.files.length>=VIEW_HISTORY_MEMORY&&t.files.shift();for(r=0,i=t.files.length;i>r;r++)if(s=t.files[r],s.fingerprint===this.fingerprint){n=r;break}"number"!=typeof n&&(n=t.files.push({fingerprint:this.fingerprint})-1),this.file=t.files[n],this.database=t}.bind(this))}return e.prototype={_writeToStorage:function(){return new Promise(function(e){var t=JSON.stringify(this.database);localStorage.setItem("database",t),e()}.bind(this))},_readFromStorage:function(){return new Promise(function(e){e(localStorage.getItem("database"))})},set:function(e,t){return this.isInitializedPromiseResolved?(this.file[e]=t,this._writeToStorage()):void 0},setMultiple:function(e){if(this.isInitializedPromiseResolved){for(var t in e)this.file[t]=e[t];return this._writeToStorage()}},get:function(e,t){return this.isInitializedPromiseResolved?this.file[e]||t:t}},e}(),PDFFindBar=function(){function e(e){if(this.opened=!1,this.bar=e.bar||null,this.toggleButton=e.toggleButton||null,this.findField=e.findField||null,this.highlightAll=e.highlightAllCheckbox||null,this.caseSensitive=e.caseSensitiveCheckbox||null,this.findMsg=e.findMsg||null,this.findStatusIcon=e.findStatusIcon||null,this.findPreviousButton=e.findPreviousButton||null,this.findNextButton=e.findNextButton||null,this.findController=e.findController||null,null===this.findController)throw new Error("PDFFindBar cannot be used without a PDFFindController instance.");var t=this;this.toggleButton.addEventListener("click",function(){t.toggle()}),this.findField.addEventListener("input",function(){t.dispatchEvent("")}),this.bar.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.target===t.findField&&t.dispatchEvent("again",e.shiftKey);break;case 27:t.close()}}),this.findPreviousButton.addEventListener("click",function(){t.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",function(){t.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",function(){t.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",function(){t.dispatchEvent("casesensitivitychange")})}return e.prototype={dispatchEvent:function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent("find"+e,!0,!0,{query:this.findField.value,caseSensitive:this.caseSensitive.checked,highlightAll:this.highlightAll.checked,findPrevious:t}),window.dispatchEvent(n)},updateUIState:function(e,t){var n=!1,r="",i="";switch(e){case FindStates.FIND_FOUND:break;case FindStates.FIND_PENDING:i="pending";break;case FindStates.FIND_NOTFOUND:r=mozL10n.get("find_not_found",null,"Phrase not found"),n=!0;break;case FindStates.FIND_WRAPPED:r=t?mozL10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):mozL10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}n?this.findField.classList.add("notFound"):this.findField.classList.remove("notFound"),this.findField.setAttribute("data-status",i),this.findMsg.textContent=r},open:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden")),this.findField.select(),this.findField.focus()},close:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),this.findController.active=!1)},toggle:function(){this.opened?this.close():this.open()}},e}(),FindStates={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3},PDFFindController=function(){function e(e){var t,n,r,i;for(this.startedTextExtraction=!1,this.extractTextPromises=[],this.pendingFindMatches={},this.active=!1,this.pageContents=[],this.pageMatches=[],this.selected={pageIdx:-1,matchIdx:-1},this.offset={pageIdx:null,matchIdx:null},this.pagesToSearch=null,this.resumePageIdx=null,this.state=null,this.dirtyMatch=!1,this.findTimeout=null,this.pdfViewer=e.pdfViewer||null,this.integratedFind=e.integratedFind||!1,this.charactersToNormalize={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},this.findBar=e.findBar||null,t=Object.keys(this.charactersToNormalize).join(""),this.normalizationRegex=new RegExp("["+t+"]","g"),n=["find","findagain","findhighlightallchange","findcasesensitivitychange"],this.firstPagePromise=new Promise(function(e){this.resolveFirstPage=e}.bind(this)),this.handleEvent=this.handleEvent.bind(this),r=0,i=n.length;i>r;r++)window.addEventListener(n[r],this.handleEvent)}return e.prototype={setFindBar:function(e){this.findBar=e},reset:function(){this.startedTextExtraction=!1,this.extractTextPromises=[],this.active=!1},normalize:function(e){var t=this;return e.replace(this.normalizationRegex,function(e){return t.charactersToNormalize[e]})},calcFindMatch:function(e){var t,n,r=this.normalize(this.pageContents[e]),i=this.normalize(this.state.query),s=this.state.caseSensitive,o=i.length;if(0!==o){for(s||(r=r.toLowerCase(),i=i.toLowerCase()),t=[],n=-o;;){if(n=r.indexOf(i,n+o),-1===n)break;t.push(n)}this.pageMatches[e]=t,this.updatePage(e),this.resumePageIdx===e&&(this.resumePageIdx=null,this.nextPageMatch())}},extractText:function(){function e(n){i.pdfViewer.getPageTextContent(n).then(function(r){var s,o,u=r.items,f=[];for(s=0,o=u.length;o>s;s++)f.push(u[s].str);i.pageContents.push(f.join("")),t[n](n),n+1<i.pdfViewer.pagesCount&&e(n+1)})}var t,n,r,i;if(!this.startedTextExtraction){for(this.startedTextExtraction=!0,this.pageContents=[],t=[],n=this.pdfViewer.pagesCount,r=0;n>r;r++)this.extractTextPromises.push(new Promise(function(e){t.push(e)}));i=this,e(0)}},handleEvent:function(e){(null===this.state||"findagain"!==e.type)&&(this.dirtyMatch=!0),this.state=e.detail,this.updateUIState(FindStates.FIND_PENDING),this.firstPagePromise.then(function(){this.extractText(),clearTimeout(this.findTimeout),"find"===e.type?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(e){var t=this.pdfViewer.getPageView(e);this.selected.pageIdx===e&&this.pdfViewer.scrollPageIntoView(e+1),t.textLayer&&t.textLayer.updateMatches()},nextMatch:function(){var e,t,n,r,i=this.state.findPrevious,s=this.pdfViewer.currentPageNumber-1,o=this.pdfViewer.pagesCount;if(this.active=!0,this.dirtyMatch)for(this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=s,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[],e=this,t=0;o>t;t++)this.updatePage(t),t in this.pendingFindMatches||(this.pendingFindMatches[t]=!0,this.extractTextPromises[t].then(function(t){delete e.pendingFindMatches[t],e.calcFindMatch(t)}));if(""===this.state.query)return this.updateUIState(FindStates.FIND_FOUND),void 0;if(!this.resumePageIdx){if(n=this.offset,this.pagesToSearch=o,null!==n.matchIdx){if(r=this.pageMatches[n.pageIdx].length,!i&&n.matchIdx+1<r||i&&n.matchIdx>0)return this.hadMatch=!0,n.matchIdx=i?n.matchIdx-1:n.matchIdx+1,this.updateMatch(!0),void 0;this.advanceOffsetPage(i)}this.nextPageMatch()}},matchesReady:function(e){var t=this.offset,n=e.length,r=this.state.findPrevious;return n?(this.hadMatch=!0,t.matchIdx=r?n-1:0,this.updateMatch(!0),!0):(this.advanceOffsetPage(r),t.wrapped&&(t.matchIdx=null,this.pagesToSearch<0)?(this.updateMatch(!1),!0):!1)},nextPageMatch:function(){var e,t;null!==this.resumePageIdx&&console.error("There can only be one pending page.");do if(e=this.offset.pageIdx,t=this.pageMatches[e],!t){this.resumePageIdx=e;break}while(!this.matchesReady(t))},advanceOffsetPage:function(e){var t=this.offset,n=this.extractTextPromises.length;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this.pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)},updateMatch:function(e){var t,n=FindStates.FIND_NOTFOUND,r=this.offset.wrapped;this.offset.wrapped=!1,e&&(t=this.selected.pageIdx,this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,n=r?FindStates.FIND_WRAPPED:FindStates.FIND_FOUND,-1!==t&&t!==this.selected.pageIdx&&this.updatePage(t)),this.updateUIState(n,this.state.findPrevious),-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)},updateUIState:function(e,t){if(this.integratedFind)return FirefoxCom.request("updateFindControlState",{result:e,findPrevious:t}),void 0;if(null===this.findBar)throw new Error("PDFFindController is not initialized with a PDFFindBar instance.");this.findBar.updateUIState(e,t)}},e}(),PDFHistory={initialized:!1,initialDestination:null,initialize:function(e,t){function n(){var e,t=i._getPreviousParams(null,!0);t&&(e=!i.current.dest&&i.current.hash!==i.previousHash,i._pushToHistory(t,!1,e),i._updatePreviousBookmark()),window.removeEventListener("beforeunload",n,!1)}var r,i;this.initialized=!0,this.reInitialized=!1,this.allowHashChange=!0,this.historyUnlocked=!0,this.previousHash=window.location.hash.substring(1),this.currentBookmark="",this.currentPage=0,this.updatePreviousBookmark=!1,this.previousBookmark="",this.previousPage=0,this.nextHashParam="",this.fingerprint=e,this.linkService=t,this.currentUid=this.uid=0,this.current={},r=window.history.state,this._isStateObjectDefined(r)?(r.target.dest?this.initialDestination=r.target.dest:t.setHash(r.target.hash),this.currentUid=r.uid,this.uid=r.uid+1,this.current=r.target):(r&&r.fingerprint&&this.fingerprint!==r.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0)),i=this,window.addEventListener("popstate",function(e){if(e.preventDefault(),e.stopPropagation(),i.historyUnlocked)if(e.state)i._goTo(e.state);else{if(i.previousHash=window.location.hash.substring(1),0===i.uid){var t=i.previousHash&&i.currentBookmark&&i.previousHash!==i.currentBookmark?{hash:i.currentBookmark,page:i.currentPage}:{page:1};i.historyUnlocked=!1,i.allowHashChange=!1,window.history.back(),i._pushToHistory(t,!1,!0),window.history.forward(),i.historyUnlocked=!0}i._pushToHistory({hash:i.previousHash},!1,!0),i._updatePreviousBookmark()}},!1),window.addEventListener("beforeunload",n,!1),window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",n,!1)},!1)},_isStateObjectDefined:function(e){return e&&e.uid>=0&&e.fingerprint&&this.fingerprint===e.fingerprint&&e.target&&e.target.hash?!0:!1},_pushOrReplaceState:function(e,t){t?window.history.replaceState(e,"",document.URL):window.history.pushState(e,"",document.URL)},get isHashChangeUnlocked(){if(!this.initialized)return!0;var e=this.allowHashChange;return this.allowHashChange=!0,e},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(e,t){this.initialized&&(this.currentBookmark=e.substring(1),this.currentPage=0|t,this._updatePreviousBookmark())},updateNextHashParam:function(e){this.initialized&&(this.nextHashParam=e)},push:function(e,t){if(this.initialized&&this.historyUnlocked){if(e.dest&&!e.hash&&(e.hash=this.current.hash&&this.current.dest&&this.current.dest===e.dest?this.current.hash:this.linkService.getDestinationHash(e.dest).split("#")[1]),e.page&&(e.page|=0),t){var n=window.history.state.target;return n||(this._pushToHistory(e,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=this.nextHashParam?!1:!0,n&&this._updatePreviousBookmark(),void 0}if(this.nextHashParam){if(this.nextHashParam===e.hash)return this.nextHashParam=null,this.updatePreviousBookmark=!0,void 0;this.nextHashParam=null}e.hash?this.current.hash?this.current.hash!==e.hash?this._pushToHistory(e,!0):(!this.current.page&&e.page&&this._pushToHistory(e,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(e,!0):this.current.page&&e.page&&this.current.page!==e.page&&this._pushToHistory(e,!0)}},_getPreviousParams:function(e,t){if(!this.currentBookmark||!this.currentPage)return null;if(this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1),this.uid>0&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!e||t){if(this.previousBookmark===this.currentBookmark)return null}else{if(!this.current.page&&!e)return null;if(this.previousPage===this.currentPage)return null}var n={hash:this.currentBookmark,page:this.currentPage};return PresentationMode.active&&(n.hash=null),n},_stateObj:function(e){return{fingerprint:this.fingerprint,uid:this.uid,target:e}},_pushToHistory:function(e,t,n){var r,i;this.initialized&&(!e.hash&&e.page&&(e.hash="page="+e.page),t&&!n&&(r=this._getPreviousParams(),r&&(i=!this.current.dest&&this.current.hash!==this.previousHash,this._pushToHistory(r,!1,i))),this._pushOrReplaceState(this._stateObj(e),n||0===this.uid),this.currentUid=this.uid++,this.current=e,this.updatePreviousBookmark=!0)},_goTo:function(e){var t,n;if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(e)){if(!this.reInitialized&&e.uid<this.currentUid&&(t=this._getPreviousParams(!0)))return this._pushToHistory(this.current,!1),this._pushToHistory(t,!1),this.currentUid=e.uid,window.history.back(),void 0;this.historyUnlocked=!1,e.target.dest?this.linkService.navigateTo(e.target.dest):this.linkService.setHash(e.target.hash),this.currentUid=e.uid,e.uid>this.uid&&(this.uid=e.uid),this.current=e.target,this.updatePreviousBookmark=!0,n=window.location.hash.substring(1),this.previousHash!==n&&(this.allowHashChange=!1),this.previousHash=n,this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(e){if(this.initialized&&this.historyUnlocked){var t=window.history.state;-1===e&&t&&t.uid>0?window.history.back():1===e&&t&&t.uid<this.uid-1&&window.history.forward()}}},SecondaryToolbar={opened:!1,previousContainerHeight:null,newContainerHeight:null,initialize:function(e){var t,n,r;this.toolbar=e.toolbar,this.presentationMode=e.presentationMode,this.documentProperties=e.documentProperties,this.buttonContainer=this.toolbar.firstElementChild,this.toggleButton=e.toggleButton,this.presentationModeButton=e.presentationModeButton,this.print=e.print,this.download=e.download,this.viewBookmark=e.viewBookmark,this.firstPage=e.firstPage,this.lastPage=e.lastPage,this.pageRotateCw=e.pageRotateCw,this.pageRotateCcw=e.pageRotateCcw,this.documentPropertiesButton=e.documentPropertiesButton,t=[{element:this.toggleButton,handler:this.toggle},{element:this.presentationModeButton,handler:this.presentationModeClick},{element:this.print,handler:this.printClick},{element:this.download,handler:this.downloadClick},{element:this.viewBookmark,handler:this.viewBookmarkClick},{element:this.firstPage,handler:this.firstPageClick},{element:this.lastPage,handler:this.lastPageClick},{element:this.pageRotateCw,handler:this.pageRotateCwClick},{element:this.pageRotateCcw,handler:this.pageRotateCcwClick},{element:this.documentPropertiesButton,handler:this.documentPropertiesClick}];for(n in t)r=t[n].element,r&&r.addEventListener("click",t[n].handler.bind(this))},presentationModeClick:function(){this.presentationMode.request(),this.close()},openFileClick:function(){document.getElementById("fileInput").click(),this.close()},printClick:function(){window.print(),this.close()},downloadClick:function(){PDFViewerApplication.download(),this.close()},viewBookmarkClick:function(){this.close()},firstPageClick:function(){PDFViewerApplication.page=1,this.close()},lastPageClick:function(){PDFViewerApplication.pdfDocument&&(PDFViewerApplication.page=PDFViewerApplication.pagesCount),this.close()},pageRotateCwClick:function(){PDFViewerApplication.rotatePages(90)},pageRotateCcwClick:function(){PDFViewerApplication.rotatePages(-90)},documentPropertiesClick:function(){this.documentProperties.open(),this.close()},setMaxHeight:function(e){e&&this.buttonContainer&&(this.newContainerHeight=e.clientHeight,this.previousContainerHeight!==this.newContainerHeight&&(this.buttonContainer.setAttribute("style","max-height: "+(this.newContainerHeight-SCROLLBAR_PADDING)+"px;"),this.previousContainerHeight=this.newContainerHeight))},open:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))},close:function(e){this.opened&&(!e||this.toolbar.contains(e))&&(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled"))},toggle:function(){this.opened?this.close():this.open()}},DELAY_BEFORE_HIDING_CONTROLS=3e3,SELECTOR="presentationControls",DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS=1e3,PresentationMode={active:!1,args:null,contextMenuOpen:!1,prevCoords:{x:null,y:null},initialize:function(e){this.container=e.container,this.secondaryToolbar=e.secondaryToolbar,this.viewer=this.container.firstElementChild,this.firstPage=e.firstPage,this.lastPage=e.lastPage,this.pageRotateCw=e.pageRotateCw,this.pageRotateCcw=e.pageRotateCcw,this.firstPage.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.firstPageClick()}.bind(this)),this.lastPage.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.lastPageClick()}.bind(this)),this.pageRotateCw.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.pageRotateCwClick()}.bind(this)),this.pageRotateCcw.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.pageRotateCcwClick()}.bind(this))},get isFullscreen(){return document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement},_setSwitchInProgress:function(){this.switchInProgress&&clearTimeout(this.switchInProgress),this.switchInProgress=setTimeout(function(){delete this.switchInProgress,this._notifyStateChange()}.bind(this),DELAY_BEFORE_RESETTING_SWITCH_IN_PROGRESS)},_resetSwitchInProgress:function(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)},request:function(){if(!PDFViewerApplication.supportsFullscreen||this.isFullscreen||!this.viewer.hasChildNodes())return!1;if(this._setSwitchInProgress(),this._notifyStateChange(),this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullScreen)this.container.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!this.container.msRequestFullscreen)return!1;this.container.msRequestFullscreen()}return this.args={page:PDFViewerApplication.page,previousScale:PDFViewerApplication.currentScaleValue},!0},_notifyStateChange:function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("presentationmodechanged",!0,!0,{active:PresentationMode.active,switchInProgress:!!PresentationMode.switchInProgress}),window.dispatchEvent(e)},enter:function(){this.active=!0,this._resetSwitchInProgress(),this._notifyStateChange(),setTimeout(function(){PDFViewerApplication.page=this.args.page,PDFViewerApplication.setScale("page-fit",!0)}.bind(this),0),window.addEventListener("mousemove",this.mouseMove,!1),window.addEventListener("mousedown",this.mouseDown,!1),window.addEventListener("contextmenu",this.contextMenu,!1),this.showControls(),HandTool.enterPresentationMode(),this.contextMenuOpen=!1,this.container.setAttribute("contextmenu","viewerContextMenu"),window.getSelection().removeAllRanges()},exit:function(){var e=PDFViewerApplication.page;setTimeout(function(){this.active=!1,this._notifyStateChange(),PDFViewerApplication.setScale(this.args.previousScale,!0),PDFViewerApplication.page=e,this.args=null}.bind(this),0),window.removeEventListener("mousemove",this.mouseMove,!1),window.removeEventListener("mousedown",this.mouseDown,!1),window.removeEventListener("contextmenu",this.contextMenu,!1),this.hideControls(),PDFViewerApplication.clearMouseScrollState(),HandTool.exitPresentationMode(),this.container.removeAttribute("contextmenu"),this.contextMenuOpen=!1,scrollIntoView(document.getElementById("thumbnailContainer"+e))},showControls:function(){this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(SELECTOR),this.controlsTimeout=setTimeout(function(){this.container.classList.remove(SELECTOR),delete this.controlsTimeout}.bind(this),DELAY_BEFORE_HIDING_CONTROLS)},hideControls:function(){this.controlsTimeout&&(this.container.classList.remove(SELECTOR),clearTimeout(this.controlsTimeout),delete this.controlsTimeout)},mouseMove:function(e){var t={x:e.clientX,y:e.clientY},n=PresentationMode.prevCoords;PresentationMode.prevCoords=t,(t.x!==n.x||t.y!==n.y)&&PresentationMode.showControls()},mouseDown:function(e){var t,n=PresentationMode;return n.contextMenuOpen?(n.contextMenuOpen=!1,e.preventDefault(),void 0):(0===e.button&&(t=e.target.href&&e.target.classList.contains("internalLink"),t||(e.preventDefault(),PDFViewerApplication.page+=e.shiftKey?-1:1)),void 0)},contextMenu:function(){PresentationMode.contextMenuOpen=!0}},function(){function e(){PresentationMode.isFullscreen?PresentationMode.enter():PresentationMode.exit()}window.addEventListener("fullscreenchange",e,!1),window.addEventListener("mozfullscreenchange",e,!1),window.addEventListener("webkitfullscreenchange",e,!1),window.addEventListener("MSFullscreenChange",e,!1)}(),GrabToPan=function(){function e(e){this.element=e.element,this.document=e.element.ownerDocument,"function"==typeof e.ignoreTarget&&(this.ignoreTarget=e.ignoreTarget),this.onActiveChanged=e.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onmousedown=this._onmousedown.bind(this),this._onmousemove=this._onmousemove.bind(this),this._endPan=this._endPan.bind(this);var t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}function t(e){return"buttons"in e&&r?!(1|e.buttons):s||o?0===e.which:void 0}var n,r,i,s,o;return e.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!0))},deactivate:function(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!1))},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(e){return e[n]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(e){if(0===e.button&&!this.ignoreTarget(e.target)){if(e.originalTarget)try{e.originalTarget.tagName}catch(t){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=e.clientX,this.clientYStart=e.clientY,this.document.addEventListener("mousemove",this._onmousemove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),e.preventDefault(),e.stopPropagation(),this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);var n=document.activeElement;n&&!n.contains(e.target)&&n.blur()}},_onmousemove:function(e){var n,r;return this.element.removeEventListener("scroll",this._endPan,!0),t(e)?(this._endPan(),void 0):(n=e.clientX-this.clientXStart,r=e.clientY-this.clientYStart,this.element.scrollTop=this.scrollTopStart-r,this.element.scrollLeft=this.scrollLeftStart-n,this.overlay.parentNode||document.body.appendChild(this.overlay),void 0)},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onmousemove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}},["webkitM","mozM","msM","oM","m"].some(function(e){var t=e+"atches";return t in document.documentElement&&(n=t),t+="Selector",t in document.documentElement&&(n=t),n}),r=!document.documentMode||document.documentMode>9,i=window.chrome,s=i&&(i.webstore||i.app),o=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent),e}(),HandTool={initialize:function(e){var t=e.toggleHandTool;this.handTool=new GrabToPan({element:e.container,onActiveChanged:function(e){t&&(e?(t.title=mozL10n.get("hand_tool_disable.title",null,"Disable hand tool"),t.firstElementChild.textContent=mozL10n.get("hand_tool_disable_label",null,"Disable hand tool")):(t.title=mozL10n.get("hand_tool_enable.title",null,"Enable hand tool"),t.firstElementChild.textContent=mozL10n.get("hand_tool_enable_label",null,"Enable hand tool")))}}),t&&(t.addEventListener("click",this.toggle.bind(this),!1),window.addEventListener("localized",function(){Preferences.get("enableHandToolOnLoad").then(function(e){e&&this.handTool.activate()}.bind(this),function(){})}.bind(this)))},toggle:function(){this.handTool.toggle(),SecondaryToolbar.close()},enterPresentationMode:function(){this.handTool.active&&(this.wasActive=!0,this.handTool.deactivate())},exitPresentationMode:function(){this.wasActive&&(this.wasActive=null,this.handTool.activate())}},OverlayManager={overlays:{},active:null,register:function(e,t,n){return new Promise(function(r){var i,s;if(!(e&&(i=document.getElementById(e))&&(s=i.parentNode)))throw new Error("Not enough parameters.");if(this.overlays[e])throw new Error("The overlay is already registered.");this.overlays[e]={element:i,container:s,callerCloseMethod:t||null,canForceClose:n||!1},r()}.bind(this))},unregister:function(e){return new Promise(function(t){if(!this.overlays[e])throw new Error("The overlay does not exist.");if(this.active===e)throw new Error("The overlay cannot be removed while it is active.");delete this.overlays[e],t()}.bind(this))},open:function(e){return new Promise(function(t){if(!this.overlays[e])throw new Error("The overlay does not exist.");if(this.active){if(!this.overlays[e].canForceClose)throw this.active===e?new Error("The overlay is already active."):new Error("Another overlay is currently active.");this._closeThroughCaller()}this.active=e,this.overlays[this.active].element.classList.remove("hidden"),this.overlays[this.active].container.classList.remove("hidden"),window.addEventListener("keydown",this._keyDown),t()}.bind(this))},close:function(e){return new Promise(function(t){if(!this.overlays[e])throw new Error("The overlay does not exist.");if(!this.active)throw new Error("The overlay is currently not active.");if(this.active!==e)throw new Error("Another overlay is currently active.");this.overlays[this.active].container.classList.add("hidden"),this.overlays[this.active].element.classList.add("hidden"),this.active=null,window.removeEventListener("keydown",this._keyDown),t()}.bind(this))},_keyDown:function(e){var t=OverlayManager;t.active&&27===e.keyCode&&(t._closeThroughCaller(),e.preventDefault())},_closeThroughCaller:function(){this.overlays[this.active].callerCloseMethod&&this.overlays[this.active].callerCloseMethod(),this.active&&this.close(this.active)}},PasswordPrompt={overlayName:null,updatePassword:null,reason:null,passwordField:null,passwordText:null,passwordSubmit:null,passwordCancel:null,initialize:function(e){this.overlayName=e.overlayName,this.passwordField=e.passwordField,this.passwordText=e.passwordText,this.passwordSubmit=e.passwordSubmit,this.passwordCancel=e.passwordCancel,this.passwordSubmit.addEventListener("click",this.verifyPassword.bind(this)),this.passwordCancel.addEventListener("click",this.close.bind(this)),this.passwordField.addEventListener("keydown",function(e){13===e.keyCode&&this.verifyPassword()}.bind(this)),OverlayManager.register(this.overlayName,this.close.bind(this),!0)},open:function(){OverlayManager.open(this.overlayName).then(function(){this.passwordField.focus();var e=mozL10n.get("password_label",null,"Enter the password to open this PDF file.");this.reason===PDFJS.PasswordResponses.INCORRECT_PASSWORD&&(e=mozL10n.get("password_invalid",null,"Invalid password. Please try again.")),this.passwordText.textContent=e}.bind(this))},close:function(){OverlayManager.close(this.overlayName).then(function(){this.passwordField.value=""}.bind(this))},verifyPassword:function(){var e=this.passwordField.value;return e&&e.length>0?(this.close(),this.updatePassword(e)):void 0}},DocumentProperties={overlayName:null,rawFileSize:0,fileNameField:null,fileSizeField:null,titleField:null,authorField:null,subjectField:null,keywordsField:null,creationDateField:null,modificationDateField:null,creatorField:null,producerField:null,versionField:null,pageCountField:null,url:null,pdfDocument:null,initialize:function(e){this.overlayName=e.overlayName,this.fileNameField=e.fileNameField,this.fileSizeField=e.fileSizeField,this.titleField=e.titleField,this.authorField=e.authorField,this.subjectField=e.subjectField,this.keywordsField=e.keywordsField,this.creationDateField=e.creationDateField,this.modificationDateField=e.modificationDateField,this.creatorField=e.creatorField,this.producerField=e.producerField,this.versionField=e.versionField,this.pageCountField=e.pageCountField,e.closeButton&&e.closeButton.addEventListener("click",this.close.bind(this)),this.dataAvailablePromise=new Promise(function(e){this.resolveDataAvailable=e}.bind(this)),OverlayManager.register(this.overlayName,this.close.bind(this))},getProperties:function(){OverlayManager.active&&(this.pdfDocument.getDownloadInfo().then(function(e){e.length!==this.rawFileSize&&(this.setFileSize(e.length),this.updateUI(this.fileSizeField,this.parseFileSize()))}.bind(this)),this.pdfDocument.getMetadata().then(function(e){var t,n,r=[{field:this.fileNameField,content:getPDFFileNameFromURL(this.url)},{field:this.fileSizeField,content:this.parseFileSize()},{field:this.titleField,content:e.info.Title},{field:this.authorField,content:e.info.Author},{field:this.subjectField,content:e.info.Subject},{field:this.keywordsField,content:e.info.Keywords},{field:this.creationDateField,content:this.parseDate(e.info.CreationDate)},{field:this.modificationDateField,content:this.parseDate(e.info.ModDate)},{field:this.creatorField,content:e.info.Creator},{field:this.producerField,content:e.info.Producer},{field:this.versionField,content:e.info.PDFFormatVersion},{field:this.pageCountField,content:this.pdfDocument.numPages}];for(t in r)n=r[t],this.updateUI(n.field,n.content)}.bind(this)))},updateUI:function(e,t){e&&void 0!==t&&""!==t&&(e.textContent=t)},setFileSize:function(e){e>0&&(this.rawFileSize=e)},parseFileSize:function(){var e=this.rawFileSize,t=e/1024;return t?1024>t?mozL10n.get("document_properties_kb",{size_kb:(+t.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"):mozL10n.get("document_properties_mb",{size_mb:(+(t/1024).toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"):void 0},open:function(){Promise.all([OverlayManager.open(this.overlayName),this.dataAvailablePromise]).then(function(){this.getProperties()}.bind(this))},close:function(){OverlayManager.close(this.overlayName)},parseDate:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p=e;return void 0===p?"":("D:"===p.substring(0,2)&&(p=p.substring(2)),t=parseInt(p.substring(0,4),10),n=parseInt(p.substring(4,6),10)-1,r=parseInt(p.substring(6,8),10),i=parseInt(p.substring(8,10),10),s=parseInt(p.substring(10,12),10),o=parseInt(p.substring(12,14),10),u=p.substring(14,15),a=parseInt(p.substring(15,17),10),f=parseInt(p.substring(18,20),10),"-"===u?(i+=a,s+=f):"+"===u&&(i-=a,s-=f),l=new Date(Date.UTC(t,n,r,i,s,o)),c=l.toLocaleDateString(),h=l.toLocaleTimeString(),mozL10n.get("document_properties_date_string",{date:c,time:h},"{{date}}, {{time}}"))}},PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},IGNORE_CURRENT_POSITION_ON_ZOOM=!1,CLEANUP_TIMEOUT=3e4,RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},PDFRenderingQueue=function(){function e(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return e.prototype={setViewer:function(e){this.pdfViewer=e},setThumbnailViewer:function(e){this.pdfThumbnailViewer=e},isHighestPriority:function(e){return this.highestPriorityPage===e.renderingId},renderHighestPriority:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),CLEANUP_TIMEOUT))},getHighestPriority:function(e,t,n){var r,i,s,o,u=e.views,a=u.length;if(0===a)return!1;for(r=0;a>r;++r)if(i=u[r].view,!this.isViewFinished(i))return i;if(n){if(s=e.last.id,t[s]&&!this.isViewFinished(t[s]))return t[s]}else if(o=e.first.id-2,t[o]&&!this.isViewFinished(t[o]))return t[o];return null},isViewFinished:function(e){return e.renderingState===RenderingStates.FINISHED},renderView:function(e){var t=e.renderingState;switch(t){case RenderingStates.FINISHED:return!1;case RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId,e.draw(this.renderHighestPriority.bind(this))}return!0}},e}(),PageView=function(e,t,n,r,i,s,o,u,a){function f(e,t,n){function r(e,t){e.href=i.getDestinationHash(t),e.onclick=function(){return t&&i.navigateTo(t),!1},t&&(e.className="internalLink")}function s(e,t){e.href=i.getAnchorUrl(""),e.onclick=function(){return i.executeNamedAction(t),!1},e.className="internalLink"}t.getAnnotations().then(function(i){var o,u,a,f,l,c,p,v,m,g,y;if(n=n.clone({dontFlip:!0}),o=n.transform,u="matrix("+o.join(",")+")",h.annotationLayer){for(l=0,c=i.length;c>l;l++)a=i[l],f=h.annotationLayer.querySelector('[data-annotation-id="'+a.id+'"]'),f&&CustomStyle.setProp("transform",f,u);h.annotationLayer.removeAttribute("hidden")}else for(l=0,c=i.length;c>l;l++)a=i[l],a&&a.hasHtml&&(f=PDFJS.AnnotationUtils.getHtmlElement(a,t.commonObjs),f.setAttribute("data-annotation-id",a.id),mozL10n.translate(f),p=a.rect,v=t.view,p=PDFJS.Util.normalizeRect([p[0],v[3]-p[1]+v[1],p[2],v[3]-p[3]+v[1]]),f.style.left=p[0]+"px",f.style.top=p[1]+"px",f.style.position="absolute",CustomStyle.setProp("transform",f,u),m=-p[0]+"px "+ -p[1]+"px",CustomStyle.setProp("transformOrigin",f,m),"Link"!==a.subtype||a.url||(g=f.getElementsByTagName("a")[0],g&&(a.action?s(g,a.action):r(g,"dest"in a?a.dest:null))),h.annotationLayer||(y=document.createElement("div"),y.className="annotationLayer",e.appendChild(y),h.annotationLayer=y),h.annotationLayer.appendChild(f))})}var l,c,h;this.id=t,this.renderingId="page"+t,this.rotation=0,this.scale=n||1,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.linkService=i,this.renderingQueue=s,this.cache=o,this.pageSource=u,this.viewer=a,this.renderingState=RenderingStates.INITIAL,this.resume=null,this.textLayer=null,this.zoomLayer=null,this.annotationLayer=null,l=document.createElement("a"),l.name=""+this.id,c=this.el=document.createElement("div"),c.id="pageContainer"+this.id,c.className="page",c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px",e.appendChild(l),e.appendChild(c),this.setPdfPage=function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(this.scale*CSS_UNITS,t),this.stats=e.stats,this.reset()},this.destroy=function(){this.zoomLayer=null,this.reset(),this.pdfPage&&this.pdfPage.destroy()},this.reset=function(e){var t,n,r;for(this.renderTask&&this.renderTask.cancel(),this.resume=null,this.renderingState=RenderingStates.INITIAL,c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px",t=c.childNodes,n=c.childNodes.length-1;n>=0;n--)r=t[n],this.zoomLayer&&this.zoomLayer===r||e&&this.annotationLayer===r||c.removeChild(r);c.removeAttribute("data-loaded"),e?this.annotationLayer&&this.annotationLayer.setAttribute("hidden","true"):this.annotationLayer=null,this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",c.appendChild(this.loadingIconDiv)},this.update=function(e,t){var n,r,i,s,o;return this.scale=e||this.scale,"undefined"!=typeof t&&(this.rotation=t),n=(this.rotation+this.pdfPageRotate)%360,this.viewport=this.viewport.clone({scale:this.scale*CSS_UNITS,rotation:n}),r=!1,this.canvas&&PDFJS.maxCanvasPixels>0&&(i=this.canvas.getContext("2d"),s=getOutputScale(i),o=this.viewport.width*this.viewport.height,Math.sqrt(PDFJS.maxCanvasPixels/o),(0|Math.floor(this.viewport.width)*s.sx)*(0|Math.floor(this.viewport.height)*s.sy)>PDFJS.maxCanvasPixels&&(r=!0)),this.canvas&&(PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&r)?(this.cssTransform(this.canvas,!0),void 0):(this.canvas&&!this.zoomLayer&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute"),this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0),void 0)},this.cssTransform=function(e,t){var n,r,i,s,o,u,a,l,h,p,d,v,g=this.viewport.width,y=this.viewport.height;if(e.style.width=e.parentNode.style.width=c.style.width=Math.floor(g)+"px",e.style.height=e.parentNode.style.height=c.style.height=Math.floor(y)+"px",n=this.viewport.rotation-e._viewport.rotation,r=Math.abs(n),i=1,s=1,(90===r||270===r)&&(i=y/g,s=g/y),o="rotate("+n+"deg) "+"scale("+i+","+s+")",CustomStyle.setProp("transform",e,o),this.textLayer){switch(u=this.textLayer.viewport,a=this.viewport.rotation-u.rotation,l=Math.abs(a),h=g/u.width,(90===l||270===l)&&(h=g/u.height),p=this.textLayer.textLayerDiv,l){case 0:d=v=0;break;case 90:d=0,v="-"+p.style.height;break;case 180:d="-"+p.style.width,v="-"+p.style.height;break;case 270:d="-"+p.style.width,v=0;break;default:console.error("Bad rotation value.")}CustomStyle.setProp("transform",p,"rotate("+l+"deg) "+"scale("+h+", "+h+") "+"translate("+d+", "+v+")"),CustomStyle.setProp("transformOrigin",p,"0% 0%")}t&&this.annotationLayer&&f(c,this.pdfPage,this.viewport)},Object.defineProperty(this,"width",{get:function(){return this.viewport.width},enumerable:!0}),Object.defineProperty(this,"height",{get:function(){return this.viewport.height},enumerable:!0}),h=this,this.getPagePoint=function(e,t){return this.viewport.convertToPdfPoint(e,t)},this.draw=function(e){function t(t){if(w===y.renderTask&&(y.renderTask=null),"cancelled"!==t){y.renderingState=RenderingStates.FINISHED,y.loadingIconDiv&&(c.removeChild(y.loadingIconDiv),delete y.loadingIconDiv),y.zoomLayer&&(c.removeChild(y.zoomLayer),y.zoomLayer=null),y.error=t,y.stats=E.stats,y.updateStats(),y.onAfterDraw&&y.onAfterDraw();var n=document.createEvent("CustomEvent");n.initCustomEvent("pagerender",!0,!0,{pageNumber:E.pageNumber}),c.dispatchEvent(n),e()}}var n,r,i,s,u,a,l,h,p,d,v,y,b,w,E=this.pdfPage;if(!this.pagePdfPromise){if(!E)return n=this.pageSource.getPage(),n.then(function(t){delete this.pagePdfPromise,this.setPdfPage(t),this.draw(e)}.bind(this)),this.pagePdfPromise=n,void 0;this.renderingState!==RenderingStates.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=RenderingStates.RUNNING,r=this.viewport,i=document.createElement("div"),i.style.width=c.style.width,i.style.height=c.style.height,i.classList.add("canvasWrapper"),s=document.createElement("canvas"),s.id="page"+this.id,i.appendChild(s),this.annotationLayer?c.insertBefore(i,this.annotationLayer):c.appendChild(i),this.canvas=s,u=s.getContext("2d"),a=getOutputScale(u),PDFJS.useOnlyCssZoom&&(l=r.clone({scale:CSS_UNITS}),a.sx*=l.width/r.width,a.sy*=l.height/r.height,a.scaled=!0),PDFJS.maxCanvasPixels>0&&(h=r.width*r.height,p=Math.sqrt(PDFJS.maxCanvasPixels/h),a.sx>p||a.sy>p?(a.sx=p,a.sy=p,a.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1),s.width=0|Math.floor(r.width)*a.sx,s.height=0|Math.floor(r.height)*a.sy,s.style.width=Math.floor(r.width)+"px",s.style.height=Math.floor(r.height)+"px",s._viewport=r,d=null,v=null,PDFJS.disableTextLayer||(d=document.createElement("div"),d.className="textLayer",d.style.width=s.style.width,d.style.height=s.style.height,this.annotationLayer?c.insertBefore(d,this.annotationLayer):c.appendChild(d),v=this.viewer.createTextLayerBuilder(d,this.id-1,this.viewport)),this.textLayer=v,u._scaleX=a.sx,u._scaleY=a.sy,a.scaled&&u.scale(a.sx,a.sy),y=this,b={canvasContext:u,viewport:this.viewport,continueCallback:function(e){return y.renderingQueue.isHighestPriority(y)?(e(),void 0):(y.renderingState=RenderingStates.PAUSED,y.resume=function(){y.renderingState=RenderingStates.RUNNING,e()},void 0)}},w=this.renderTask=this.pdfPage.render(b),this.renderTask.promise.then(function(){t(null),v&&y.pdfPage.getTextContent().then(function(e){v.setTextContent(e)})},function(e){t(e)}),f(c,E,this.viewport),c.setAttribute("data-loaded",!0),o.push(this)}},this.beforePrint=function(){var e,t,n,r=this.pdfPage,i=r.getViewport(1),s=2,o=document.createElement("canvas");o.width=Math.floor(i.width)*s,o.height=Math.floor(i.height)*s,o.style.width=s*i.width+"pt",o.style.height=s*i.height+"pt",e="scale("+1/s+", "+1/s+")",CustomStyle.setProp("transform",o,e),CustomStyle.setProp("transformOrigin",o,"0% 0%"),t=document.getElementById("printContainer"),n=document.createElement("div"),n.style.width=i.width+"pt",n.style.height=i.height+"pt",n.appendChild(o),t.appendChild(n),o.mozPrintCallback=function(e){var t,n=e.context;n.save(),n.fillStyle="rgb(255, 255, 255)",n.fillRect(0,0,o.width,o.height),n.restore(),n.scale(s,s),t={canvasContext:n,viewport:i,intent:"print"},r.render(t).promise.then(function(){e.done()},function(t){console.error(t),"abort"in e?e.abort():e.done()})}},this.updateStats=function(){if(this.stats&&PDFJS.pdfBug&&Stats.enabled){var e=this.stats;Stats.add(this.id,e)}}},FIND_SCROLL_OFFSET_TOP=-50,FIND_SCROLL_OFFSET_LEFT=-400,MAX_TEXT_DIVS_TO_RENDER=1e5,RENDER_DELAY=200,NonWhitespaceRegexp=/\S/,TextLayerBuilder=function(){function e(e){this.textLayerDiv=e.textLayerDiv,this.layoutDone=!1,this.divContentDone=!1,this.pageIdx=e.pageIndex,this.matches=[],this.lastScrollSource=e.lastScrollSource||null,this.viewport=e.viewport,this.isViewerInPresentationMode=e.isViewerInPresentationMode,this.textDivs=[],this.findController=e.findController||null}return e.prototype={renderLayer:function(){var e,t,n,r,i,s,o,u,a,f,l=document.createDocumentFragment(),c=this.textDivs,h=c.length,p=document.createElement("canvas"),d=p.getContext("2d");if(!(h>MAX_TEXT_DIVS_TO_RENDER)){for(n=0;h>n;n++)r=c[n],void 0===r.dataset.isWhitespace&&(i=r.style.fontSize,s=r.style.fontFamily,(i!==e||s!==t)&&(d.font=i+" "+s,e=i,t=s),o=d.measureText(r.textContent).width,o>0&&(l.appendChild(r),void 0!==r.dataset.canvasWidth?(a=r.dataset.canvasWidth/o,u="scaleX("+a+")"):u="",f=r.dataset.angle,f&&(u="rotate("+f+"deg) "+u),u&&CustomStyle.setProp("transform",r,u)));this.textLayerDiv.appendChild(l),this.renderingDone=!0,this.updateMatches()}},setupRenderLayoutTimer:function(){var e=this,t=null===this.lastScrollSource?0:this.lastScrollSource.lastScroll;Date.now()-t>RENDER_DELAY?this.renderLayer():(this.renderTimer&&clearTimeout(this.renderTimer),this.renderTimer=setTimeout(function(){e.setupRenderLayoutTimer()},RENDER_DELAY))},appendText:function(e,t){var n,r,i,s,o,u,a=t[e.fontName],f=document.createElement("div");return this.textDivs.push(f),isAllWhitespace(e.str)?(f.dataset.isWhitespace=!0,void 0):(n=PDFJS.Util.transform(this.viewport.transform,e.transform),r=Math.atan2(n[1],n[0]),a.vertical&&(r+=Math.PI/2),i=Math.sqrt(n[2]*n[2]+n[3]*n[3]),s=i,a.ascent?s=a.ascent*s:a.descent&&(s=(1+a.descent)*s),0===r?(o=n[4],u=n[5]-s):(o=n[4]+s*Math.sin(r),u=n[5]-s*Math.cos(r)),f.style.left=o+"px",f.style.top=u+"px",f.style.fontSize=i+"px",f.style.fontFamily=a.fontFamily,f.textContent=e.str,PDFJS.pdfBug&&(f.dataset.fontName=e.fontName),0!==r&&(f.dataset.angle=r*(180/Math.PI)),f.textContent.length>1&&(f.dataset.canvasWidth=a.vertical?e.height*this.viewport.scale:e.width*this.viewport.scale),void 0)},setTextContent:function(e){var t,n,r;for(this.textContent=e,t=e.items,n=0,r=t.length;r>n;n++)this.appendText(t[n],e.styles);this.divContentDone=!0,this.setupRenderLayoutTimer()},convertMatches:function(e){var t,n,r,i,s=0,o=0,u=this.textContent.items,a=u.length-1,f=null===this.findController?0:this.findController.state.query.length,l=[];for(t=0,n=e.length;n>t;t++){for(r=e[t];s!==a&&r>=o+u[s].str.length;)o+=u[s].str.length,s++;for(s===u.length&&console.error("Could not find a matching mapping"),i={begin:{divIdx:s,offset:r-o}},r+=f;s!==a&&r>o+u[s].str.length;)o+=u[s].str.length,s++;i.end={divIdx:s,offset:r-o},l.push(i)}return l},renderMatches:function(e){function t(e,t){var r=e.divIdx;i[r].textContent="",n(r,0,e.offset,t)}function n(e,t,n,s){var o,u=i[e],a=r[e].str.substring(t,n),f=document.createTextNode(a);return s?(o=document.createElement("span"),o.className=s,o.appendChild(f),u.appendChild(o),void 0):(u.appendChild(f),void 0)}var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;if(0!==e.length){if(r=this.textContent.items,i=this.textDivs,s=null,o=null===this.findController?!1:this.pageIdx===this.findController.selected.pageIdx,u=null===this.findController?-1:this.findController.selected.matchIdx,a=null===this.findController?!1:this.findController.state.highlightAll,f={divIdx:-1,offset:void 0},l=u,c=l+1,a)l=0,c=e.length;else if(!o)return;for(h=l;c>h;h++){if(p=e[h],d=p.begin,v=p.end,m=o&&h===u,g=m?" selected":"",m&&!this.isViewerInPresentationMode&&scrollIntoView(i[d.divIdx],{top:FIND_SCROLL_OFFSET_TOP,left:FIND_SCROLL_OFFSET_LEFT}),s&&d.divIdx===s.divIdx?n(s.divIdx,s.offset,d.offset):(null!==s&&n(s.divIdx,s.offset,f.offset),t(d)),d.divIdx===v.divIdx)n(d.divIdx,d.offset,v.offset,"highlight"+g);else{for(n(d.divIdx,d.offset,f.offset,"highlight begin"+g),y=d.divIdx+1,b=v.divIdx;b>y;y++)i[y].className="highlight middle"+g;t(v,"highlight end"+g)}s=v}s&&n(s.divIdx,s.offset,f.offset)}},updateMatches:function(){var e,t,n,r,i,s,o,u,a,f,l;if(this.renderingDone){for(e=this.matches,t=this.textDivs,n=this.textContent.items,r=-1,i=0,s=e.length;s>i;i++){for(o=e[i],u=Math.max(r,o.begin.divIdx),a=u,f=o.end.divIdx;f>=a;a++)l=t[a],l.textContent=n[a].str,l.className="";r=o.end.divIdx+1}null!==this.findController&&this.findController.active&&(this.matches=this.convertMatches(null===this.findController?[]:this.findController.pageMatches[this.pageIdx]||[]),this.renderMatches(this.matches))}}},e}(),PDFViewer=function(){function e(e){this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.linkService=e.linkService||new SimpleLinkService(this),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=watchScroll(this.container,this._scrollUpdate.bind(this)),this.lastScroll=0,this.updateInProgress=!1,this.presentationModeState=PresentationModeState.UNKNOWN,this._resetView()}return e.prototype={get pagesCount(){return this.pages.length},getPageView:function(e){return this.pages[e]},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(e){if(!this.pdfDocument)return this._currentPageNumber=e,void 0;var t=document.createEvent("UIEvents");return t.initUIEvent("pagechange",!0,!0,window,0),t.updateInProgress=this.updateInProgress,e>0&&e<=this.pagesCount?(this.pages[e-1].updateStats(),t.previousPageNumber=this._currentPageNumber,this._currentPageNumber=e,t.pageNumber=e,this.container.dispatchEvent(t),void 0):(t.pageNumber=this._currentPageNumber,t.previousPageNumber=e,this.container.dispatchEvent(t),void 0)},get currentScale(){return this._currentScale},set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale");return this.pdfDocument?(this._setScale(e,!1),void 0):(this._currentScale=e,this._currentScaleValue=e.toString(),void 0)},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(e){return this.pdfDocument?(this._setScale(e,!1),void 0):(this._currentScale=isNaN(e)?UNKNOWN_SCALE:e,this._currentScaleValue=e,void 0)},get pagesRotation(){return this._pagesRotation},set pagesRotation(e){var t,n,r;for(this._pagesRotation=e,t=0,n=this.pages.length;n>t;t++)r=this.pages[t],r.update(r.scale,e);this._setScale(this._currentScaleValue,!0)},setDocument:function(e){var t,n,r,i,s,o,u,a,f,l;return this.pdfDocument&&this._resetView(),this.pdfDocument=e,e?(t=e.numPages,n=this.pagesRefMap={},r=this,s=new Promise(function(e){i=e}),this.pagesPromise=s,s.then(function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),r.container.dispatchEvent(e)}),o=!1,u=null,a=new Promise(function(e){u=e}),this.onePageRendered=a,f=function(e){e.onAfterDraw=function(){o||(o=!0,u());var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",!0,!0,{pageNumber:e.id}),r.container.dispatchEvent(t)}},l=e.getPage(1),this.firstPagePromise=l,l.then(function(s){var o,u,l,h,p=this._currentScale||1,v=s.getViewport(p*CSS_UNITS);for(o=1;t>=o;++o)u=new PDFPageSource(e,o),l=new PageView(this.viewer,o,p,v.clone(),this.linkService,this.renderingQueue,this.cache,u,this),f(l),this.pages.push(l);a.then(function(){var s,o;if(PDFJS.disableAutoFetch)i();else for(s=t,o=1;t>=o;++o)e.getPage(o).then(function(e,t){var o,u=r.pages[e-1];u.pdfPage||u.setPdfPage(t),o=t.ref.num+" "+t.ref.gen+" R",n[o]=e,s--,s||i()}.bind(null,o))}),h=document.createEvent("CustomEvent"),h.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(h),this.defaultRenderingQueue&&this.update()}.bind(this))):void 0},_resetView:function(){this.cache=new Cache(DEFAULT_CACHE_SIZE),this.pages=[],this._currentPageNumber=1,this._currentScale=UNKNOWN_SCALE,this._currentScaleValue=null,this.location=null,this._pagesRotation=0;for(var e=this.viewer;e.hasChildNodes();)e.removeChild(e.lastChild)},_scrollUpdate:function(){this.lastScroll=Date.now(),0!==this.pagesCount&&this.update()},_setScaleUpdatePages:function(e,t,n,r){var i,s,o,u,a,f;if(this._currentScaleValue=t,e!==this._currentScale){for(i=0,s=this.pages.length;s>i;i++)this.pages[i].update(e);this._currentScale=e,n||(u=this._currentPageNumber,a=this.presentationModeState===PresentationModeState.CHANGING||this.presentationModeState===PresentationModeState.FULLSCREEN,!this.location||a||IGNORE_CURRENT_POSITION_ON_ZOOM||(u=this.location.pageNumber,o=[null,{name:"XYZ"},this.location.left,this.location.top,null]),this.scrollPageIntoView(u,o)),f=document.createEvent("UIEvents"),f.initUIEvent("scalechange",!0,!0,window,0),f.scale=e,r&&(f.presetValue=t),this.container.dispatchEvent(f)}},_setScale:function(e,t){var n,r,i,s,o,u,a,f,l;if("custom"!==e)if(n=parseFloat(e),n>0)this._setScaleUpdatePages(n,e,t,!1);else{if(r=this.pages[this._currentPageNumber-1],!r)return;switch(i=this.presentationModeState===PresentationModeState.FULLSCREEN,s=i?0:SCROLLBAR_PADDING,o=i?0:VERTICAL_PADDING,u=(this.container.clientWidth-s)/r.width*r.scale,a=(this.container.clientHeight-o)/r.height*r.scale,e){case"page-actual":n=1;break;case"page-width":n=u;break;case"page-height":n=a;break;case"page-fit":n=Math.min(u,a);break;case"auto":f=r.width>r.height,l=f?Math.min(a,u):u,n=Math.min(MAX_AUTO_SCALE,l);break;default:return console.error("pdfViewSetScale: '"+e+"' is an unknown zoom value."),void 0}this._setScaleUpdatePages(n,e,t,!0)}},scrollPageIntoView:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m=this.pages[e-1],g=m.el;if(this.presentationModeState===PresentationModeState.FULLSCREEN){if(this.linkService.page!==m.id)return this.linkService.page=m.id,void 0;t=null,this._setScale(this.currentScaleValue,!0)}if(!t)return scrollIntoView(g),void 0;switch(n=0,r=0,o=0,u=0,a=0===m.rotation%180?!1:!0,f=(a?m.height:m.width)/m.scale/CSS_UNITS,l=(a?m.width:m.height)/m.scale/CSS_UNITS,c=0,t[1].name){case"XYZ":n=t[2],r=t[3],c=t[4],n=null!==n?n:0,r=null!==r?r:l;break;case"Fit":case"FitB":c="page-fit";break;case"FitH":case"FitBH":r=t[2],c="page-width";break;case"FitV":case"FitBV":n=t[2],o=f,u=l,c="page-height";break;case"FitR":n=t[2],r=t[3],o=t[4]-n,u=t[5]-r,h=this.container,i=(h.clientWidth-SCROLLBAR_PADDING)/o/CSS_UNITS,s=(h.clientHeight-SCROLLBAR_PADDING)/u/CSS_UNITS,c=Math.min(Math.abs(i),Math.abs(s));break;default:return}return c&&c!==this.currentScale?this.currentScaleValue=c:this.currentScale===UNKNOWN_SCALE&&(this.currentScaleValue=DEFAULT_SCALE),"page-fit"!==c||t[4]?(p=[m.viewport.convertToViewportPoint(n,r),m.viewport.convertToViewportPoint(n+o,r+u)],d=Math.min(p[0][0],p[1][0]),v=Math.min(p[0][1],p[1][1]),scrollIntoView(g,{left:d,top:v}),void 0):(scrollIntoView(g),void 0)},_updateLocation:function(e){var t,n,r,i,s,o=this._currentScale,u=this._currentScaleValue,a=parseFloat(u)===o?Math.round(1e4*o)/100:u,f=e.id,l="#page="+f;l+="&zoom="+a,t=this.pages[f-1],n=this.container,r=t.getPagePoint(n.scrollLeft-e.x,n.scrollTop-e.y),i=Math.round(r[0]),s=Math.round(r[1]),l+=","+i+","+s,this.location={pageNumber:f,scale:a,top:s,left:i,pdfOpenParams:l}},update:function(){var e,t,n,r,i,s,o,u,a=this._getVisiblePages(),f=a.views;if(0!==f.length){for(this.updateInProgress=!0,e=Math.max(DEFAULT_CACHE_SIZE,2*f.length+1),this.cache.resize(e),this.renderingQueue.renderHighestPriority(a),t=this.currentPageNumber,n=a.first,r=0,i=f.length,s=!1;i>r&&(o=f[r],!(o.percent<100));++r)if(o.id===t){s=!0;break}s||(t=f[0].id),this.presentationModeState!==PresentationModeState.FULLSCREEN&&(this.currentPageNumber=t),this._updateLocation(n),this.updateInProgress=!1,u=document.createEvent("UIEvents"),u.initUIEvent("updateviewarea",!0,!0,window,0),this.container.dispatchEvent(u)}},containsElement:function(e){return this.container.contains(e)},focus:function(){this.container.focus()},blur:function(){this.container.blur()},get isHorizontalScrollbarEnabled(){return this.presentationModeState===PresentationModeState.FULLSCREEN?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){var e,t;return this.presentationModeState!==PresentationModeState.FULLSCREEN?getVisibleElements(this.container,this.pages,!0):(e=[],t=this.pages[this._currentPageNumber-1],e.push({id:t.id,view:t}),{first:t,last:t,views:e})},cleanup:function(){for(var e=0,t=this.pages.length;t>e;e++)this.pages[e]&&this.pages[e].renderingState!==RenderingStates.FINISHED&&this.pages[e].reset()},forceRendering:function(e){var t=e||this._getVisiblePages(),n=this.renderingQueue.getHighestPriority(t,this.pages,this.scroll.down);return n?(this.renderingQueue.renderView(n),!0):!1},getPageTextContent:function(e){return this.pdfDocument.getPage(e+1).then(function(e){return e.getTextContent()})},createTextLayerBuilder:function(e,t,n){var r=this.presentationModeState===PresentationModeState.FULLSCREEN;return new TextLayerBuilder({textLayerDiv:e,pageIndex:t,viewport:n,lastScrollSource:this,isViewerInPresentationMode:r,findController:this.findController})},setFindController:function(e){this.findController=e}},e}(),SimpleLinkService=function(){function e(e){this.pdfViewer=e}return e.prototype={get page(){return this.pdfViewer.currentPageNumber},set page(e){this.pdfViewer.currentPageNumber=e},navigateTo:function(){},getDestinationHash:function(){return"#"},getAnchorUrl:function(){return"#"},setHash:function(){},executeNamedAction:function(){}},e}(),PDFPageSource=function(){function e(e,t){this.pdfDocument=e,this.pageNumber=t}return e.prototype={getPage:function(){return this.pdfDocument.getPage(this.pageNumber)}},e}(),PDFViewerApplication={initialBookmark:document.location.hash.substring(1),initialized:!1,fellback:!1,pdfDocument:null,sidebarOpen:!1,printing:!1,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pageRotation:0,updateScaleControls:!0,isInitialViewSet:!1,animationStartedPromise:null,mouseScrollTimeStamp:0,mouseScrollDelta:0,preferenceSidebarViewOnLoad:SidebarView.NONE,preferencePdfBugEnabled:!1,isViewerEmbedded:window.parent!==window,url:"",initialize:function(){var e,t,n,r,i,s=new PDFRenderingQueue;return s.onIdle=this.cleanup.bind(this),this.pdfRenderingQueue=s,e=document.getElementById("viewerContainer"),t=document.getElementById("viewer"),this.pdfViewer=new PDFViewer({container:e,viewer:t,renderingQueue:s,linkService:this}),s.setViewer(this.pdfViewer),n=document.getElementById("thumbnailView"),this.pdfThumbnailViewer=new PDFThumbnailViewer({container:n,renderingQueue:s,linkService:this}),s.setThumbnailViewer(this.pdfThumbnailViewer),Preferences.initialize(),this.findController=new PDFFindController({pdfViewer:this.pdfViewer,integratedFind:this.supportsIntegratedFind}),this.pdfViewer.setFindController(this.findController),this.findBar=new PDFFindBar({bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),findMsg:document.getElementById("findMsg"),findStatusIcon:document.getElementById("findStatusIcon"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext"),findController:this.findController}),this.findController.setFindBar(this.findBar),HandTool.initialize({container:e,toggleHandTool:document.getElementById("toggleHandTool")}),SecondaryToolbar.initialize({toolbar:document.getElementById("secondaryToolbar"),presentationMode:PresentationMode,toggleButton:document.getElementById("secondaryToolbarToggle"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFile:document.getElementById("secondaryOpenFile"),print:document.getElementById("secondaryPrint"),download:document.getElementById("secondaryDownload"),viewBookmark:document.getElementById("secondaryViewBookmark"),firstPage:document.getElementById("firstPage"),lastPage:document.getElementById("lastPage"),pageRotateCw:document.getElementById("pageRotateCw"),pageRotateCcw:document.getElementById("pageRotateCcw"),documentProperties:DocumentProperties,documentPropertiesButton:document.getElementById("documentProperties")}),PresentationMode.initialize({container:e,secondaryToolbar:SecondaryToolbar,firstPage:document.getElementById("contextFirstPage"),lastPage:document.getElementById("contextLastPage"),pageRotateCw:document.getElementById("contextPageRotateCw"),pageRotateCcw:document.getElementById("contextPageRotateCcw")}),PasswordPrompt.initialize({overlayName:"passwordOverlay",passwordField:document.getElementById("password"),passwordText:document.getElementById("passwordText"),passwordSubmit:document.getElementById("passwordSubmit"),passwordCancel:document.getElementById("passwordCancel")}),DocumentProperties.initialize({overlayName:"documentPropertiesOverlay",closeButton:document.getElementById("documentPropertiesClose"),fileNameField:document.getElementById("fileNameField"),fileSizeField:document.getElementById("fileSizeField"),titleField:document.getElementById("titleField"),authorField:document.getElementById("authorField"),subjectField:document.getElementById("subjectField"),keywordsField:document.getElementById("keywordsField"),creationDateField:document.getElementById("creationDateField"),modificationDateField:document.getElementById("modificationDateField"),creatorField:document.getElementById("creatorField"),producerField:document.getElementById("producerField"),versionField:document.getElementById("versionField"),pageCountField:document.getElementById("pageCountField")}),r=this,i=Promise.all([Preferences.get("enableWebGL").then(function(e){PDFJS.disableWebGL=!e}),Preferences.get("sidebarViewOnLoad").then(function(e){r.preferenceSidebarViewOnLoad=e}),Preferences.get("pdfBugEnabled").then(function(e){r.preferencePdfBugEnabled=e}),Preferences.get("disableTextLayer").then(function(e){PDFJS.disableTextLayer!==!0&&(PDFJS.disableTextLayer=e)}),Preferences.get("disableRange").then(function(e){PDFJS.disableRange!==!0&&(PDFJS.disableRange=e)}),Preferences.get("disableAutoFetch").then(function(e){PDFJS.disableAutoFetch=e}),Preferences.get("disableFontFace").then(function(e){PDFJS.disableFontFace!==!0&&(PDFJS.disableFontFace=e)}),Preferences.get("useOnlyCssZoom").then(function(e){PDFJS.useOnlyCssZoom=e})]).catch(function(){}),i.then(function(){PDFViewerApplication.initialized=!0})},zoomIn:function(e){var t=this.pdfViewer.currentScale;do t=(t*DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(MAX_SCALE,t);while(--e&&MAX_SCALE>t);this.setScale(t,!0)},zoomOut:function(e){var t=this.pdfViewer.currentScale;do t=(t/DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(MIN_SCALE,t);while(--e&&t>MIN_SCALE);this.setScale(t,!0)},get currentScaleValue(){return this.pdfViewer.currentScaleValue},get pagesCount(){return this.pdfDocument.numPages},set page(e){this.pdfViewer.currentPageNumber=e},get page(){return this.pdfViewer.currentPageNumber},get supportsPrinting(){var e=document.createElement("canvas"),t="mozPrintCallback"in e;return Object.defineProperty(this,"supportsPrinting",{value:t,enumerable:!0,configurable:!0,writable:!1}),t},get supportsFullscreen(){var e=document.documentElement,t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;return(document.fullscreenEnabled===!1||document.mozFullScreenEnabled===!1||document.webkitFullscreenEnabled===!1||document.msFullscreenEnabled===!1)&&(t=!1),Object.defineProperty(this,"supportsFullscreen",{value:t,enumerable:!0,configurable:!0,writable:!1}),t},get supportsIntegratedFind(){var e=!1;return Object.defineProperty(this,"supportsIntegratedFind",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get supportsDocumentFonts(){var e=!0;return Object.defineProperty(this,"supportsDocumentFonts",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get supportsDocumentColors(){var e=!0;return Object.defineProperty(this,"supportsDocumentColors",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get loadingBar(){var e=new ProgressBar("#loadingBar",{});return Object.defineProperty(this,"loadingBar",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},setTitleUsingUrl:function(e){this.url=e;try{this.setTitle(decodeURIComponent(getFileName(e))||e)}catch(t){this.setTitle(e)}},setTitle:function(e){document.title=e},close:function(){var e=document.getElementById("errorWrapper");e.setAttribute("hidden","true"),this.pdfDocument&&(this.pdfDocument.destroy(),this.pdfDocument=null,this.pdfThumbnailViewer.setDocument(null),this.pdfViewer.setDocument(null),"undefined"!=typeof PDFBug&&PDFBug.cleanup())},open:function(e,t,n,r,i){function s(e){a.progress(e.loaded/e.total)}var o,u,a,f;if(this.pdfDocument&&Preferences.reload(),this.close(),o={password:n},"string"==typeof e?(this.setTitleUsingUrl(e),o.url=e):e&&"byteLength"in e?o.data=e:e.url&&e.originalUrl&&(this.setTitleUsingUrl(e.originalUrl),o.url=e.url),i)for(u in i)o[u]=i[u];a=this,a.loading=!0,a.downloadComplete=!1,f=function(e,t){PasswordPrompt.updatePassword=e,PasswordPrompt.reason=t,PasswordPrompt.open()},PDFJS.getDocument(o,r,f,s).then(function(e){a.load(e,t),a.loading=!1},function(e){var t,n=e&&e.message,r=mozL10n.get("loading_error",null,"An error occurred while loading the PDF.");e instanceof PDFJS.InvalidPDFException?r=mozL10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):e instanceof PDFJS.MissingPDFException?r=mozL10n.get("missing_file_error",null,"Missing PDF file."):e instanceof PDFJS.UnexpectedResponseException&&(r=mozL10n.get("unexpected_response_error",null,"Unexpected server response.")),t={message:n},a.error(r,t),a.loading=!1}),i&&i.length&&DocumentProperties.setFileSize(i.length)},download:function(){function e(){r.downloadUrl(t,n)}var t=this.url.split("#")[0],n=getPDFFileNameFromURL(t),r=new DownloadManager;return r.onerror=function(){PDFViewerApplication.error("PDF failed to download.")},this.pdfDocument?this.downloadComplete?(this.pdfDocument.getData().then(function(e){var i=PDFJS.createBlob(e,"application/pdf");r.download(i,t,n)},e).then(null,e),void 0):(e(),void 0):(e(),void 0)},fallback:function(){},navigateTo:function(e){var t,n="",r=this,i=function(t){r.pendingRefStr=null;var s=t instanceof Object?r.pagesRefMap[t.num+" "+t.gen+" R"]:t+1;s?(s>r.pagesCount&&(s=r.pagesCount),r.pdfViewer.scrollPageIntoView(s,e),PDFHistory.push({dest:e,hash:n,page:s})):r.pdfDocument.getPageIndex(t).then(function(e){var n=e+1;r.pagesRefMap[t.num+" "+t.gen+" R"]=n,i(t)})};"string"==typeof e?(n=e,t=this.pdfDocument.getDestination(e)):t=Promise.resolve(e),t.then(function(t){e=t,t instanceof Array&&i(t[0])})},executeNamedAction:function(e){switch(e){case"GoToPage":document.getElementById("pageNumber").focus();break;case"GoBack":PDFHistory.back();break;case"GoForward":PDFHistory.forward();break;case"Find":this.supportsIntegratedFind||this.findBar.toggle();break;case"NextPage":this.page++;break;case"PrevPage":this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}},getDestinationHash:function(e){var t,n,r,i,s,o;return"string"==typeof e?this.getAnchorUrl("#"+escape(e)):e instanceof Array&&(t=e[0],n=t instanceof Object?this.pagesRefMap[t.num+" "+t.gen+" R"]:t+1)?(r=this.getAnchorUrl("#page="+n),i=e[1],"object"==typeof i&&"name"in i&&"XYZ"===i.name&&(s=e[4]||this.currentScaleValue,o=parseFloat(s),o&&(s=100*o),r+="&zoom="+s,(e[2]||e[3])&&(r+=","+(e[2]||0)+","+(e[3]||0))),r):""},getAnchorUrl:function(e){return e},error:function(e,t){var n,r,i,s,o,u,a=mozL10n.get("error_version_info",{version:PDFJS.version||"?",build:PDFJS.build||"?"},"PDF.js v{{version}} (build: {{build}})")+"\n";t&&(a+=mozL10n.get("error_message",{message:t.message},"Message: {{message}}"),t.stack?a+="\n"+mozL10n.get("error_stack",{stack:t.stack},"Stack: {{stack}}"):(t.filename&&(a+="\n"+mozL10n.get("error_file",{file:t.filename},"File: {{file}}")),t.lineNumber&&(a+="\n"+mozL10n.get("error_line",{line:t.lineNumber},"Line: {{line}}")))),n=document.getElementById("errorWrapper"),n.removeAttribute("hidden"),r=document.getElementById("errorMessage"),r.textContent=e,i=document.getElementById("errorClose"),i.onclick=function(){n.setAttribute("hidden","true")},s=document.getElementById("errorMoreInfo"),o=document.getElementById("errorShowMore"),u=document.getElementById("errorShowLess"),o.onclick=function(){s.removeAttribute("hidden"),o.setAttribute("hidden","true"),u.removeAttribute("hidden"),s.style.height=s.scrollHeight+"px"},u.onclick=function(){s.setAttribute("hidden","true"),o.removeAttribute("hidden"),u.setAttribute("hidden","true")},o.oncontextmenu=noContextMenuHandler,u.oncontextmenu=noContextMenuHandler,i.oncontextmenu=noContextMenuHandler,o.removeAttribute("hidden"),u.setAttribute("hidden","true"),s.value=a},progress:function(e){var t=Math.round(100*e);(t>this.loadingBar.percent||isNaN(t))&&(this.loadingBar.percent=t,PDFJS.disableAutoFetch&&t&&(this.disableAutoFetchLoadingBarTimeout&&(clearTimeout(this.disableAutoFetchLoadingBarTimeout),this.disableAutoFetchLoadingBarTimeout=null),this.loadingBar.show(),this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){this.loadingBar.hide(),this.disableAutoFetchLoadingBarTimeout=null}.bind(this),DISABLE_AUTO_FETCH_LOADING_BAR_TIMEOUT)))},load:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m=this;t=t||UNKNOWN_SCALE,this.findController.reset(),this.pdfDocument=e,DocumentProperties.url=this.url,DocumentProperties.pdfDocument=e,DocumentProperties.resolveDataAvailable(),n=e.getDownloadInfo().then(function(){m.downloadComplete=!0,m.loadingBar.hide()}),r=e.numPages,document.getElementById("numPages").textContent=mozL10n.get("page_of",{pageCount:r},"of {{pageCount}}"),document.getElementById("pageNumber").max=r,i=this.documentFingerprint=e.fingerprint,s=this.store=new ViewHistory(i),o=this.pdfViewer,o.currentScale=t,o.setDocument(e),u=o.firstPagePromise,a=o.pagesPromise,f=o.onePageRendered,this.pageRotation=0,this.isInitialViewSet=!1,this.pagesRefMap=o.pagesRefMap,this.pdfThumbnailViewer.setDocument(e),u.then(function(){n.then(function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),m.loadingBar.setWidth(document.getElementById("viewer")),m.findController.resolveFirstPage(),PDFJS.disableHistory||m.isViewerEmbedded||PDFHistory.initialize(m.documentFingerprint,m)}),c=Preferences.get("showPreviousViewOnLoad").then(function(e){l=e}),p=Preferences.get("defaultZoomValue").then(function(e){h=e}),d=s.initializedPromise,Promise.all([u,d,c,p]).then(function(){var e,n,r,i,o=null;l&&s.get("exists",!1)?(e=s.get("page","1"),n=h||s.get("zoom",m.pdfViewer.currentScale),r=s.get("scrollLeft","0"),i=s.get("scrollTop","0"),o="page="+e+"&zoom="+n+","+r+","+i):h&&(o="page=1&zoom="+h),m.setInitialView(o,t),m.isViewerEmbedded||m.pdfViewer.focus()},function(e){console.error(e),u.then(function(){m.setInitialView(null,t)})}),a.then(function(){m.supportsPrinting&&e.getJavaScript().then(function(e){var t,n,r,i;for(e.length&&(console.warn("Warning: JavaScript is not supported"),m.fallback(PDFJS.UNSUPPORTED_FEATURES.javaScript)),t=/\bprint\s*\(/g,n=0,r=e.length;r>n;n++)if(i=e[n],i&&t.test(i))return setTimeout(function(){window.print()}),void 0})}),v=[a,this.animationStartedPromise],Promise.all(v).then(function(){e.getOutline().then(function(e){var t=document.getElementById("outlineView");m.outline=new DocumentOutlineView({outline:e,outlineView:t,linkService:m}),document.getElementById("viewOutline").disabled=!e,e||t.classList.contains("hidden")||m.switchSidebarView("thumbs"),e&&m.preferenceSidebarViewOnLoad===SidebarView.OUTLINE&&m.switchSidebarView("outline",!0)}),e.getAttachments().then(function(e){var t=document.getElementById("attachmentsView");m.attachments=new DocumentAttachmentsView({attachments:e,attachmentsView:t}),document.getElementById("viewAttachments").disabled=!e,e||t.classList.contains("hidden")||m.switchSidebarView("thumbs"),e&&m.preferenceSidebarViewOnLoad===SidebarView.ATTACHMENTS&&m.switchSidebarView("attachments",!0)})}),m.preferenceSidebarViewOnLoad===SidebarView.THUMBS&&Promise.all([u,f]).then(function(){m.switchSidebarView("thumbs",!0)}),e.getMetadata().then(function(t){var n,r,i=t.info,s=t.metadata;m.documentInfo=i,m.metadata=s,console.log("PDF "+e.fingerprint+" ["+i.PDFFormatVersion+" "+(i.Producer||"-").trim()+" / "+(i.Creator||"-").trim()+"]"+" (PDF.js: "+(PDFJS.version||"-")+(PDFJS.disableWebGL?"":" [WebGL]")+")"),s&&s.has("dc:title")&&(r=s.get("dc:title"),"Untitled"!==r&&(n=r)),!n&&i&&i["Title"]&&(n=i["Title"]),n&&m.setTitle(n+" - "+document.title),i.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),m.fallback(PDFJS.UNSUPPORTED_FEATURES.forms))})},setInitialView:function(e,t){this.isInitialViewSet=!0,document.getElementById("pageNumber").value=this.pdfViewer.currentPageNumber=1,PDFHistory.initialDestination?(this.navigateTo(PDFHistory.initialDestination),PDFHistory.initialDestination=null):this.initialBookmark?(this.setHash(this.initialBookmark),PDFHistory.push({hash:this.initialBookmark},!!this.initialBookmark),this.initialBookmark=null):e?this.setHash(e):t&&(this.setScale(t,!0),this.page=1),this.pdfViewer.currentScale===UNKNOWN_SCALE&&this.setScale(DEFAULT_SCALE,!0)},cleanup:function(){this.pdfViewer.cleanup(),this.pdfThumbnailViewer.cleanup(),this.pdfDocument.cleanup()},forceRendering:function(){this.pdfRenderingQueue.printing=this.printing,this.pdfRenderingQueue.isThumbnailViewEnabled=this.sidebarOpen,this.pdfRenderingQueue.renderHighestPriority()},setHash:function(e){var t,n,r,i,s,o,u,a;if(!this.isInitialViewSet)return this.initialBookmark=e,void 0;if(t=["Fit","FitB","FitH","FitBH","FitV","FitBV","FitR"],e)if(e.indexOf("=")>=0){if(n=this.parseQueryString(e),"nameddest"in n)return PDFHistory.updateNextHashParam(n.nameddest),this.navigateTo(n.nameddest),void 0;"page"in n&&(r=0|n.page||1),"zoom"in n&&(s=n.zoom.split(","),o=s[0],u=parseFloat(o),a="XYZ",u?o=u/100:t.indexOf(o)>=0&&(a=o),i=[null,{name:a},s.length>1?0|s[1]:null,s.length>2?0|s[2]:null,o]),i?this.pdfViewer.scrollPageIntoView(r||this.page,i):r&&(this.page=r),"pagemode"in n&&("thumbs"===n.pagemode||"bookmarks"===n.pagemode||"attachments"===n.pagemode?this.switchSidebarView("bookmarks"===n.pagemode?"outline":n.pagemode,!0):"none"===n.pagemode&&this.sidebarOpen&&document.getElementById("sidebarToggle").click())}else/^\d+$/.test(e)?this.page=e:(PDFHistory.updateNextHashParam(unescape(e)),this.navigateTo(unescape(e)))},switchSidebarView:function(e,t){var n,r,i,s,o,u,a;switch(t&&!this.sidebarOpen&&document.getElementById("sidebarToggle").click(),n=document.getElementById("thumbnailView"),r=document.getElementById("outlineView"),i=document.getElementById("attachmentsView"),s=document.getElementById("viewThumbnail"),o=document.getElementById("viewOutline"),u=document.getElementById("viewAttachments"),e){case"thumbs":a=n.classList.contains("hidden"),s.classList.add("toggled"),o.classList.remove("toggled"),u.classList.remove("toggled"),n.classList.remove("hidden"),r.classList.add("hidden"),i.classList.add("hidden"),this.forceRendering(),a&&this.pdfThumbnailViewer.ensureThumbnailVisible(this.page);break;case"outline":if(s.classList.remove("toggled"),o.classList.add("toggled"),u.classList.remove("toggled"),n.classList.add("hidden"),r.classList.remove("hidden"),i.classList.add("hidden"),o.getAttribute("disabled"))return;break;case"attachments":if(s.classList.remove("toggled"),o.classList.remove("toggled"),u.classList.add("toggled"),n.classList.add("hidden"),r.classList.add("hidden"),i.classList.remove("hidden"),u.getAttribute("disabled"))return}},parseQueryString:function(e){var t,n,r,i,s,o=e.split("&"),u={};for(t=0,n=o.length;n>t;++t)r=o[t].split("="),i=r[0].toLowerCase(),s=r.length>1?r[1]:null,u[decodeURIComponent(i)]=decodeURIComponent(s);return u},beforePrint:function(){var e,t,n,r,i,s;if(!this.supportsPrinting)return e=mozL10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser."),this.error(e),void 0;if(t=!1,this.pagesCount){for(n=0,r=this.pagesCount;r>n;++n)if(!this.pdfViewer.getPageView(n).pdfPage){t=!0;break}}else t=!0;if(t)return i=mozL10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing."),window.alert(i),void 0;for(this.printing=!0,this.forceRendering(),s=document.querySelector("body"),s.setAttribute("data-mozPrintCallback",!0),n=0,r=this.pagesCount;r>n;++n)this.pdfViewer.getPageView(n).beforePrint()},afterPrint:function(){for(var e=document.getElementById("printContainer");e.hasChildNodes();)e.removeChild(e.lastChild);this.printing=!1,this.forceRendering()},setScale:function(e,t){this.updateScaleControls=!!t,this.pdfViewer.currentScaleValue=e,this.updateScaleControls=!0},rotatePages:function(e){var t=this.page;this.pageRotation=(this.pageRotation+360+e)%360,this.pdfViewer.pagesRotation=this.pageRotation,this.pdfThumbnailViewer.pagesRotation=this.pageRotation,this.forceRendering(),this.pdfViewer.scrollPageIntoView(t)},mouseScroll:function(e){var t,n,r,i,s=50,o=(new Date).getTime(),u=this.mouseScrollTimeStamp;if(!(o>u&&s>o-u)&&((this.mouseScrollDelta>0&&0>e||this.mouseScrollDelta<0&&e>0)&&this.clearMouseScrollState(),this.mouseScrollDelta+=e,t=120,Math.abs(this.mouseScrollDelta)>=t)){if(n={UP:-1,DOWN:1},r=this.mouseScrollDelta>0?n.UP:n.DOWN,this.clearMouseScrollState(),i=this.page,1===i&&r===n.UP||i===this.pagesCount&&r===n.DOWN)return;this.page+=r,this.mouseScrollTimeStamp=o}},clearMouseScrollState:function(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0}},window.PDFView=PDFViewerApplication,THUMBNAIL_SCROLL_MARGIN=-19,ThumbnailView=function(e,t,n,r,i,s){function o(e,t){var n=ThumbnailView.tempImageCache;return n||(n=document.createElement("canvas"),ThumbnailView.tempImageCache=n),n.width=e,n.height=t,n}var u,a,f=document.createElement("a");f.href=r.getAnchorUrl("#page="+t),f.title=mozL10n.get("thumb_page_title",{page:t},"Page {{page}}"),f.onclick=function(){return r.page=t,!1},this.pdfPage=void 0,this.viewport=n,this.pdfPageRotate=n.rotation,this.rotation=0,this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.id=t,this.renderingId="thumbnail"+t,this.canvasWidth=98,this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight,this.scale=this.canvasWidth/this.pageWidth,u=this.el=document.createElement("div"),u.id="thumbnailContainer"+t,u.className="thumbnail",1===t&&u.classList.add("selected"),a=document.createElement("div"),a.className="thumbnailSelectionRing",a.style.width=this.canvasWidth+"px",a.style.height=this.canvasHeight+"px",u.appendChild(a),f.appendChild(u),e.appendChild(f),this.hasImage=!1,this.renderingState=RenderingStates.INITIAL,this.renderingQueue=i,this.pageSource=s,this.setPdfPage=function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(1,t),this.update()},this.update=function(e){void 0!==e&&(this.rotation=e);var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:t}),this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight,this.scale=this.canvasWidth/this.pageWidth,u.removeAttribute("data-loaded"),a.textContent="",a.style.width=this.canvasWidth+"px",a.style.height=this.canvasHeight+"px",this.hasImage=!1,this.renderingState=RenderingStates.INITIAL,this.resume=null},this.getPageDrawContext=function(){var e,n=document.createElement("canvas");return n.id="thumbnail"+t,n.width=this.canvasWidth,n.height=this.canvasHeight,n.className="thumbnailImage",n.setAttribute("aria-label",mozL10n.get("thumb_page_canvas",{page:t},"Thumbnail of Page {{page}}")),u.setAttribute("data-loaded",!0),a.appendChild(n),e=n.getContext("2d"),e.save(),e.fillStyle="rgb(255, 255, 255)",e.fillRect(0,0,this.canvasWidth,this.canvasHeight),e.restore(),e},this.drawingRequired=function(){return!this.hasImage},this.draw=function(e){var t,n,r,i,s;return this.pdfPage?(this.renderingState!==RenderingStates.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=RenderingStates.RUNNING,this.hasImage?(e(),void 0):(n=this,r=this.getPageDrawContext(),i=this.viewport.clone({scale:this.scale}),s={canvasContext:r,viewport:i,continueCallback:function(e){return n.renderingQueue.isHighestPriority(n)?(e(),void 0):(n.renderingState=RenderingStates.PAUSED,n.resume=function(){n.renderingState=RenderingStates.RUNNING,e()},void 0)}},this.pdfPage.render(s).promise.then(function(){n.renderingState=RenderingStates.FINISHED,e()},function(){n.renderingState=RenderingStates.FINISHED,e()}),this.hasImage=!0,void 0)):(t=this.pageSource.getPage(this.id),t.then(function(t){this.setPdfPage(t),this.draw(e)}.bind(this)),void 0)},this.setImage=function(e){var t,n,r,i,s,u,a;if(!this.pdfPage)return t=this.pageSource.getPage(),t.then(function(t){this.setPdfPage(t),this.setImage(e)}.bind(this)),void 0;if(!this.hasImage&&e){if(this.renderingState=RenderingStates.FINISHED,n=this.getPageDrawContext(),r=e,i=e.width,s=e.height,u=2,Math.max(e.width/n.canvas.width,e.height/n.canvas.height)>u)for(i>>=1,s>>=1,r=o(i,s),a=r.getContext("2d"),a.drawImage(e,0,0,e.width,e.height,0,0,i,s);Math.max(i/n.canvas.width,s/n.canvas.height)>u;)a.drawImage(r,0,0,i,s,0,0,i>>1,s>>1),i>>=1,s>>=1;n.drawImage(r,0,0,i,s,0,0,n.canvas.width,n.canvas.height),this.hasImage=!0}}},ThumbnailView.tempImageCache=null,PDFThumbnailViewer=function(){function e(e){this.container=e.container,this.renderingQueue=e.renderingQueue,this.linkService=e.linkService,this.scroll=watchScroll(this.container,this._scrollUpdated.bind(this)),this._resetView()}return e.prototype={_scrollUpdated:function(){this.renderingQueue.renderHighestPriority()},getThumbnail:function(e){return this.thumbnails[e]},_getVisibleThumbs:function(){return getVisibleElements(this.container,this.thumbnails)},scrollThumbnailIntoView:function(e){var t,n,r,i,s,o=document.querySelector(".thumbnail.selected");o&&o.classList.remove("selected"),t=document.getElementById("thumbnailContainer"+e),t.classList.add("selected"),n=this._getVisibleThumbs(),r=n.views.length,r>0&&(i=n.first.id,s=r>1?n.last.id:i,(i>=e||e>=s)&&scrollIntoView(t,{top:THUMBNAIL_SCROLL_MARGIN}))},get pagesRotation(){return this._pagesRotation},set pagesRotation(e){var t,n,r;for(this._pagesRotation=e,t=0,n=this.thumbnails.length;n>t;t++)r=this.thumbnails[t],r.update(e)},cleanup:function(){ThumbnailView.tempImageCache=null},_resetView:function(){this.thumbnails=[],this._pagesRotation=0},setDocument:function(e){if(this.pdfDocument){for(var t=this.container;t.hasChildNodes();)t.removeChild(t.lastChild);this._resetView()}return this.pdfDocument=e,e?e.getPage(1).then(function(t){var n,r,i,s=e.numPages,o=t.getViewport(1);for(n=1;s>=n;++n)r=new PDFPageSource(e,n),i=new ThumbnailView(this.container,n,o.clone(),this.linkService,this.renderingQueue,r),this.thumbnails.push(i)}.bind(this)):Promise.resolve()},ensureThumbnailVisible:function(e){scrollIntoView(document.getElementById("thumbnailContainer"+e))},forceRendering:function(){var e=this._getVisibleThumbs(),t=this.renderingQueue.getHighestPriority(e,this.thumbnails,this.scroll.down);return t?(this.renderingQueue.renderView(t),!0):!1}},e}(),DocumentOutlineView=function(e){function t(e,t){e.href=n.getDestinationHash(t.dest),e.onclick=function(){return n.navigateTo(t.dest),!1}}for(var n,r,i,s,o,u,a,f,l,c=e.outline,h=e.outlineView;h.firstChild;)h.removeChild(h.firstChild);if(c)for(n=e.linkService,r=[{parent:h,items:c}];r.length>0;)for(i=r.shift(),o=i.items.length,s=0;o>s;s++)u=i.items[s],a=document.createElement("div"),a.className="outlineItem",f=document.createElement("a"),t(f,u),f.textContent=u.title,a.appendChild(f),u.items.length>0&&(l=document.createElement("div"),l.className="outlineItems",a.appendChild(l),r.push({parent:l,items:u.items})),i.parent.appendChild(a)},DocumentAttachmentsView=function(e){function t(e,t){e.onclick=function(){var e=new DownloadManager;return e.downloadData(t.content,getFileName(t.filename),""),!1}}for(var n,r,i,s,o,u,a=e.attachments,f=e.attachmentsView;f.firstChild;)f.removeChild(f.firstChild);if(a)for(n=Object.keys(a).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),r=0,i=n.length;i>r;r++)s=a[n[r]],o=document.createElement("div"),o.className="attachmentsItem",u=document.createElement("button"),t(u,s),u.textContent=getFileName(s.filename),o.appendChild(u),f.appendChild(o)},document.addEventListener("pagerendered",function(e){var t,n=e.detail.pageNumber-1,r=PDFViewerApplication.pdfViewer.getPageView(n),i=PDFViewerApplication.pdfThumbnailViewer.getThumbnail(n);i.setImage(r.canvas),r.error&&PDFViewerApplication.error(mozL10n.get("rendering_error",null,"An error occurred while rendering the page."),r.error),n+1===PDFViewerApplication.page&&(t=document.getElementById("pageNumber"),t.classList.remove(PAGE_NUMBER_LOADING_INDICATOR))},!0),window.addEventListener("presentationmodechanged",function(e){var t=e.detail.active,n=e.detail.switchInProgress;PDFViewerApplication.pdfViewer.presentationModeState=n?PresentationModeState.CHANGING:t?PresentationModeState.FULLSCREEN:PresentationModeState.NORMAL}),window.addEventListener("updateviewarea",function(){var e,t,n;PDFViewerApplication.initialized&&(e=PDFViewerApplication.pdfViewer.location,PDFViewerApplication.store.initializedPromise.then(function(){PDFViewerApplication.store.setMultiple({exists:!0,page:e.pageNumber,zoom:e.scale,scrollLeft:e.left,scrollTop:e.top}).catch(function(){})}),PDFViewerApplication.getAnchorUrl(e.pdfOpenParams),PDFHistory.updateCurrentBookmark(e.pdfOpenParams,e.pageNumber),t=document.getElementById("pageNumber"),n=PDFViewerApplication.pdfViewer.getPageView(PDFViewerApplication.page-1),n.renderingState===RenderingStates.FINISHED?t.classList.remove(PAGE_NUMBER_LOADING_INDICATOR):t.classList.add(PAGE_NUMBER_LOADING_INDICATOR))},!0),window.addEventListener("resize",function(){if(PDFViewerApplication.initialized&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)){var e=document.getElementById("scaleSelect").value;PDFViewerApplication.setScale(e,!1)}updateViewarea(),SecondaryToolbar.setMaxHeight(document.getElementById("viewerContainer"))}),window.addEventListener("hashchange",function(){PDFHistory.isHashChangeUnlocked&&PDFViewerApplication.setHash(document.location.hash.substring(1))}),window.addEventListener("change",function(e){var t,n,r=e.target.files;r&&0!==r.length&&(t=r[0],!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL?PDFViewerApplication.open(URL.createObjectURL(t),0):(n=new FileReader,n.onload=function(e){var t=e.target.result,n=new Uint8Array(t);PDFViewerApplication.open(n,0)},n.readAsArrayBuffer(t)),PDFViewerApplication.setTitleUsingUrl(t.name),document.getElementById("viewBookmark").setAttribute("hidden","true"),document.getElementById("secondaryViewBookmark").setAttribute("hidden","true"),document.getElementById("download").setAttribute("hidden","true"),document.getElementById("secondaryDownload").setAttribute("hidden","true"))},!0),window.addEventListener("localized",function(){document.getElementsByTagName("html")[0].dir=mozL10n.getDirection(),PDFViewerApplication.animationStartedPromise.then(function(){var e,t,n=document.getElementById("scaleSelectContainer");0===n.clientWidth&&n.setAttribute("style","display: inherit;"),n.clientWidth>0&&(e=document.getElementById("scaleSelect"),e.setAttribute("style","min-width: inherit;"),t=e.clientWidth+SCALE_SELECT_CONTAINER_PADDING,e.setAttribute("style","min-width: "+(t+SCALE_SELECT_PADDING)+"px;"),n.setAttribute("style","min-width: "+t+"px; "+"max-width: "+t+"px;")),SecondaryToolbar.setMaxHeight(document.getElementById("viewerContainer"))})},!0),window.addEventListener("scalechange",function(e){var t,n,r;return document.getElementById("zoomOut").disabled=e.scale===MIN_SCALE,document.getElementById("zoomIn").disabled=e.scale===MAX_SCALE,t=document.getElementById("customScaleOption"),t.selected=!1,!PDFViewerApplication.updateScaleControls&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)?(updateViewarea(),void 0):e.presetValue?(selectScaleOption(e.presetValue),updateViewarea(),void 0):(n=selectScaleOption(""+e.scale),n||(r=Math.round(1e4*e.scale)/100,t.textContent=mozL10n.get("page_scale_percent",{scale:r},"{{scale}}%"),t.selected=!0),updateViewarea(),void 0)},!0),window.addEventListener("pagechange",function(e){var t,n=e.pageNumber;e.previousPageNumber!==n&&(document.getElementById("pageNumber").value=n,PDFViewerApplication.pdfThumbnailViewer.scrollThumbnailIntoView(n)),t=PDFViewerApplication.pagesCount,document.getElementById("previous").disabled=1>=n,document.getElementById("next").disabled=n>=t,document.getElementById("firstPage").disabled=1>=n,document.getElementById("lastPage").disabled=n>=t,e.updateInProgress||this.loading&&1===n||PDFViewerApplication.pdfViewer.scrollPageIntoView(n)},!0),window.addEventListener("DOMMouseScroll",handleMouseWheel),window.addEventListener("mousewheel",handleMouseWheel),window.addEventListener("click",function(e){PresentationMode.active?0===e.button&&e.preventDefault():SecondaryToolbar.opened&&PDFViewerApplication.pdfViewer.containsElement(e.target)&&SecondaryToolbar.close()},!1),window.addEventListener("keydown",function(e){var t,n,r,i,s,o;if(!OverlayManager.active){if(t=!1,n=(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0),1===n||8===n||5===n||12===n)switch(r=PDFViewerApplication.pdfViewer,i=r&&(r.presentationModeState===PresentationModeState.CHANGING||r.presentationModeState===PresentationModeState.FULLSCREEN),e.keyCode){case 70:PDFViewerApplication.supportsIntegratedFind||(PDFViewerApplication.findBar.open(),t=!0);break;case 71:PDFViewerApplication.supportsIntegratedFind||(PDFViewerApplication.findBar.dispatchEvent("again",5===n||12===n),t=!0);break;case 61:case 107:case 187:case 171:i||PDFViewerApplication.zoomIn(),t=!0;break;case 173:case 109:case 189:i||PDFViewerApplication.zoomOut(),t=!0;break;case 48:case 96:i||(setTimeout(function(){PDFViewerApplication.setScale(DEFAULT_SCALE,!0)}),t=!1)}if(1===n||8===n)switch(e.keyCode){case 83:PDFViewerApplication.download(),t=!0}if(3===n||10===n)switch(e.keyCode){case 80:SecondaryToolbar.presentationModeClick(),t=!0;break;case 71:document.getElementById("pageNumber").select(),t=!0}if(t)return e.preventDefault(),void 0;if(s=document.activeElement||document.querySelector(":focus"),o=s&&s.tagName.toUpperCase(),"INPUT"!==o&&"TEXTAREA"!==o&&"SELECT"!==o||27===e.keyCode){if(0===n)switch(e.keyCode){case 38:case 33:case 8:if(!PresentationMode.active&&"page-fit"!==PDFViewerApplication.currentScaleValue)break;case 37:if(PDFViewerApplication.pdfViewer.isHorizontalScrollbarEnabled)break;case 75:case 80:PDFViewerApplication.page--,t=!0;break;case 27:SecondaryToolbar.opened&&(SecondaryToolbar.close(),t=!0),!PDFViewerApplication.supportsIntegratedFind&&PDFViewerApplication.findBar.opened&&(PDFViewerApplication.findBar.close(),t=!0);break;case 40:case 34:case 32:if(!PresentationMode.active&&"page-fit"!==PDFViewerApplication.currentScaleValue)break;case 39:if(PDFViewerApplication.pdfViewer.isHorizontalScrollbarEnabled)break;case 74:case 78:PDFViewerApplication.page++,t=!0;break;case 36:(PresentationMode.active||PDFViewerApplication.page>1)&&(PDFViewerApplication.page=1,t=!0);break;case 35:(PresentationMode.active||PDFViewerApplication.pdfDocument&&PDFViewerApplication.page<PDFViewerApplication.pagesCount)&&(PDFViewerApplication.page=PDFViewerApplication.pagesCount,t=!0);break;case 72:PresentationMode.active||HandTool.toggle();break;case 82:PDFViewerApplication.rotatePages(90)}if(4===n)switch(e.keyCode){case 32:if(!PresentationMode.active&&"page-fit"!==PDFViewerApplication.currentScaleValue)break;PDFViewerApplication.page--,t=!0;break;case 82:PDFViewerApplication.rotatePages(-90)}if(t||PresentationMode.active||(e.keyCode>=33&&e.keyCode<=40&&!PDFViewerApplication.pdfViewer.containsElement(s)&&PDFViewerApplication.pdfViewer.focus(),32===e.keyCode&&"BUTTON"!==o&&(PDFViewerApplication.pdfViewer.containsElement(s)||PDFViewerApplication.pdfViewer.focus())),2===n)switch(e.keyCode){case 37:PresentationMode.active&&(PDFHistory.back(),t=!0);break;case 39:PresentationMode.active&&(PDFHistory.forward(),t=!0)}t&&(e.preventDefault(),PDFViewerApplication.clearMouseScrollState())}}}),window.addEventListener("beforeprint",function(){PDFViewerApplication.beforePrint()}),window.addEventListener("afterprint",function(){PDFViewerApplication.afterPrint()}),function(){PDFViewerApplication.animationStartedPromise=new Promise(function(e){window.requestAnimationFrame(e)})}()