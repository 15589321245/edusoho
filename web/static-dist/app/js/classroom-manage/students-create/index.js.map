{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/classroom-manage/students-create/index.js"],"names":["$modal","$","parents","$form","$table","$btn","validator","validate","onkeyup","rules","queryfield","required","remote","url","data","type","val","remark","maxlength","price","currency","messages","Translator","trans","click","form","button","addClass","post","attr","serialize","modal","window","location","reload","error","removeClass"],"mappings":";;;;;;AAAA;;;;;;AAEA,KAAIA,SAASC,EAAE,sBAAF,EAA0BC,OAA1B,CAAkC,QAAlC,CAAb;AACA,KAAIC,QAAQF,EAAE,sBAAF,CAAZ;AACA,KAAIG,SAASH,EAAE,sBAAF,CAAb;AACA,KAAII,OAAOJ,EAAE,6BAAF,CAAX;AACA,KAAIK,YAAYH,MAAMI,QAAN,CAAe;AAC7BC,YAAS,KADoB;AAE7BC,UAAO;AACLC,iBAAY;AACVC,iBAAU,IADA;AAEVC,eAAQ;AACNC,cAAKZ,EAAE,mBAAF,EAAuBa,IAAvB,CAA4B,KAA5B,CADC;AAENC,eAAM,KAFA;AAGND,eAAM;AACJ,oBAAS,iBAAY;AACnB,oBAAOb,EAAE,mBAAF,EAAuBe,GAAvB,EAAP;AACD;AAHG;AAHA;AAFE,MADP;AAaLC,aAAQ;AACNC,kBAAW;AADL,MAbH;AAgBLC,YAAO;AACLC,iBAAU;AADL;AAhBF,IAFsB;AAsB7BC,aAAU;AACRX,iBAAY;AACVE,eAAQU,WAAWC,KAAX,CAAiB,2DAAjB;AADE;AADJ;AAtBmB,EAAf,CAAhB;;AA6BAlB,MAAKmB,KAAL,CAAW,YAAM;AACf,OAAIlB,UAAUmB,IAAV,EAAJ,EAAsB;AACpBpB,UAAKqB,MAAL,CAAY,WAAZ,EAAyBC,QAAzB,CAAkC,UAAlC;AACA1B,OAAE2B,IAAF,CAAOzB,MAAM0B,IAAN,CAAW,QAAX,CAAP,EAA6B1B,MAAM2B,SAAN,EAA7B,EAAgD,YAAY;AAC1D9B,cAAO+B,KAAP,CAAa,MAAb;AACA,6BAAO,SAAP,EAAkBT,WAAWC,KAAX,CAAiB,kDAAjB,CAAlB;AACAS,cAAOC,QAAP,CAAgBC,MAAhB;AACD,MAJD,EAIGC,KAJH,CAIS,YAAY;AACnB,6BAAO,QAAP,EAAiBb,WAAWC,KAAX,CAAiB,iDAAjB,CAAjB;AACAlB,YAAKqB,MAAL,CAAY,OAAZ,EAAqBU,WAArB,CAAiC,UAAjC;AACD,MAPD;AAQD;AACF,EAZD,E","file":"app/js/classroom-manage/students-create/index.js","sourcesContent":["import notify from 'common/notify';\n\nlet $modal = $('#student-create-form').parents('.modal');\nlet $form = $('#student-create-form');\nlet $table = $('#course-student-list');\nlet $btn = $(\"#student-create-form-submit\");\nlet validator = $form.validate({\n  onkeyup: false,\n  rules: {\n    queryfield: {\n      required: true,\n      remote: {\n        url: $('#student-nickname').data('url'),\n        type: 'get',\n        data: {\n          'value': function () {\n            return $('#student-nickname').val();\n          }\n        }\n      }\n    },\n    remark: {\n      maxlength: 80,\n    },\n    price: {\n      currency: true,\n    }\n  },\n  messages: {\n    queryfield: {\n      remote: Translator.trans('classroom_manage.student_create_field_required_error_hint')\n    }\n  }\n})\n\n$btn.click(() => {\n  if (validator.form()) {\n    $btn.button('submiting').addClass('disabled');\n    $.post($form.attr('action'), $form.serialize(), function () {\n      $modal.modal('hide');\n      notify('success', Translator.trans('classroom_manage.student_create_add_success_hint'));\n      window.location.reload();\n    }).error(function () {\n      notify('danger', Translator.trans('classroom_manage.student_create_add_failed_hint'));\n      $btn.button('reset').removeClass('disabled');\n    });\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/classroom-manage/students-create/index.js"],"sourceRoot":""}