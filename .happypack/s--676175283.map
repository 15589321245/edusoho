{"version":3,"sources":["app/Resources/static-src/app/js/course-manage/students/index.js"],"names":["Students","init","$","popover","html","trigger","placement","content","on","evt","confirm","Translator","trans","post","target","data","success","location","reload","message","button","self","get","start","response","status","exportStudents","fileName","href"],"mappings":";;;;AAAA;;;;;;;;IAEMA,Q;AACJ,sBAAc;AAAA;;AACZ,SAAKC,IAAL;AACD;;;;2BAEM;;AAELC,QAAE,mBAAF,EAAuBC,OAAvB,CAA+B;AAC3BC,cAAM,IADqB;AAE3BC,iBAAS,OAFkB,EAEV;AACjBC,mBAAW,MAHgB,EAGT;AAClBC,iBAASL,EAAE,wBAAF,EAA4BE,IAA5B;AAJkB,OAA/B;;AAOAF,QAAE,MAAF,EAAUM,EAAV,CAAa,OAAb,EAAsB,oBAAtB,EAA4C,UAASC,GAAT,EAAc;AACxD,YAAI,CAACC,QAAQC,WAAWC,KAAX,CAAiB,YAAjB,CAAR,CAAL,EAA8C;AAC5C;AACD;AACDV,UAAEW,IAAF,CAAOX,EAAEO,IAAIK,MAAN,EAAcC,IAAd,CAAmB,KAAnB,CAAP,EAAkC,UAASA,IAAT,EAAe;AAC/C,cAAIA,KAAKC,OAAT,EAAkB;AAChB,kCAAO,SAAP,EAAkB,MAAlB;AACAC,qBAASC,MAAT;AACD,WAHD,MAGO;AACL,kCAAO,QAAP,EAAiB,UAAUH,KAAKI,OAAhC;AACD;AACF,SAPD;AAQD,OAZD;;AAcAjB,QAAE,sBAAF,EAA0BM,EAA1B,CAA6B,OAA7B,EAAsC,YAAU;AAC5CN,UAAE,IAAF,EAAQkB,MAAR,CAAe,SAAf;AACA,YAAIC,OAAOnB,EAAE,IAAF,CAAX;AACAA,UAAEoB,GAAF,CAAMpB,EAAE,IAAF,EAAQa,IAAR,CAAa,UAAb,CAAN,EAAgC,EAACQ,OAAM,CAAP,EAAhC,EAA2C,UAASC,QAAT,EAAmB;AAC1D,cAAIA,SAASC,MAAT,KAAoB,SAAxB,EAAmC;AAC/BC,2BAAeF,SAASD,KAAxB,EAA+BC,SAASG,QAAxC;AACH,WAFD,MAEO;AACHN,iBAAKD,MAAL,CAAY,OAAZ;AACAH,qBAASW,IAAT,GAAgBP,KAAKN,IAAL,CAAU,KAAV,IAAiB,YAAjB,GAA8BS,SAASG,QAAvD;AACH;AACJ,SAPD;AAQH,OAXD;AAYD;;;;;;AAGH,IAAI3B,QAAJ","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import notify from 'common/notify';\n\nclass Students {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n\n    $(\"#refund-coin-tips\").popover({\n        html: true,\n        trigger: 'hover',//'hover','click'\n        placement: 'left',//'bottom',\n        content: $(\"#refund-coin-tips-html\").html()\n    });\n    \n    $('body').on('click', '.js-remove-student', function(evt) {\n      if (!confirm(Translator.trans('是否确定删除该学员？'))) {\n        return;\n      }\n      $.post($(evt.target).data('url'), function(data) {\n        if (data.success) {\n          notify('success', '移除成功');\n          location.reload();\n        } else {\n          notify('danger', '移除失败：' + data.message);\n        }\n      });\n    });\n\n    $('#export-students-btn').on('click', function(){\n        $(this).button('loading');\n        var self = $(this);\n        $.get($(this).data('datasUrl'), {start:0}, function(response) {\n            if (response.status === 'getData') {\n                exportStudents(response.start, response.fileName);\n            } else {\n                self.button('reset');\n                location.href = self.data('url')+'?fileName='+response.fileName;\n            }\n        });\n    });\n  }\n}\n\nnew Students();\n"]}