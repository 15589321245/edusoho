webpackJsonp(["app/js/auth/register/index"],[function(e,a){"use strict";function s(e){var a=$('input[name="email"]');a.length>0&&a.rules("add",{required:!0,email:!0,es_remote:{type:"get"},messages:{required:Translator.trans("请输入邮箱")}});var s=$('input[name="emailOrMobile"]');s.length>0&&(s.rules("add",{required:!0,email_or_mobile_check:!0,es_remote:{type:"get"},messages:{required:Translator.trans("请输入手机/邮箱")}}),e.on("focusout.validate",function(){e.validate().element('input[name="emailOrMobile"]')?$(".js-sms-send").removeClass("disabled"):$(".js-sms-send").addClass("disabled")}));var t=$('input[name="verifiedMobile"]');t.length>0&&($(".email_mobile_msg").removeClass("hidden"),t.rules("add",{required:!0,phone:!0,es_remote:{type:"get"},messages:{required:Translator.trans("请输入手机")}}),e.on("focusout.validate",function(){e.validate().element('input[name="verifiedMobile"]')?$(".js-sms-send").removeClass("disabled"):$(".js-sms-send").addClass("disabled")}))}function t(){$(".date").datetimepicker({autoclose:!0,format:"yyyy-mm-dd",minView:"month"})}function r(e){var a=$("#getcode_num");a.length>0&&(a.click(function(){$(this).attr("src",a.data("url")+"?"+Math.random())}),$('[name="captcha_code"]').rules("add",{required:!0,alphanumeric:!0,es_remote:{type:"get"}}),e.on("focusout.validate",function(){e.validate().element('[name="captcha_code"]')||a.attr("src",a.data("url")+"?"+Math.random())}))}function i(){var e=$(".invitecode");e.length>0&&e.rules("add",{required:!1,reg_inviteCode:!0,es_remote:{type:"get"}})}function n(e,a){var s=/^1\d{10}$/,t=s.test(e);t?($('[name="captcha_code"]').rules("remove"),a.on("click",".js-sms-send",function(e){})):($([name="captcha_code"]).rules("add",{required:!0,alphanumeric:!0,es_remote:{type:"get"}}),$('[name="sms_code"]').rules("remove"))}var d=$("#register-form");d.validate({rules:{nickname:{required:!0,minlength:4,maxlength:18,nickname:!0,chinese_alphanumeric:!0,es_remote:{type:"get"}},password:{minlength:5,maxlength:20},userterms:{required:!0}}});$("#register_emailOrMobile").blur(function(){var e=$("#register_emailOrMobile").val();n(e,d)}),$("#register_mobile").blur(function(){var e=$("#register_mobile").val();n(e,d)}),t(),s(d),r(d),i(),$.validator.addMethod("email_or_mobile_check",function(e,a,s){var t=e,r=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,i=/^1\d{10}$/,n=!1,d=r.test(t),l=i.test(t);return l?($(".email_mobile_msg").removeClass("hidden"),$(".js-captcha").addClass("hidden"),$(".js-sms-send").removeClass("disabled")):($(".email_mobile_msg").addClass("hidden"),$(".js-sms-send").addClass("disabled"),$(".js-captcha").removeClass("hidden")),(d||l)&&(n=!0),this.optional(a)||n},Translator.trans("不允许以1开头的11位纯数字"))}]);