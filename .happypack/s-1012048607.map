{"version":3,"sources":["app/Resources/static-src/app/js/activity/ppt/index.js"],"names":["emitter","$content","$","watermarkUrl","data","createPPT","watermark","ppt","element","slides","split","once","emit","undefined","get","then","fail","console","error"],"mappings":";;AAAA;;;;AACA;;;;;;AAGA,IAAIA,UAAU,+BAAd;AACA,IAAIC,WAAWC,EAAE,uBAAF,CAAf;AACA,IAAIC,eAAeF,SAASG,IAAT,CAAc,cAAd,CAAnB;;AAEA,IAAIC,YAAY,SAAZA,SAAY,CAACC,SAAD,EAAe;AAC7B,MAAIC,MAAM,wBAAc;AACtBC,aAAS,uBADa;AAEtBC,YAAQR,SAASG,IAAT,CAAc,QAAd,EAAwBM,KAAxB,CAA8B,GAA9B,CAFc;AAGtBJ,eAAWA;AAHW,GAAd,CAAV;;AAOA,MAAIL,SAASG,IAAT,CAAc,YAAd,MAAgC,KAApC,EAA2C;AACzCG,QAAII,IAAJ,CAAS,KAAT,EAAgB,YAAM;AACpBX,cAAQY,IAAR,CAAa,QAAb;AACD,KAFD;AAGD;;AAED,SAAOL,GAAP;AACD,CAfD;;AAiBA,IAAIJ,iBAAiBU,SAArB,EAAgC;AAC9B,MAAIN,MAAMF,WAAV;AACD,CAFD,MAEO;AACLH,IAAEY,GAAF,CAAMX,YAAN,EACGY,IADH,CACQ,UAACT,SAAD,EAAe;AACnB,QAAIC,MAAMF,UAAUC,SAAV,CAAV;AACD,GAHH,EAIGU,IAJH,CAIQ,iBAAS;AACbC,YAAQC,KAAR,CAAcA,KAAd;AACD,GANH;AAOD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import PptPlayer from '../../../common/ppt-player';\nimport ActivityEmitter from \"../activity-emitter\";\n\n\nlet emitter = new ActivityEmitter();\nlet $content = $('#activity-ppt-content');\nlet watermarkUrl = $content.data('watermarkUrl');\n\nlet createPPT = (watermark) => {\n  let ppt = new PptPlayer({\n    element: '#activity-ppt-content',\n    slides: $content.data('slides').split(','),\n    watermark: watermark\n  });\n\n\n  if ($content.data('finishType') === 'end') {\n    ppt.once('end', () => {\n      emitter.emit('finish');\n    });\n  }\n\n  return ppt;\n};\n\nif (watermarkUrl === undefined) {\n  let ppt = createPPT();\n} else {\n  $.get(watermarkUrl)\n    .then((watermark) => {\n      let ppt = createPPT(watermark);\n    })\n    .fail(error => {\n      console.error(error);\n    });\n}\n"]}