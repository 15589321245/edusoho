{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/pay/wxpay-h5/index.js"],"names":["$","on","WeixinJSBridge","document","addEventListener","jsApiCall","attachEvent","invoke","data","res","err_msg","window","location","href","alert","Translator","trans"],"mappings":";;;;;;AAAAA,GAAE,cAAF,EAAkBC,EAAlB,CAAqB,OAArB,EAA8B,WAA9B,EAA2C,YAAY;AACnD,SAAI,OAAOC,cAAP,IAAyB,WAA7B,EAA0C;AACtC,aAAIC,SAASC,gBAAb,EAA+B;AAC3BD,sBAASC,gBAAT,CAA0B,qBAA1B,EAAiDC,SAAjD,EAA4D,KAA5D;AACH,UAFD,MAEO,IAAIF,SAASG,WAAb,EAA0B;AAC7BH,sBAASG,WAAT,CAAqB,qBAArB,EAA4CD,SAA5C;AACAF,sBAASG,WAAT,CAAqB,uBAArB,EAA8CD,SAA9C;AACH;AACJ,MAPD,MAOO;AACHA;AACH;AACJ,EAXD;;AAaA;AACA,UAASA,SAAT,GAAqB;AACjBH,oBAAeK,MAAf,CACI,sBADJ,EAEIP,EAAE,kBAAF,EAAsBQ,IAAtB,CAA2B,OAA3B,CAFJ,EAGI,UAAUC,GAAV,EAAe;AACX,aAAIA,IAAIC,OAAJ,IAAe,4BAAnB,EAAiD;AAC7CC,oBAAOC,QAAP,CAAgBC,IAAhB,GAAuBb,EAAE,kBAAF,EAAsBQ,IAAtB,CAA2B,MAA3B,CAAvB;AACH,UAFD,MAEO;AACH,iBAAIC,IAAIC,OAAJ,IAAe,8BAAnB,EAAmD;AAC/CI,uBAAMC,WAAWC,KAAX,CAAiB,2BAAjB,CAAN;AACH,cAFD,MAEO,IAAIP,IAAIC,OAAJ,IAAe,gCAAnB,EAAqD;AACzD;AACF;AACJ;AAEJ,MAdL;AAgBH,E","file":"app/js/pay/wxpay-h5/index.js","sourcesContent":["$('.panel-wxpay').on('click', '.js-wxpay', function () {\n    if (typeof WeixinJSBridge == \"undefined\") {\n        if (document.addEventListener) {\n            document.addEventListener('WeixinJSBridgeReady', jsApiCall, false);\n        } else if (document.attachEvent) {\n            document.attachEvent('WeixinJSBridgeReady', jsApiCall);\n            document.attachEvent('onWeixinJSBridgeReady', jsApiCall);\n        }\n    } else {\n        jsApiCall();\n    }\n});\n\n//调用微信JS api 支付\nfunction jsApiCall() {\n    WeixinJSBridge.invoke(\n        'getBrandWCPayRequest',\n        $(\"#jsApiParameters\").data('value'),\n        function (res) {\n            if (res.err_msg == 'get_brand_wcpay_request:ok') {\n                window.location.href = $(\"#jsApiParameters\").data('goto');\n            } else {\n                if (res.err_msg == 'get_brand_wcpay_request:fail') {\n                    alert(Translator.trans('notify.pay_failed.message'));\n                } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n                   // alert('取消')\n                }\n            }\n\n        }\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/pay/wxpay-h5/index.js"],"sourceRoot":""}