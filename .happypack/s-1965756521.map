{"version":3,"sources":["node_modules/.0.9.13@jquery-sortable/source/js/jquery-sortable.js"],"names":["define","module","exports","$","window","pluginName","undefined","containerDefaults","drag","drop","exclude","nested","vertical","groupDefaults","afterMove","$placeholder","container","$closestItemOrContainer","containerPath","containerSelector","distance","delay","handle","itemPath","itemSelector","bodyClass","draggedClass","isValidTarget","$item","onCancel","_super","event","onDrag","position","css","onDragStart","height","outerHeight","width","outerWidth","addClass","group","options","onDrop","removeClass","removeAttr","onMousedown","target","nodeName","match","preventDefault","placeholderClass","placeholder","pullPlaceholder","serialize","$parent","$children","parentIsContainer","result","extend","data","children","subContainers","sortable","tolerance","containerGroups","groupCounter","emptyBox","left","top","bottom","right","eventNames","start","scroll","subContainerKey","d","a","b","x","Math","max","y","setDimensions","array","dimensions","useOffset","i","length","offsetMethod","el","pos","parseInt","getRelativePosition","pointer","element","offset","sortByDistanceDesc","lastPointer","dim","distances","sort","ContainerGroup","containers","rootGroup","scrollProxy","proxy","dragProxy","dropProxy","get","prototype","dragInit","e","itemContainer","$document","ownerDocument","closestItem","closest","item","is","setPointer","toggleListeners","setupDelayTimer","dragInitDone","dragging","distanceMet","delayMet","before","offsetParent","p","getPointer","box","sameResultBox","t","searchValidTarget","detach","lastAppendedItem","getContainer","clearDimensions","clearOffsetParent","relativePointer","lastRelativePointer","getContainerDimensions","index","disabled","$getOffsetParent","getItemOffsetParent","movePlaceholder","method","containerDimensions","currentPointer","abs","o","originalEvent","touches","pageX","pageY","that","clearTimeout","_mouseDelayTimer","setTimeout","events","each","traverse","object","_clearDimensions","callback","_destroy","Container","find","on","push","isValidDrag","which","type","getItemDimensions","validTarget","hasChildGroup","found","getContainerGroup","items","itemDimensions","yCenter","inUpperHalf","xCenter","inLeftHalf","$getChildren","filter","childGroup","childContainers","parent","path","selector","_serialize","isContainer","childType","not","map","off","removeData","grep","val","API","enable","disable","refresh","destroy","fn","methodOrOptions","args","Array","slice","call","arguments","$t","apply","jQuery"],"mappings":"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","file":"jquery-sortable.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["/*** IMPORTS FROM imports-loader ***/\nvar define = false;\nvar module = false;\nvar exports = false;\n(function() {\n\n/* ===================================================\r\n *  jquery-sortable.js v0.9.13\r\n *  http://johnny.github.com/jquery-sortable/\r\n * ===================================================\r\n *  Copyright (c) 2012 Jonas von Andrian\r\n *  All rights reserved.\r\n *\r\n *  Redistribution and use in source and binary forms, with or without\r\n *  modification, are permitted provided that the following conditions are met:\r\n *  * Redistributions of source code must retain the above copyright\r\n *    notice, this list of conditions and the following disclaimer.\r\n *  * Redistributions in binary form must reproduce the above copyright\r\n *    notice, this list of conditions and the following disclaimer in the\r\n *    documentation and/or other materials provided with the distribution.\r\n *  * The name of the author may not be used to endorse or promote products\r\n *    derived from this software without specific prior written permission.\r\n *\r\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n *  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n *  DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\r\n *  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n *  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n *  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n *  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n *  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n *  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n * ========================================================== */\r\n\r\n!function ( $, window, pluginName, undefined){\r\n  var containerDefaults = {\r\n    // If true, items can be dragged from this container\r\n    drag: true,\r\n    // If true, items can be droped onto this container\r\n    drop: true,\r\n    // Exclude items from being draggable, if the\r\n    // selector matches the item\r\n    exclude: \"\",\r\n    // If true, search for nested containers within an item.If you nest containers,\r\n    // either the original selector with which you call the plugin must only match the top containers,\r\n    // or you need to specify a group (see the bootstrap nav example)\r\n    nested: true,\r\n    // If true, the items are assumed to be arranged vertically\r\n    vertical: true\r\n  }, // end container defaults\r\n  groupDefaults = {\r\n    // This is executed after the placeholder has been moved.\r\n    // $closestItemOrContainer contains the closest item, the placeholder\r\n    // has been put at or the closest empty Container, the placeholder has\r\n    // been appended to.\r\n    afterMove: function ($placeholder, container, $closestItemOrContainer) {\r\n    },\r\n    // The exact css path between the container and its items, e.g. \"> tbody\"\r\n    containerPath: \"\",\r\n    // The css selector of the containers\r\n    containerSelector: \"ol, ul\",\r\n    // Distance the mouse has to travel to start dragging\r\n    distance: 0,\r\n    // Time in milliseconds after mousedown until dragging should start.\r\n    // This option can be used to prevent unwanted drags when clicking on an element.\r\n    delay: 0,\r\n    // The css selector of the drag handle\r\n    handle: \"\",\r\n    // The exact css path between the item and its subcontainers.\r\n    // It should only match the immediate items of a container.\r\n    // No item of a subcontainer should be matched. E.g. for ol>div>li the itemPath is \"> div\"\r\n    itemPath: \"\",\r\n    // The css selector of the items\r\n    itemSelector: \"li\",\r\n    // The class given to \"body\" while an item is being dragged\r\n    bodyClass: \"dragging\",\r\n    // The class giving to an item while being dragged\r\n    draggedClass: \"dragged\",\r\n    // Check if the dragged item may be inside the container.\r\n    // Use with care, since the search for a valid container entails a depth first search\r\n    // and may be quite expensive.\r\n    isValidTarget: function ($item, container) {\r\n      return true\r\n    },\r\n    // Executed before onDrop if placeholder is detached.\r\n    // This happens if pullPlaceholder is set to false and the drop occurs outside a container.\r\n    onCancel: function ($item, container, _super, event) {\r\n    },\r\n    // Executed at the beginning of a mouse move event.\r\n    // The Placeholder has not been moved yet.\r\n    onDrag: function ($item, position, _super, event) {\r\n      $item.css(position)\r\n    },\r\n    // Called after the drag has been started,\r\n    // that is the mouse button is being held down and\r\n    // the mouse is moving.\r\n    // The container is the closest initialized container.\r\n    // Therefore it might not be the container, that actually contains the item.\r\n    onDragStart: function ($item, container, _super, event) {\r\n      $item.css({\r\n        height: $item.outerHeight(),\r\n        width: $item.outerWidth()\r\n      })\r\n      $item.addClass(container.group.options.draggedClass)\r\n      $(\"body\").addClass(container.group.options.bodyClass)\r\n    },\r\n    // Called when the mouse button is being released\r\n    onDrop: function ($item, container, _super, event) {\r\n      $item.removeClass(container.group.options.draggedClass).removeAttr(\"style\")\r\n      $(\"body\").removeClass(container.group.options.bodyClass)\r\n    },\r\n    // Called on mousedown. If falsy value is returned, the dragging will not start.\r\n    // Ignore if element clicked is input, select or textarea\r\n    onMousedown: function ($item, _super, event) {\r\n      if (!event.target.nodeName.match(/^(input|select|textarea)$/i)) {\r\n        event.preventDefault()\r\n        return true\r\n      }\r\n    },\r\n    // The class of the placeholder (must match placeholder option markup)\r\n    placeholderClass: \"placeholder\",\r\n    // Template for the placeholder. Can be any valid jQuery input\r\n    // e.g. a string, a DOM element.\r\n    // The placeholder must have the class \"placeholder\"\r\n    placeholder: '<li class=\"placeholder\"></li>',\r\n    // If true, the position of the placeholder is calculated on every mousemove.\r\n    // If false, it is only calculated when the mouse is above a container.\r\n    pullPlaceholder: true,\r\n    // Specifies serialization of the container group.\r\n    // The pair $parent/$children is either container/items or item/subcontainers.\r\n    serialize: function ($parent, $children, parentIsContainer) {\r\n      var result = $.extend({}, $parent.data())\r\n\r\n      if(parentIsContainer)\r\n        return [$children]\r\n      else if ($children[0]){\r\n        result.children = $children\r\n      }\r\n\r\n      delete result.subContainers\r\n      delete result.sortable\r\n\r\n      return result\r\n    },\r\n    // Set tolerance while dragging. Positive values decrease sensitivity,\r\n    // negative values increase it.\r\n    tolerance: 0\r\n  }, // end group defaults\r\n  containerGroups = {},\r\n  groupCounter = 0,\r\n  emptyBox = {\r\n    left: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    right:0\r\n  },\r\n  eventNames = {\r\n    start: \"touchstart.sortable mousedown.sortable\",\r\n    drop: \"touchend.sortable touchcancel.sortable mouseup.sortable\",\r\n    drag: \"touchmove.sortable mousemove.sortable\",\r\n    scroll: \"scroll.sortable\"\r\n  },\r\n  subContainerKey = \"subContainers\"\r\n\r\n  /*\r\n   * a is Array [left, right, top, bottom]\r\n   * b is array [left, top]\r\n   */\r\n  function d(a,b) {\r\n    var x = Math.max(0, a[0] - b[0], b[0] - a[1]),\r\n    y = Math.max(0, a[2] - b[1], b[1] - a[3])\r\n    return x+y;\r\n  }\r\n\r\n  function setDimensions(array, dimensions, tolerance, useOffset) {\r\n    var i = array.length,\r\n    offsetMethod = useOffset ? \"offset\" : \"position\"\r\n    tolerance = tolerance || 0\r\n\r\n    while(i--){\r\n      var el = array[i].el ? array[i].el : $(array[i]),\r\n      // use fitting method\r\n      pos = el[offsetMethod]()\r\n      pos.left += parseInt(el.css('margin-left'), 10)\r\n      pos.top += parseInt(el.css('margin-top'),10)\r\n      dimensions[i] = [\r\n        pos.left - tolerance,\r\n        pos.left + el.outerWidth() + tolerance,\r\n        pos.top - tolerance,\r\n        pos.top + el.outerHeight() + tolerance\r\n      ]\r\n    }\r\n  }\r\n\r\n  function getRelativePosition(pointer, element) {\r\n    var offset = element.offset()\r\n    return {\r\n      left: pointer.left - offset.left,\r\n      top: pointer.top - offset.top\r\n    }\r\n  }\r\n\r\n  function sortByDistanceDesc(dimensions, pointer, lastPointer) {\r\n    pointer = [pointer.left, pointer.top]\r\n    lastPointer = lastPointer && [lastPointer.left, lastPointer.top]\r\n\r\n    var dim,\r\n    i = dimensions.length,\r\n    distances = []\r\n\r\n    while(i--){\r\n      dim = dimensions[i]\r\n      distances[i] = [i,d(dim,pointer), lastPointer && d(dim, lastPointer)]\r\n    }\r\n    distances = distances.sort(function  (a,b) {\r\n      return b[1] - a[1] || b[2] - a[2] || b[0] - a[0]\r\n    })\r\n\r\n    // last entry is the closest\r\n    return distances\r\n  }\r\n\r\n  function ContainerGroup(options) {\r\n    this.options = $.extend({}, groupDefaults, options)\r\n    this.containers = []\r\n\r\n    if(!this.options.rootGroup){\r\n      this.scrollProxy = $.proxy(this.scroll, this)\r\n      this.dragProxy = $.proxy(this.drag, this)\r\n      this.dropProxy = $.proxy(this.drop, this)\r\n      this.placeholder = $(this.options.placeholder)\r\n\r\n      if(!options.isValidTarget)\r\n        this.options.isValidTarget = undefined\r\n    }\r\n  }\r\n\r\n  ContainerGroup.get = function  (options) {\r\n    if(!containerGroups[options.group]) {\r\n      if(options.group === undefined)\r\n        options.group = groupCounter ++\r\n\r\n      containerGroups[options.group] = new ContainerGroup(options)\r\n    }\r\n\r\n    return containerGroups[options.group]\r\n  }\r\n\r\n  ContainerGroup.prototype = {\r\n    dragInit: function  (e, itemContainer) {\r\n      this.$document = $(itemContainer.el[0].ownerDocument)\r\n\r\n      // get item to drag\r\n      var closestItem = $(e.target).closest(this.options.itemSelector);\r\n      // using the length of this item, prevents the plugin from being started if there is no handle being clicked on.\r\n      // this may also be helpful in instantiating multidrag.\r\n      if (closestItem.length) {\r\n        this.item = closestItem;\r\n        this.itemContainer = itemContainer;\r\n        if (this.item.is(this.options.exclude) || !this.options.onMousedown(this.item, groupDefaults.onMousedown, e)) {\r\n            return;\r\n        }\r\n        this.setPointer(e);\r\n        this.toggleListeners('on');\r\n        this.setupDelayTimer();\r\n        this.dragInitDone = true;\r\n      }\r\n    },\r\n    drag: function  (e) {\r\n      if(!this.dragging){\r\n        if(!this.distanceMet(e) || !this.delayMet)\r\n          return\r\n\r\n        this.options.onDragStart(this.item, this.itemContainer, groupDefaults.onDragStart, e)\r\n        this.item.before(this.placeholder)\r\n        this.dragging = true\r\n      }\r\n\r\n      this.setPointer(e)\r\n      // place item under the cursor\r\n      this.options.onDrag(this.item,\r\n                          getRelativePosition(this.pointer, this.item.offsetParent()),\r\n                          groupDefaults.onDrag,\r\n                          e)\r\n\r\n      var p = this.getPointer(e),\r\n      box = this.sameResultBox,\r\n      t = this.options.tolerance\r\n\r\n      if(!box || box.top - t > p.top || box.bottom + t < p.top || box.left - t > p.left || box.right + t < p.left)\r\n        if(!this.searchValidTarget()){\r\n          this.placeholder.detach()\r\n          this.lastAppendedItem = undefined\r\n        }\r\n    },\r\n    drop: function  (e) {\r\n      this.toggleListeners('off')\r\n\r\n      this.dragInitDone = false\r\n\r\n      if(this.dragging){\r\n        // processing Drop, check if placeholder is detached\r\n        if(this.placeholder.closest(\"html\")[0]){\r\n          this.placeholder.before(this.item).detach()\r\n        } else {\r\n          this.options.onCancel(this.item, this.itemContainer, groupDefaults.onCancel, e)\r\n        }\r\n        this.options.onDrop(this.item, this.getContainer(this.item), groupDefaults.onDrop, e)\r\n\r\n        // cleanup\r\n        this.clearDimensions()\r\n        this.clearOffsetParent()\r\n        this.lastAppendedItem = this.sameResultBox = undefined\r\n        this.dragging = false\r\n      }\r\n    },\r\n    searchValidTarget: function  (pointer, lastPointer) {\r\n      if(!pointer){\r\n        pointer = this.relativePointer || this.pointer\r\n        lastPointer = this.lastRelativePointer || this.lastPointer\r\n      }\r\n\r\n      var distances = sortByDistanceDesc(this.getContainerDimensions(),\r\n                                         pointer,\r\n                                         lastPointer),\r\n      i = distances.length\r\n\r\n      while(i--){\r\n        var index = distances[i][0],\r\n        distance = distances[i][1]\r\n\r\n        if(!distance || this.options.pullPlaceholder){\r\n          var container = this.containers[index]\r\n          if(!container.disabled){\r\n            if(!this.$getOffsetParent()){\r\n              var offsetParent = container.getItemOffsetParent()\r\n              pointer = getRelativePosition(pointer, offsetParent)\r\n              lastPointer = getRelativePosition(lastPointer, offsetParent)\r\n            }\r\n            if(container.searchValidTarget(pointer, lastPointer))\r\n              return true\r\n          }\r\n        }\r\n      }\r\n      if(this.sameResultBox)\r\n        this.sameResultBox = undefined\r\n    },\r\n    movePlaceholder: function  (container, item, method, sameResultBox) {\r\n      var lastAppendedItem = this.lastAppendedItem\r\n      if(!sameResultBox && lastAppendedItem && lastAppendedItem[0] === item[0])\r\n        return;\r\n\r\n      item[method](this.placeholder)\r\n      this.lastAppendedItem = item\r\n      this.sameResultBox = sameResultBox\r\n      this.options.afterMove(this.placeholder, container, item)\r\n    },\r\n    getContainerDimensions: function  () {\r\n      if(!this.containerDimensions)\r\n        setDimensions(this.containers, this.containerDimensions = [], this.options.tolerance, !this.$getOffsetParent())\r\n      return this.containerDimensions\r\n    },\r\n    getContainer: function  (element) {\r\n      return element.closest(this.options.containerSelector).data(pluginName)\r\n    },\r\n    $getOffsetParent: function  () {\r\n      if(this.offsetParent === undefined){\r\n        var i = this.containers.length - 1,\r\n        offsetParent = this.containers[i].getItemOffsetParent()\r\n\r\n        if(!this.options.rootGroup){\r\n          while(i--){\r\n            if(offsetParent[0] != this.containers[i].getItemOffsetParent()[0]){\r\n              // If every container has the same offset parent,\r\n              // use position() which is relative to this parent,\r\n              // otherwise use offset()\r\n              // compare #setDimensions\r\n              offsetParent = false\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        this.offsetParent = offsetParent\r\n      }\r\n      return this.offsetParent\r\n    },\r\n    setPointer: function (e) {\r\n      var pointer = this.getPointer(e)\r\n\r\n      if(this.$getOffsetParent()){\r\n        var relativePointer = getRelativePosition(pointer, this.$getOffsetParent())\r\n        this.lastRelativePointer = this.relativePointer\r\n        this.relativePointer = relativePointer\r\n      }\r\n\r\n      this.lastPointer = this.pointer\r\n      this.pointer = pointer\r\n    },\r\n    distanceMet: function (e) {\r\n      var currentPointer = this.getPointer(e)\r\n      return (Math.max(\r\n        Math.abs(this.pointer.left - currentPointer.left),\r\n        Math.abs(this.pointer.top - currentPointer.top)\r\n      ) >= this.options.distance)\r\n    },\r\n    getPointer: function(e) {\r\n      var o = e.originalEvent || e.originalEvent.touches && e.originalEvent.touches[0]\r\n      return {\r\n        left: e.pageX || o.pageX,\r\n        top: e.pageY || o.pageY\r\n      }\r\n    },\r\n    setupDelayTimer: function () {\r\n      var that = this\r\n      this.delayMet = !this.options.delay\r\n\r\n      // init delay timer if needed\r\n      if (!this.delayMet) {\r\n        clearTimeout(this._mouseDelayTimer);\r\n        this._mouseDelayTimer = setTimeout(function() {\r\n          that.delayMet = true\r\n        }, this.options.delay)\r\n      }\r\n    },\r\n    scroll: function  (e) {\r\n      this.clearDimensions()\r\n      this.clearOffsetParent() // TODO is this needed?\r\n    },\r\n    toggleListeners: function (method) {\r\n      var that = this,\r\n      events = ['drag','drop','scroll']\r\n\r\n      $.each(events,function  (i,event) {\r\n        that.$document[method](eventNames[event], that[event + 'Proxy'])\r\n      })\r\n    },\r\n    clearOffsetParent: function () {\r\n      this.offsetParent = undefined\r\n    },\r\n    // Recursively clear container and item dimensions\r\n    clearDimensions: function  () {\r\n      this.traverse(function(object){\r\n        object._clearDimensions()\r\n      })\r\n    },\r\n    traverse: function(callback) {\r\n      callback(this)\r\n      var i = this.containers.length\r\n      while(i--){\r\n        this.containers[i].traverse(callback)\r\n      }\r\n    },\r\n    _clearDimensions: function(){\r\n      this.containerDimensions = undefined\r\n    },\r\n    _destroy: function () {\r\n      containerGroups[this.options.group] = undefined\r\n    }\r\n  }\r\n\r\n  function Container(element, options) {\r\n    this.el = element\r\n    this.options = $.extend( {}, containerDefaults, options)\r\n\r\n    this.group = ContainerGroup.get(this.options)\r\n    this.rootGroup = this.options.rootGroup || this.group\r\n    this.handle = this.rootGroup.options.handle || this.rootGroup.options.itemSelector\r\n\r\n    var itemPath = this.rootGroup.options.itemPath\r\n    this.target = itemPath ? this.el.find(itemPath) : this.el\r\n\r\n    this.target.on(eventNames.start, this.handle, $.proxy(this.dragInit, this))\r\n\r\n    if(this.options.drop)\r\n      this.group.containers.push(this)\r\n  }\r\n\r\n  Container.prototype = {\r\n    dragInit: function  (e) {\r\n      var rootGroup = this.rootGroup\r\n\r\n      if( !this.disabled &&\r\n          !rootGroup.dragInitDone &&\r\n          this.options.drag &&\r\n          this.isValidDrag(e)) {\r\n        rootGroup.dragInit(e, this)\r\n      }\r\n    },\r\n    isValidDrag: function(e) {\r\n      return e.which == 1 ||\r\n        e.type == \"touchstart\" && e.originalEvent.touches.length == 1\r\n    },\r\n    searchValidTarget: function  (pointer, lastPointer) {\r\n      var distances = sortByDistanceDesc(this.getItemDimensions(),\r\n                                         pointer,\r\n                                         lastPointer),\r\n      i = distances.length,\r\n      rootGroup = this.rootGroup,\r\n      validTarget = !rootGroup.options.isValidTarget ||\r\n        rootGroup.options.isValidTarget(rootGroup.item, this)\r\n\r\n      if(!i && validTarget){\r\n        rootGroup.movePlaceholder(this, this.target, \"append\")\r\n        return true\r\n      } else\r\n        while(i--){\r\n          var index = distances[i][0],\r\n          distance = distances[i][1]\r\n          if(!distance && this.hasChildGroup(index)){\r\n            var found = this.getContainerGroup(index).searchValidTarget(pointer, lastPointer)\r\n            if(found)\r\n              return true\r\n          }\r\n          else if(validTarget){\r\n            this.movePlaceholder(index, pointer)\r\n            return true\r\n          }\r\n        }\r\n    },\r\n    movePlaceholder: function  (index, pointer) {\r\n      var item = $(this.items[index]),\r\n      dim = this.itemDimensions[index],\r\n      method = \"after\",\r\n      width = item.outerWidth(),\r\n      height = item.outerHeight(),\r\n      offset = item.offset(),\r\n      sameResultBox = {\r\n        left: offset.left,\r\n        right: offset.left + width,\r\n        top: offset.top,\r\n        bottom: offset.top + height\r\n      }\r\n      if(this.options.vertical){\r\n        var yCenter = (dim[2] + dim[3]) / 2,\r\n        inUpperHalf = pointer.top <= yCenter\r\n        if(inUpperHalf){\r\n          method = \"before\"\r\n          sameResultBox.bottom -= height / 2\r\n        } else\r\n          sameResultBox.top += height / 2\r\n      } else {\r\n        var xCenter = (dim[0] + dim[1]) / 2,\r\n        inLeftHalf = pointer.left <= xCenter\r\n        if(inLeftHalf){\r\n          method = \"before\"\r\n          sameResultBox.right -= width / 2\r\n        } else\r\n          sameResultBox.left += width / 2\r\n      }\r\n      if(this.hasChildGroup(index))\r\n        sameResultBox = emptyBox\r\n      this.rootGroup.movePlaceholder(this, item, method, sameResultBox)\r\n    },\r\n    getItemDimensions: function  () {\r\n      if(!this.itemDimensions){\r\n        this.items = this.$getChildren(this.el, \"item\").filter(\r\n          \":not(.\" + this.group.options.placeholderClass + \", .\" + this.group.options.draggedClass + \")\"\r\n        ).get()\r\n        setDimensions(this.items, this.itemDimensions = [], this.options.tolerance)\r\n      }\r\n      return this.itemDimensions\r\n    },\r\n    getItemOffsetParent: function  () {\r\n      var offsetParent,\r\n      el = this.el\r\n      // Since el might be empty we have to check el itself and\r\n      // can not do something like el.children().first().offsetParent()\r\n      if(el.css(\"position\") === \"relative\" || el.css(\"position\") === \"absolute\"  || el.css(\"position\") === \"fixed\")\r\n        offsetParent = el\r\n      else\r\n        offsetParent = el.offsetParent()\r\n      return offsetParent\r\n    },\r\n    hasChildGroup: function (index) {\r\n      return this.options.nested && this.getContainerGroup(index)\r\n    },\r\n    getContainerGroup: function  (index) {\r\n      var childGroup = $.data(this.items[index], subContainerKey)\r\n      if( childGroup === undefined){\r\n        var childContainers = this.$getChildren(this.items[index], \"container\")\r\n        childGroup = false\r\n\r\n        if(childContainers[0]){\r\n          var options = $.extend({}, this.options, {\r\n            rootGroup: this.rootGroup,\r\n            group: groupCounter ++\r\n          })\r\n          childGroup = childContainers[pluginName](options).data(pluginName).group\r\n        }\r\n        $.data(this.items[index], subContainerKey, childGroup)\r\n      }\r\n      return childGroup\r\n    },\r\n    $getChildren: function (parent, type) {\r\n      var options = this.rootGroup.options,\r\n      path = options[type + \"Path\"],\r\n      selector = options[type + \"Selector\"]\r\n\r\n      parent = $(parent)\r\n      if(path)\r\n        parent = parent.find(path)\r\n\r\n      return parent.children(selector)\r\n    },\r\n    _serialize: function (parent, isContainer) {\r\n      var that = this,\r\n      childType = isContainer ? \"item\" : \"container\",\r\n\r\n      children = this.$getChildren(parent, childType).not(this.options.exclude).map(function () {\r\n        return that._serialize($(this), !isContainer)\r\n      }).get()\r\n\r\n      return this.rootGroup.options.serialize(parent, children, isContainer)\r\n    },\r\n    traverse: function(callback) {\r\n      $.each(this.items || [], function(item){\r\n        var group = $.data(this, subContainerKey)\r\n        if(group)\r\n          group.traverse(callback)\r\n      });\r\n\r\n      callback(this)\r\n    },\r\n    _clearDimensions: function  () {\r\n      this.itemDimensions = undefined\r\n    },\r\n    _destroy: function() {\r\n      var that = this;\r\n\r\n      this.target.off(eventNames.start, this.handle);\r\n      this.el.removeData(pluginName)\r\n\r\n      if(this.options.drop)\r\n        this.group.containers = $.grep(this.group.containers, function(val){\r\n          return val != that\r\n        })\r\n\r\n      $.each(this.items || [], function(){\r\n        $.removeData(this, subContainerKey)\r\n      })\r\n    }\r\n  }\r\n\r\n  var API = {\r\n    enable: function() {\r\n      this.traverse(function(object){\r\n        object.disabled = false\r\n      })\r\n    },\r\n    disable: function (){\r\n      this.traverse(function(object){\r\n        object.disabled = true\r\n      })\r\n    },\r\n    serialize: function () {\r\n      return this._serialize(this.el, true)\r\n    },\r\n    refresh: function() {\r\n      this.traverse(function(object){\r\n        object._clearDimensions()\r\n      })\r\n    },\r\n    destroy: function () {\r\n      this.traverse(function(object){\r\n        object._destroy();\r\n      })\r\n    }\r\n  }\r\n\r\n  $.extend(Container.prototype, API)\r\n\r\n  /**\r\n   * jQuery API\r\n   *\r\n   * Parameters are\r\n   *   either options on init\r\n   *   or a method name followed by arguments to pass to the method\r\n   */\r\n  $.fn[pluginName] = function(methodOrOptions) {\r\n    var args = Array.prototype.slice.call(arguments, 1)\r\n\r\n    return this.map(function(){\r\n      var $t = $(this),\r\n      object = $t.data(pluginName)\r\n\r\n      if(object && API[methodOrOptions])\r\n        return API[methodOrOptions].apply(object, args) || this\r\n      else if(!object && (methodOrOptions === undefined ||\r\n                          typeof methodOrOptions === \"object\"))\r\n        $t.data(pluginName, new Container($t, methodOrOptions))\r\n\r\n      return this\r\n    });\r\n  };\r\n\r\n}(jQuery, window, 'sortable');\r\n\n}.call(window));"]}