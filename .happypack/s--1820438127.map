{"version":3,"sources":["app/Resources/static-src/app/js/classroom-manage/course-manage-pick/index.js"],"names":["ids","$","tooltip","on","button","addClass","ajax","type","url","data","async","success","modal","window","location","reload","val","post","serialize","html","keydown","event","id","sid","attr","split","i","length","idArr","price","find","$course","parent","hasClass","removeClass","grep","key","push"],"mappings":"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","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["var ids = [];\n\n$('[data-toggle=\"tooltip\"]').tooltip();\n\n$('#sure').on('click', function () {\n  $('#sure').button('submiting').addClass('disabled');\n\n  $.ajax({\n    type: \"post\",\n    url: $('#sure').data('url'),\n    data: \"ids=\" + ids,\n    async: false,\n    success: function (data) {\n\n      $('.modal').modal('hide');\n      window.location.reload();\n    }\n\n  });\n\n});\n\n$('#search').on('click', function () {\n\n  if ($('[name=key]').val() != \"\") {\n\n    $.post($(this).data('url'), $('.form-search').serialize(), function (data) {\n\n      $('.courses-list').html(data);\n    });\n  }\n\n});\n\n$('.courses-list').on('click', '.pagination li', function () {\n  var url = $(this).data('url');\n  if (typeof (url) !== 'undefined') {\n    $.post(url, $('.form-search').serialize(), function (data) {\n      $('.courses-list').html(data);\n    });\n  }\n});\n\n$('#enterSearch').keydown(function (event) {\n\n  // if (event.keyCode == 13) {\n\n  //   $.post($(this).data('url'), $('.form-search').serialize(), function (data) {\n\n  //     $('.courses-list').html(data);\n\n  //   });\n  //   return false;\n  // }\n});\n\n$('#all-courses').on('click', function () {\n\n  $.post($(this).data('url'), $('.form-search').serialize(), function (data) {\n    $('#modal').html(data);\n  });\n\n});\n\n$('.js-course-select').on('change', function () {\n  var id = $(this).val();\n  var sid = $(this).attr('id').split(\"-\")[2];\n  for (var i = 0; i < ids.length; i++) {\n    var idArr = ids[i].split(\":\");\n    if (idArr[0] == sid) {\n      ids[i] = sid + \":\" + id;\n      break;\n    }\n  }\n  \n  var price = $(this).find(':selected').data('price');\n  $('.js-price-' + sid).html(price);\n});\n\n$('.courses-list').on('click', \".course-item-cbx\", function () {\n\n  var $course = $(this).parent();\n  var sid = $course.data('id');//courseSet.id\n\n  if ($course.hasClass('enabled')) {\n    return;\n  }\n  var id = $('#course-select-' + sid).val();\n  if ($course.hasClass('select')) {\n    $course.removeClass('select');\n    // $('.course-metas-'+sid).hide();\n\n    ids = $.grep(ids, function (val, key) {\n\n      if (val != sid + \":\" + id)\n        return true;\n    }, false);\n  } else {\n    $course.addClass('select');\n\n    // $('.course-metas-'+sid).show();\n\n    ids.push(sid + ':' + id);\n  }\n});"]}