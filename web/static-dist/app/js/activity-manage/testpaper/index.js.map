{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/activity-manage/testpaper/index.js","webpack:///./app/Resources/static-src/app/js/activity-manage/testpaper/testpaper.js"],"names":["$","Testpaper","$element","$step2_form","find","$step3_form","$parentiframe","window","parent","document","scoreSlider","_init","setValidateRule","initEvent","initStepForm2","on","changeTestpaper","event","showRedoInterval","startTimeCheck","changeEndTime","changeCondition","initSelectTestpaper","val","validator","addMethod","value","element","optional","test","format","Translator","trans","validate","onkeyup","rules","title","required","trim","maxlength","course_title","mediaId","digits","length","startTime","DateAndTime","redoInterval","arithmeticFloat","max","messages","data","$option","passScore","getItemsTable","closest","score","Math","ceil","text","initScoreSlider","parseInt","hide","$target","currentTarget","$this","show","dateTimePicker","removeClass","addClass","getElementById","option","start","connect","tooltips","step","range","updateOptions","noUiSlider","create","values","handle","toFixed","css","html","append","url","testpaperId","post","Date","$starttime","is","Format","datetimepicker","autoclose","language","documentElement","lang","minView","endDate","now","height","form","date","valueOf"],"mappings":"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","file":"app/js/activity-manage/testpaper/index.js","sourcesContent":["import Testpaper from './testpaper';\n\nnew Testpaper($('#iframe-content'));\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/testpaper/index.js","import { dateFormat } from '../../../common/unit';\n\nexport default class Testpaper {\n\tconstructor($element) {\n\t\tthis.$element = $element;\n    this.$step2_form  = this.$element.find('#step2-form');\n    this.$step3_form  = this.$element.find('#step3-form');\n    this.$parentiframe = $(window.parent.document).find('#task-create-content-iframe');\n    this.scoreSlider = null;\n    this._init();\n  }\n\n  _init() {\n    dateFormat();\n    this.setValidateRule();\n    this.initEvent();\n    this.initStepForm2();\n  }\n\n  initEvent() {\n  \tthis.$element.find('#testpaper-media').on('change', event=>this.changeTestpaper(event));\n  \tthis.$element.find('input[name=doTimes]').on('change', event=>this.showRedoInterval(event));\n  \tthis.$element.find('input[name=\"testMode\"]').on('change',event=>this.startTimeCheck(event))\n    this.$element.find('input[name=\"length\"]').on('blur',event=>this.changeEndTime(event));\n    this.$element.find('#condition-select').on('change',event=>this.changeCondition(event));\n    this.initSelectTestpaper(this.$element.find('#testpaper-media').find('option:selected'),$('[name=\"finishScore\"]').val());\n  }\n\n  setValidateRule() {\n    $.validator.addMethod(\"arithmeticFloat\",function(value,element){  \n      return this.optional( element ) || /^[0-9]+(\\.[0-9]?)?$/.test(value);\n    }, $.validator.format(Translator.trans(\"activity.testpaper_manage.arithmetic_float_error_hint\")));\n\n    $.validator.addMethod(\"positiveInteger\",function(value,element){  \n      return this.optional( element ) || /^[1-9]\\d*$/.test(value);\n    }, $.validator.format(Translator.trans(\"activity.testpaper_manage.positive_integer_error_hint\")));\n\n    \n  }\n\n  initStepForm2() {\n    var validator = this.$step2_form.validate({\n        onkeyup: false,\n        rules: {\n            title: {\n              required:true,\n              trim: true,\n              maxlength: 50,\n              course_title: true,\n            },\n            mediaId: {\n              required: true,\n              digits:true\n            },\n            length:{\n              required:true,\n              digits:true\n            },\n            startTime:{\n              required:function(){\n                return ($('[name=\"doTimes\"]:checked').val() == 1) && ($('[name=\"testMode\"]:checked').val() == 'realTime');\n              },\n              DateAndTime:function(){\n                return ($('[name=\"doTimes\"]:checked').val() == 1) && ($('[name=\"testMode\"]:checked').val() == 'realTime');\n              }\n            },\n            redoInterval:{\n              required:function(){\n                return $('[name=\"doTimes\"]:checked').val() == 0;\n              },\n              arithmeticFloat:true,\n              max:1000000000\n            }\n        },\n        messages: {\n          mediaId: {\n            required:Translator.trans('activity.testpaper_manage.media_error_hint'),\n          },\n          redoInterval: {\n            max: Translator.trans(\"activity.testpaper_manage.max_error_hint\")\n          },\n        }\n    });\n    this.$step2_form.data('validator',validator);\n  }\n\n  initSelectTestpaper($option, passScore='') {\n    let mediaId = $option.val();\n    if (mediaId != '') {\n      this.getItemsTable($option.closest('select').data('getTestpaperItems'), mediaId);\n      let score = $option.data('score');\n      if (passScore == '') {\n        passScore = Math.ceil(score * 0.6);\n      }\n      $('#score-single-input').val(passScore);\n      $('.js-score-total').text(score);\n      if(!$('input[name=\"title\"]').val()) {\n        $('input[name=\"title\"]').val($option.text());\n      }\n      this.initScoreSlider(parseInt(passScore),parseInt(score));\n    } else {\n      $('#questionItemShowDiv').hide();\n    }\n  }\n\n  changeTestpaper(event) {\n    let $target = $(event.currentTarget);\n    let $option = $target.find('option:selected');\n    this.initSelectTestpaper($option);\n  }\n\n  showRedoInterval(event) {\n    let $this = $(event.currentTarget);\n    if ($this.val() == 1) {\n      $('#lesson-redo-interval-field').closest('.form-group').hide();\n      $('.starttime-check-div').show();\n      this.dateTimePicker();\n    } else {\n      $('#lesson-redo-interval-field').closest('.form-group').show();\n      $('.starttime-check-div').hide();\n    }\n  }\n\n  startTimeCheck(event) {\n    var $this = $(event.currentTarget);\n\n    if ($this.val() == 'realTime') {\n      $('.starttime-input').removeClass('hidden');\n      this.dateTimePicker();\n    } else {\n      $('.starttime-input').addClass('hidden');\n      //$('input[name=\"startTime\"]').val('0');\n    }\n  }\n\n  changeEndTime(event) {\n    let startTime = $('input[name=\"startTime\"]:visible').val();\n    // if (startTime) {\n    //   this.showEndTime(Date.parse(startTime));\n    // }\n  }\n\n  changeCondition(event) {\n    let $this = $(event.currentTarget);\n    let value = $this.find('option:selected').val();\n    value!='score' ? $('.js-score-form-group').addClass('hidden') : $('.js-score-form-group').removeClass('hidden');\n  }\n\n  initScoreSlider(passScore,score) {\n    let scoreSlider = document.getElementById('score-slider');\n    let option = {\n      start: passScore,\n      connect: [true, false],\n      tooltips: [true],\n      step: 1,\n      range: {\n        'min': 0,\n        'max': score\n      }\n    }\n    if(this.scoreSlider) {\n      this.scoreSlider.updateOptions(option);\n    }else {\n      this.scoreSlider = noUiSlider.create(scoreSlider,option);\n      scoreSlider.noUiSlider.on('update', function( values, handle ){\n        $('.noUi-tooltip').text(`${(values[handle]/score*100).toFixed(0)}%`);\n        $('.js-score-tooltip').css('left',`${(values[handle]/score*100).toFixed(0)}%`);\n        $('.js-passScore').text(parseInt(values[handle]));\n        $('input[name=\"finishScore\"]').val(parseInt(values[handle]));\n      });\n    }\n    let html = `<div class=\"score-tooltip js-score-tooltip\"><div class=\"tooltip top\" role=\"tooltip\" style=\"\">\n      <div class=\"tooltip-arrow\"></div>\n      <div class=\"tooltip-inner \">\n\t\t\t${Translator.trans('activity.testpaper_manage.pass_score_hint', {'passScore': '<span class=\"js-passScore\">'+passScore+'</span>'})}\n      </div>\n      </div></div>`;\n    $('.noUi-handle').append(html);\n    $('.noUi-tooltip').text(`${(passScore/score*100).toFixed(0)}%`);\n    $('.js-score-tooltip').css('left',`${(passScore/score*100).toFixed(0)}%`);\n  }\n\n  getItemsTable(url, testpaperId) {\n  \t$.post(url, {testpaperId:testpaperId},function(html){\n      $('#questionItemShowTable').html(html);\n      $('#questionItemShowDiv').show();\n    });\n  }\n\n  dateTimePicker() {\n    let data = new Date();\n    let $starttime = $('input[name=\"startTime\"]');\n\n    if ($starttime.is(':visible') && ($starttime.val() == '' || $starttime.val() == '0')) {\n      $starttime.val(data.Format('yyyy-MM-dd hh:mm'));\n    }\n   \n    $starttime.datetimepicker({\n      autoclose: true,\n      format: 'yyyy-mm-dd hh:ii',\n      language: document.documentElement.lang,\n      minView: 'hour',\n      endDate: new Date(Date.now() + 86400 * 365 * 10 *1000)\n    })\n    .on('show', event => {\n      this.$parentiframe.height($('body').height() + 240);\n    })\n    .on('hide', event => {\n      this.$step2_form.data('validator').form();\n      this.$parentiframe.height($('body').height());\n    })\n    .on('changeDate',event =>{\n      let date = event.date.valueOf();\n      // this.showEndTime(date);\n    });\n    $starttime.datetimepicker('setStartDate',data);\n    // this.showEndTime(Date.parse($starttime.val()));\n  }\n\n  // showEndTime(date) {\n  //   let limitedTime = $('input[name=\"limitedTime\"]').val();\n  //   if (limitedTime != 0) {\n  //     let endTime = new Date(date + limitedTime * 60 * 1000);\n  //     let endDate = endTime.Format(\"yyyy-MM-dd hh:mm\");\n  //     $('#starttime-show').html(endDate);\n  //     $('.endtime-input').removeClass('hidden');\n  //     $('input[name=\"endTime\"]').val(endDate);\n  //   }else {\n  //     $('.endtime-input').addClass('hidden');\n  //   }\n  // }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity-manage/testpaper/testpaper.js"],"sourceRoot":""}