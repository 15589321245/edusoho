{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/pay/select/index.js"],"names":["$modal","$","on","$this","hasClass","addClass","siblings","removeClass","val","attr","show","hide","post","data","Translator","trans","window","location","href","e","stopPropagation","find","prop","confirm","payAgreementId","closest","response","success","message","modal","html","event","textarea","document","createElement","style","position","top","left","border","outline","resize","background","color","value","ele","append","select","execCommand","remove"],"mappings":"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","file":"app/js/pay/select/index.js","sourcesContent":["import notify from 'common/notify';\n\nlet $modal = $('#modal');\n\n$(\".form-paytype\").on('click', '.check', function () {\n  let $this = $(this);\n  if (!$this.hasClass('active') && !$this.hasClass('disabled')) {\n    $this.addClass('active').siblings().removeClass('active');\n    $(\"input[name='payment']\").val($this.attr(\"id\"));\n  }\n  if ($this.attr('id') == 'quickpay') {\n    $('.js-pay-agreement').show();\n  } else {\n    $('.js-pay-agreement').hide();\n  }\n\n}).on('click', '.js-order-cancel', function () {\n  let $this = $(this);\n  $.post($this.data('url'), function (data) {\n    if (data != true) {\n      notify('danger',Translator.trans('notify.order_cancel_failed.message'));\n    }\n    notify('success',Translator.trans('notify.order_cancel_succeed.message'));\n    window.location.href = $this.data('goto');\n  });\n\n}).on(\"click\", '.js-pay-bank', function (e) {\n  e.stopPropagation();\n  let $this = $(this);\n  $this.addClass('checked').siblings('li').removeClass('checked');\n  $this.find('input').prop(\"checked\", true);\n\n}).on('click', '.js-pay-bank .closed', function () {\n\n  if (!confirm(Translator.trans('confirm.bind_pay_bank.message'))) {\n    return;\n  }\n\n  let $this = $(this);\n  let payAgreementId = $this.closest(\".js-pay-bank\").find(\"input\").val();\n\n  $.post($this.data('url'), { 'payAgreementId': payAgreementId }, function (response) {\n    if (response.success == false) {\n      notify('danger',response.message);\n    } else {\n      $modal.modal('show');\n      $modal.html(response);\n    }\n  })\n})\n\n$(\"input[name='payment']\").val($('div .active').attr(\"id\"));\n\n$(\"#copy\").on('click', function (event) {\n  let textarea = document.createElement(\"textarea\");\n  textarea.style.position = 'fixed';\n  textarea.style.top = 0;\n  textarea.style.left = 0;\n  textarea.style.border = 'none';\n  textarea.style.outline = 'none';\n  textarea.style.resize = 'none';\n  textarea.style.background = 'transparent';\n  textarea.style.color = 'transparent';\n\n  textarea.value = document.location.href;\n  let ele = $(textarea);\n  $(this).append(ele);\n\n  textarea.select();\n  document.execCommand('copy');\n\n  ele.remove();\n  notify('success',Translator.trans('notify.copy_succeed.message'));\n})\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/pay/select/index.js"],"sourceRoot":""}