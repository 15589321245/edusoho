{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/activity/new-doc/index.js"],"names":["url","$","data","window","QiQiuYun","xhr","XMLHttpRequest","open","Date","now","send","firstScriptTag","document","getElementsByTagName","script","createElement","text","responseText","parentNode","insertBefore","$element","initDocPlayer","onFullScreen","Player","id","resNo","token","user","name","onmessage","e","undefined","isPageFullScreen","docContent","parent","removeClass","width","addClass","body","offsetWidth"],"mappings":";;;;;;AAAA,KAAIA,MAAMC,EAAE,eAAF,EAAmBC,IAAnB,CAAwB,KAAxB,CAAV;AACA,EAAC,UAAUF,GAAV,EAAe;AACfG,SAAOC,QAAP,KAAoBD,OAAOC,QAAP,GAAkB,EAAtC;AACA,MAAIC,MAAM,IAAIC,cAAJ,EAAV;AACAD,MAAIE,IAAJ,CAAS,KAAT,EAAgBP,MAAM,GAAN,GAAY,CAAC,EAAEQ,KAAKC,GAAL,KAAa,IAAb,GAAoB,EAAtB,CAA7B,EAAwD,KAAxD,EAHe,CAGiD;AAChEJ,MAAIK,IAAJ,CAAS,IAAT;AACA,MAAIC,iBAAiBC,SAASC,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAArB;AACA,MAAIC,SAASF,SAASG,aAAT,CAAuB,QAAvB,CAAb;AACAD,SAAOE,IAAP,GAAcX,IAAIY,YAAlB;AACAN,iBAAeO,UAAf,CAA0BC,YAA1B,CAAuCL,MAAvC,EAA+CH,cAA/C;AACA,EATD,EASGX,GATH;;AAWA,KAAIoB,WAAWnB,EAAE,mBAAF,CAAf;;AAEAoB;AACAC;;AAEA,UAASD,aAAT,GAAyB;AACxB,MAAIjB,SAASmB,MAAb,CAAoB;AACnBC,OAAI,kBADe;AAEnBC,UAAOL,SAASlB,IAAT,CAAc,OAAd,CAFY;AAGnBwB,UAAON,SAASlB,IAAT,CAAc,OAAd,CAHY;AAInByB,SAAM;AACLH,QAAIJ,SAASlB,IAAT,CAAc,QAAd,CADC;AAEL0B,UAAMR,SAASlB,IAAT,CAAc,UAAd;AAFD;AAJa,GAApB;AAUA;;AAGD,UAASoB,YAAT,GAAwB;AACvBnB,SAAO0B,SAAP,GAAmB,UAAUC,CAAV,EAAa;AAC/B,OAAIA,KAAK,IAAL,IAAaA,KAAKC,SAAtB,EAAiC;AAChC;AACA;AACD,OAAIC,mBAAmBF,EAAE5B,IAAzB;AACA,OAAI,OAAO8B,gBAAP,IAA4B,SAAhC,EAA2C;AAC1C;AACA;AACD,OAAIC,aAAahC,EAAE,sBAAF,EAA0BE,OAAO+B,MAAP,CAActB,QAAxC,CAAjB;AACA,OAAIoB,gBAAJ,EAAsB;AACrBC,eAAWE,WAAX,CAAuB,aAAvB;AACAF,eAAWG,KAAX,CAAiB,MAAjB;AACA,IAHD,MAGO;AACNH,eAAWI,QAAX,CAAoB,aAApB;AACAJ,eAAWG,KAAX,CAAiBjC,OAAOS,QAAP,CAAgB0B,IAAhB,CAAqBC,WAArB,GAAmC,IAApD;AACA;AACD,GAhBD;AAiBA,E","file":"app/js/activity/new-doc/index.js","sourcesContent":["let url = $('.js-cloud-url').data('url');\n(function (url) {\n\twindow.QiQiuYun || (window.QiQiuYun = {});\n\tvar xhr = new XMLHttpRequest();\n\txhr.open('GET', url + '?' + ~~(Date.now() / 1000 / 60), false); // 可设置缓存时间。当前缓存时间为1分钟。\n\txhr.send(null);\n\tvar firstScriptTag = document.getElementsByTagName('script')[0];\n\tvar script = document.createElement('script');\n\tscript.text = xhr.responseText;\n\tfirstScriptTag.parentNode.insertBefore(script, firstScriptTag);\n})(url);\n\nlet $element = $('#document-content');\n\ninitDocPlayer();\nonFullScreen();\n\nfunction initDocPlayer() {\n\tnew QiQiuYun.Player({\n\t\tid: 'document-content',\n\t\tresNo: $element.data('resNo'),\n\t\ttoken: $element.data('token'),\n\t\tuser: {\n\t\t\tid: $element.data('userId'),\n\t\t\tname: $element.data('userName')\n\t\t}\n\t});\n\n}\n\n\nfunction onFullScreen() {\n\twindow.onmessage = function (e) {\n\t\tif (e == null || e == undefined) {\n\t\t\treturn;\n\t\t}\n\t\tvar isPageFullScreen = e.data;\n\t\tif (typeof(isPageFullScreen) != \"boolean\") {\n\t\t\treturn;\n\t\t}\n\t\tvar docContent = $('#task-content-iframe', window.parent.document);\n\t\tif (isPageFullScreen) {\n\t\t\tdocContent.removeClass('screen-full');\n\t\t\tdocContent.width('100%');\n\t\t} else {\n\t\t\tdocContent.addClass('screen-full');\n\t\t\tdocContent.width(window.document.body.offsetWidth + \"px\");\n\t\t}\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/activity/new-doc/index.js"],"sourceRoot":""}