{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/question/type/choice-question.js?9419*","webpack:///./app/Resources/static-src/app/js/question/type/determine-question.js?6d08*","webpack:///./app/Resources/static-src/app/js/question/type/essay-question.js?6b56*","webpack:///./app/Resources/static-src/app/js/question/type/fill-question.js?b3a0*","webpack:///./app/Resources/static-src/app/js/question/type/single-choice-question.js?32a8*","webpack:///./app/Resources/static-src/app/js/testpaper-manage/check/index.js","webpack:///./app/Resources/static-src/app/js/testpaper/widget/part.js?6e54*","webpack:///./app/Resources/static-src/app/js/testpaper/widget/question-type-builder.js?a80e*"],"names":["ChoiceQuesiton","questionId","answers","$","each","push","val","DetermineQuestion","EssayQuestion","value","attachment","fileId","parent","find","FillQuestion","SingleChoiceQuestion","validator","addMethod","element","isFloat","test","Number","data","format","Translator","trans","CheckTest","$container","checkContent","$form","$dialog","_initEvent","_init","_initValidate","on","_showEssayInputEditor","event","_submitValidate","_quick2Question","_submit","_teacherSayFill","$shortTextarea","currentTarget","hasClass","preventDefault","stopPropagation","blur","$longTextarea","siblings","$textareaBtn","hide","show","editor","CKEDITOR","replace","attr","toolbar","filebrowserImageUploadUrl","e","updateElement","setTimeout","getData","change","focus","one","text","destroy","validate","length","index","rules","required","score","min","messages","$target","position","offset","document","scrollTop","top","scoreTotal","undefined","form","self","content","subjectiveScore","totalScore","html","modal","teacherSay","passedStatus","button","post","result","response","window","location","reload","$option","initScrollbar","$paneCard","perfectScrollbar","testpaperCardFixed","console","log","$testpaperCard","testpaperCard_top","scroll","addClass","removeClass","testpaperCardLocation","click","$btn","onlyShowError","$current","item","$item","$itemParent","closest","prop","initWatermark","$testpaperWatermark","get","WaterMark","QuestionTypeBuilder","type","questionBuilder"],"mappings":"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","file":"app/js/testpaper-manage/check/index.js","sourcesContent":["class ChoiceQuesiton\n{\n\tconstructor() {\n\t}\n\n\tgetAnswer(questionId) {\n\t\tlet answers = [];\n\t\t$('input[name='+questionId+']:checked').each(function(){\n\t\t\tanswers.push($(this).val());\n\t\t})\n\n\t\treturn answers;\n\t}\n}\n\nexport default ChoiceQuesiton;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/question/type/choice-question.js","class DetermineQuestion\n{\n\tconstructor() {\n\t\t\n\t}\n\n\tgetAnswer(questionId) {\n\t\tlet answers = [];\n\t\t\n\t\t$('input[name='+questionId+']:checked').each(function(){\n\t\t\tanswers.push($(this).val());\n\t\t})\n\n\t\treturn answers;\n\t}\n}\n\nexport default DetermineQuestion;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/question/type/determine-question.js","class EssayQuestion\n{\n\tconstructor() {\n\t\t\n\t}\n\n\tgetAnswer(questionId) {\n\t\tlet answers = [];\n\t\tlet value = $('[name='+questionId+']').val();\n\t\tanswers.push(value);\n\n\t\treturn answers;\n\t}\n\n  getAttachment(questionId) {\n    let attachment = [];\n    let fileId = $('[name='+questionId+']').parent().find('[data-role=\"fileId\"]').val();\n\n    if (fileId != '') {\n      attachment.push(fileId);\n    }\n\n    return attachment;\n  }\n}\n\nexport default EssayQuestion;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/question/type/essay-question.js","class FillQuestion\n{\n\tconstructor() {\n\t\t\n\t}\n\n\tgetAnswer(questionId) {\n\t\tlet answers = [];\n\t\t$('input[name='+questionId+']').each(function(){\n\t      \tanswers.push($(this).val());\n\t    });\n\n\t\treturn answers;\n\t}\n}\n\nexport default FillQuestion;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/question/type/fill-question.js","class SingleChoiceQuestion\n{\n\tconstructor() {\n\t}\n\n\tgetAnswer(questionId) {\n\t\tlet answers = [];\n\t\t$('input[name='+questionId+']:checked').each(function(){\n\t\t\tanswers.push($(this).val());\n\t\t})\n\n\t\treturn answers;\n\t}\n}\n\nexport default SingleChoiceQuestion;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/question/type/single-choice-question.js","import QuestionTypeBuilder from '../../testpaper/widget/question-type-builder';\nimport {\n  testpaperCardFixed,\n} from 'app/js/testpaper/widget/part';\n\n$.validator.addMethod(\"score\",function(value,element){ \n  let isFloat = /^\\d+(\\.\\d)?$/.test(value);\n  if (!isFloat){\n    return false;\n  }\n\n  if (Number(value) <= Number($(element).data('score'))) {\n    return true;\n  } else {\n    return false;\n  }\n  \n}, $.validator.format(Translator.trans('activity.testpaper_manage.marking_validate_error_hint')));\n\nclass CheckTest\n{\n  constructor($container) {\n\n    this.$container = $container;\n    this.checkContent = {};\n    this.$form = $container.find('form');\n    this.$dialog = $container.find('#testpaper-checked-dialog');\n    this.validator = null;\n    this._initEvent();\n    this._init();\n    this._initValidate();\n    testpaperCardFixed();\n  }\n\n  _initEvent() {\n    this.$container.on('focusin','textarea',event=>this._showEssayInputEditor(event));\n    this.$container.on('click','[data-role=\"check-submit\"]',event=>this._submitValidate(event));\n    this.$container.on('click','*[data-anchor]',event=>this._quick2Question(event));\n    this.$dialog.on('click','[data-role=\"finish-check\"]',event=>this._submit(event));\n    this.$dialog.on('change','select',event=>this._teacherSayFill(event));\n  }\n\n  _init() {\n\n  }\n\n  _showEssayInputEditor(event) {\n    let $shortTextarea = $(event.currentTarget);\n\n    if ($shortTextarea.hasClass('essay-teacher-say-short')) {\n      \n      event.preventDefault();\n      event.stopPropagation();\n      $(this).blur();\n      let $longTextarea = $shortTextarea.siblings('.essay-teacher-say-long');\n      let $textareaBtn = $longTextarea.siblings('.essay-teacher-say-btn');\n\n      $shortTextarea.hide();\n      $longTextarea.show();\n      $textareaBtn.show();\n\n      let editor = CKEDITOR.replace($longTextarea.attr('id'), {\n        toolbar: 'Minimal',\n        filebrowserImageUploadUrl: $longTextarea.data('imageUploadUrl')\n      });\n\n      editor.on('blur', function(e) {\n        editor.updateElement();\n        setTimeout(function() {\n          $longTextarea.val(editor.getData());\n          $longTextarea.change();\n        }, 1);\n      });\n\n      editor.on('instanceReady', function(e) {\n        this.focus();\n\n        $textareaBtn.one('click', function() {\n          $shortTextarea.val($(editor.getData()).text());\n          editor.destroy();\n          $longTextarea.hide();\n          $textareaBtn.hide();\n          $shortTextarea.show();\n        });\n      });\n\n      editor.on('key', function(){\n        editor.updateElement();\n        setTimeout(function() {\n          $longTextarea.val(editor.getData());\n          $longTextarea.change();\n        }, 1);\n      });\n\n      editor.on('insertHtml', function(e) {\n        editor.updateElement();\n        setTimeout(function() {\n          $longTextarea.val(editor.getData());\n          $longTextarea.change();\n        }, 1);\n      });\n    }\n    \n  }\n\n  _initValidate(event) {\n    this.validator = this.$form.validate();\n\n    if ($('*[data-score]:visible').length > 0) {\n      $('*[data-score]:visible').each(function(index){\n        $(this).rules('add',{\n          required:true,\n          score:true,\n          min:0,\n          messages: {    \n            required: Translator.trans('activity.testpaper_manage.required_error_hint'),    \n          } \n        })\n      })\n    }\n\n  }\n\n  _quick2Question(event) {\n    let $target = $(event.currentTarget); \n    let position = $($target.data('anchor')).offset();\n    $(document).scrollTop(position.top - 55);\n  }\n\n  _submitValidate(event) {\n    let $target = $(event.currentTarget);\n    let scoreTotal = 0;\n\n    if (this.validator == undefined || this.validator.form()) {\n      let self = this;\n      $('*[data-score]').each(function(){\n        let content = {};\n        let questionId = $(this).data('id');\n        \n        content['score'] = Number($(this).val());\n        content['teacherSay'] = $('[name=\"teacherSay_'+questionId+'\"]').val();\n\n        self.checkContent[questionId] = content;\n        scoreTotal = scoreTotal + Number($(this).val());\n      })\n\n      let subjectiveScore = Number(this.$dialog.find('[name=\"objectiveScore\"]').val());\n      let totalScore = Number(scoreTotal) + subjectiveScore;\n\n      this.$dialog.find('#totalScore').html(totalScore);\n      this.$dialog.modal('show');\n    }\n\n\n  }\n\n  _submit(event) {\n\n    let $target = $(event.currentTarget);\n    let teacherSay = this.$dialog.find('textarea').val();\n    let passedStatus = this.$dialog.find('[name=\"passedStatus\"]:checked').val();\n\n    $target.button('loading');\n    $.post($target.data('postUrl'), {result:this.checkContent,teacherSay:teacherSay,passedStatus:passedStatus}, function(response) {\n        window.location.reload();\n    })\n  }\n\n  _teacherSayFill(event) {\n    let $target = $(event.currentTarget);\n    let $option = $target.find('option:selected');\n\n    if ($option.val() == '') {\n      this.$dialog.find('textarea').val('');\n    } else {\n      this.$dialog.find('textarea').val($option.text());\n    }\n  }\n}\n\nnew CheckTest($('.container'));\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/testpaper-manage/check/index.js","import 'app/common/watermark';\nimport { Browser, isMobileDevice } from 'common/utils';\n\nexport const initScrollbar = ()=> {\n\tlet $paneCard = $('.js-panel-card');\n  $paneCard.perfectScrollbar();\n\t$paneCard.perfectScrollbar('update');\n}\n\nexport const testpaperCardFixed =()=> {\n  console.log('ok');\n  if (isMobileDevice()) return;\n\n \tlet $testpaperCard = $(\".js-testpaper-card\");\n\tif ($testpaperCard.length <= 0 ) {\n\t\treturn;\n\t}\n\tlet testpaperCard_top = $testpaperCard.offset().top;\n\t$(window).scroll(function(event) {\n\t\t\tlet scrollTop = $(window).scrollTop();\n\t\t\tif (scrollTop >= testpaperCard_top) {\n\t\t\t\t$testpaperCard.addClass('affix')\n\t\t\t} else {\n\t\t\t\t$testpaperCard.removeClass('affix');\n\t\t\t}\n\t});\n}\n\nexport const testpaperCardLocation = () => {\n\t$('.js-btn-index').click((event)=>{\n\t\tlet $btn = $(event.currentTarget);\n\t\tif($('.js-testpaper-heading').length <= 0) {\n\t\t\t$btn.addClass('doing').siblings('.doing').removeClass('doing');\n\t\t}\n\t})\n}\n\nexport const onlyShowError = ()=> {\n\t$('#showWrong').change((event)=>{\n\t\tlet $current =$(event.currentTarget);\n\t\t$('.js-answer-notwrong').each(function (index,item) {  \n\t\t\tlet $item = $($(item).data('anchor'));\n\t\t\tlet $itemParent = $item.closest('.js-testpaper-question-block');\n\t\t\tif($current.prop('checked')) {\n\t\t\t\t$item.hide();\n\t\t\t\tif($itemParent.find('.js-testpaper-question:visible').length<=0) {\n\t\t\t\t\t$itemParent.hide();\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t$item.show();\n\t\t\t\t$itemParent.show();\n\t\t\t}\n\t\t});\n\t\tinitScrollbar();\n\t})\n}\n\nexport const initWatermark = ()=> {\n\tlet $testpaperWatermark = $('.js-testpaper-watermark');\n  if ($testpaperWatermark.length > 0) {\n    $.get($testpaperWatermark.data('watermark-url'), function(response){\n      $testpaperWatermark.each(function(){\n        $(this).WaterMark({\n          'yPosition': 'center',\n          'style': {'font-size':10},\n          'opacity': 0.6,\n          'contents': response\n        });\n      })\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/testpaper/widget/part.js","import ChoiceQuesiton from '../../question/type/choice-question';\nimport DetermineQuestion from '../../question/type/determine-question';\nimport EssayQuestion from '../../question/type/essay-question';\nimport FillQuestion from '../../question/type/fill-question';\nimport SingleChoiceQuestion from '../../question/type/single-choice-question';\nimport UncertainChoiceQuesiton from '../../question/type/single-choice-question';\n\n\nclass QuestionTypeBuilder\n{\n\tconstructor(type)\n\t{\n\t\tthis.type = type;\n\t}\n\n\tstatic getTypeBuilder(type) {\n\t\tlet questionBuilder = null;\n\t\tswitch (type) {\n\t\t\tcase 'choice':\n\t\t\t\tquestionBuilder = new ChoiceQuesiton();\n\t\t\t\tbreak;\n\t\t\tcase 'determine':\n\t\t\t\tquestionBuilder = new DetermineQuestion();\n\t\t\t\tbreak;\n\t\t\tcase 'essay':\n\t\t\t\tquestionBuilder = new EssayQuestion();\n\t\t\t\tbreak;\n\t\t\tcase 'fill':\n\t\t\t\tquestionBuilder = new FillQuestion();\n\t\t\t\tbreak;\n\t\t\tcase 'single_choice':\n\t\t\t\tquestionBuilder = new SingleChoiceQuestion();\n\t\t\t\tbreak;\n\t\t\tcase 'uncertain_choice':\n\t\t\t\tquestionBuilder = new UncertainChoiceQuesiton();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tquestionBuilder = null;\n\t\t}\n\n\t\treturn questionBuilder\n\t}\n}\n\nexport default QuestionTypeBuilder;\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/testpaper/widget/question-type-builder.js"],"sourceRoot":""}