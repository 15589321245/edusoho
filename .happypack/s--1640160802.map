{"version":3,"sources":["app/Resources/static-src/app/js/testpaper-manage/index.js"],"names":["TestpaperManage","$container","_initEvent","_init","on","testpaperAction","event","$target","$","currentTarget","$tr","closest","confirm","attr","post","data","html","text","replaceWith","error"],"mappings":";;;;AAAA;;;;AACA;;;;AACA;;;;;;;;IAEMA,e;AAEJ,2BAAYC,UAAZ,EAAwB;AAAA;;AAEtB,SAAKA,UAAL,GAAkBA,UAAlB;AACA,SAAKC,UAAL;AACA,SAAKC,KAAL;AACD;;;;iCAEY;AAAA;;AACX,WAAKF,UAAL,CAAgBG,EAAhB,CAAmB,OAAnB,EAA2B,kCAA3B,EAA8D;AAAA,eAAO,MAAKC,eAAL,CAAqBC,KAArB,CAAP;AAAA,OAA9D;AAED;;;4BAEO,CAEP;;;oCAEeA,K,EAAO;AACrB,UAAIC,UAAUC,EAAEF,MAAMG,aAAR,CAAd;AACA,UAAIC,MAAMH,QAAQI,OAAR,CAAgB,IAAhB,CAAV;;AAEA,UAAI,CAACC,QAAQL,QAAQM,IAAR,CAAa,OAAb,CAAR,CAAL,EAAqC;AACnC;AACD;;AAEDL,QAAEM,IAAF,CAAOP,QAAQQ,IAAR,CAAa,KAAb,CAAP,EAA4B,UAASC,IAAT,EAAc;AACxC,8BAAO,SAAP,EAAkBT,QAAQU,IAAR,KAAe,IAAjC;AACAP,YAAIQ,WAAJ,CAAgBF,IAAhB;AACD,OAHD,EAGGG,KAHH,CAGS,YAAU;AACjB,8BAAO,QAAP,EAAiBZ,QAAQU,IAAR,KAAiB,IAAlC;AACD,OALD;AAMD;;;;;;AAIH,IAAIhB,aAAaO,EAAE,uBAAF,CAAjB;AACA,IAAIR,eAAJ,CAAoBC,UAApB;AACA,0BAAgBA,UAAhB;AACA,2BAAiBA,UAAjB","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import notify from 'common/notify';\nimport BatchSelect from '../../common/widget/batch-select';\nimport DeleteAction from '../../common/widget/delete-action';\n\nclass TestpaperManage\n{\n  constructor($container) {\n\n    this.$container = $container;\n    this._initEvent();\n    this._init();\n  }\n\n  _initEvent() {\n    this.$container.on('click','.open-testpaper,.close-testpaper',event=>this.testpaperAction(event));\n\n  }\n\n  _init() {\n\n  }\n\n  testpaperAction(event) {\n    let $target = $(event.currentTarget);\n    let $tr = $target.closest('tr');\n\n    if (!confirm($target.attr('title'))) {\n      return ;\n    }\n\n    $.post($target.data('url'), function(html){\n      notify('success', $target.text()+\"成功\");\n      $tr.replaceWith(html);\n    }).error(function(){\n      notify('danger', $target.text() + \"失败\");\n    });\n  }\n  \n}\n\nlet $container = $('#quiz-table-container');\nnew TestpaperManage($container);\nnew BatchSelect($container);\nnew DeleteAction($container);\n"]}