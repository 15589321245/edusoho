{"version":3,"sources":["app/Resources/static-src/app/js/classroom-manage/course-manage-pick/index.js"],"names":["ids","$","tooltip","on","button","addClass","ajax","type","url","data","async","success","modal","window","location","reload","val","post","serialize","html","keydown","event","keyCode","id","sid","attr","split","i","length","idArr","$course","parent","hasClass","removeClass","grep","key","push"],"mappings":"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","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["var ids=[];\n\n        $('[data-toggle=\"tooltip\"]').tooltip();\n\n        $('#sure').on('click',function(){\n            $('#sure').button('submiting').addClass('disabled');\n       \n            $.ajax({\n                type : \"post\",\n                url : $('#sure').data('url'),\n                data : \"ids=\"+ids,\n                async : false,\n                success : function(data){\n                    \n                    $('.modal').modal('hide');\n                    window.location.reload();\n                }\n\n             });\n\n        });\n\n        $('#search').on('click',function(){\n\n            if($('[name=key]').val() != \"\" ){\n\n                $.post($(this).data('url'),$('.form-search').serialize(),function(data){\n\n                    $('.courses-list').html(data);\n                });\n            }\n\n        });\n\n        $('.courses-list').on('click', '.pagination li', function() {\n            var url = $(this).data('url');\n            if (typeof(url) !== 'undefined') {\n                $.post(url, $('.form-search').serialize(),function(data){\n                    $('.courses-list').html(data);\n                });\n            }\n        });\n\n        $('#enterSearch').keydown(function(event){\n\n            if(event.keyCode==13){\n\n                $.post($(this).data('url'),$('.form-search').serialize(),function(data){\n\n                    $('.courses-list').html(data);\n                \n                });\n                return false;\n            }\n        });\n\n        $('#all-courses').on('click',function(){\n\n            $.post($(this).data('url'),$('.form-search').serialize(),function(data){\n                $('#modal').html(data);\n            });\n\n        });\n\n        $('.js-course-select').on('change', function(){\n            var id = $(this).val();\n            var sid = $(this).attr('id').split(\"-\")[2];\n            for (var i = 0; i < ids.length; i++) {\n                var idArr = ids[i].split(\":\");\n                if(idArr[0] == sid){\n                    ids[i] = sid + \":\" + id;\n                    break;\n                }\n            }\n        });\n\n        $('.courses-list').on('click',\".course-item-cbx\",function(){\n          \n            var $course = $(this).parent();\n            var sid = $course.data('id');//courseSet.id\n\n            if($course.hasClass('enabled')){\n                return;\n            }\n            var id = $('#course-select-'+sid).val();\n            if($course.hasClass('select')){\n                $course.removeClass('select');\n                // $('.course-metas-'+sid).hide();\n\n                ids = $.grep(ids, function(val, key) {\n\n                    if(val != sid + \":\" + id )\n                        return true;\n                }, false);\n            }else{\n                $course.addClass('select');\n                \n                // $('.course-metas-'+sid).show();\n\n                ids.push(sid + ':' + id);\n            }\n        });"]}