{% extends 'settings/find-pay-password.html.twig' %}
{% block title %}{{'user.fields.pay_password'|trans}} - {{'user.settings.security.content_title'|trans}} - {{ parent() }}{% endblock %}

{% set side_nav = 'security' %}
{% do script(['libs/jquery-validation.js','app/js/settings/update-pay-password/index.js'])%}

{% block main_heading %}
  <ul class="cd-panel-heading cd-steps cd-steps-3">
    <li class="cd-steps-item done hidden-xs">
      <div class="cd-steps-tail"><i></i></div>
      <div class="cd-steps-content">
        <div class="content-wrap">
          <div class="content-number content-icon"><i class="cd-icon cd-icon-check"></i></div>
        </div>
        <div class="content-wrap">
          <span class="content-info">{{ 'user.settings.security.pay_password_find.way'|trans }}</span>
        </div>
      </div>
    </li>
    <li class="cd-steps-item done hidden-xs">
      <div class="cd-steps-tail"><i></i></div>
      <div class="cd-steps-content">
        <div class="content-wrap">
          <div class="content-number content-icon"><i class="cd-icon cd-icon-check"></i></div>
        </div>
        <div class="content-wrap">
          <span class="content-info">{{ 'user.settings.security.pay_password.validate_info'|trans }}</span>
        </div>
      </div>
    </li>
    <li class="cd-steps-item doing">
      <div class="cd-steps-tail"><i></i></div>
      <div class="cd-steps-content">
        <div class="content-wrap">
          <div class="content-number">3</div>
        </div>
        <div class="content-wrap">
          <span class="content-info">{{ 'user.settings.security.password_reset'|trans }}</span>
        </div>
      </div>
    </li>
  </ul>
{% endblock %}

{% block main_body %}
  <div class="hidden">
    {{ web_macro.flash_messages() }}
  </div>
  <form id="pay-password-reset-update-form" class="find-pay-password-form" method="post" action="{{ path('settings_update_pay_password') }}">

    <div class="form-group cd-form-group">
      <label>{{ 'user.settings.security.pay_password_set.new_pay_password'|trans }}</label>
      {{ form_widget(form.payPassword, {attr:{class:'form-control'}}) }}
    </div>

    <div class="form-group cd-form-group">
      <label>{{ 'user.settings.security.pay_password_set.confirm_pay_password'|trans }}</label>
      {{ form_widget(form.confirmPayPassword, {attr:{class:'form-control'}}) }}
    </div>

    <div class="form-group cd-form-group">
      <label>{{ 'user.settings.security.pay_password_set.user_login_password'|trans }}</label>
      {{ form_widget(form.currentUserLoginPassword, {attr:{class:'form-control'}}) }}
    </div>

    {{ form_rest(form) }}
    <button class="btn cd-btn cd-btn-primary cd-btn-lg btn-block" id="payPassword-save-btn" data-loading-text="{{'form.btn.submit.submiting'|trans}}" type="submit" class="btn btn-primary">{{'user.settings.security.reset_pay_password'|trans}}</button>
    <input type="hidden" name="token" value="{{ token.token }}">
    <input type="hidden" name="_csrf_token" value="{{ csrf_token('site') }}">
  </form>
{% endblock %}