{"version":3,"sources":["plugins/VipPlugin/Resources/static-src/js/vipadmin/edit-modal/index.js"],"names":["$modal","$","parents","$form","validator","validate","rules","required","date","levelId","messages","datetimepicker","language","autoclose","format","minView","click","form","post","attr","serialize","html","window","location","reload","error"],"mappings":";;AAAA;;;;;;AAEA,IAAIA,SAASC,EAAE,oBAAF,EAAwBC,OAAxB,CAAgC,QAAhC,CAAb;AACA,IAAIC,QAAQF,EAAE,oBAAF,CAAZ;AACA,IAAIG,YAAYD,MAAME,QAAN,CAAe;AAC3BC,WAAO;AACH,qBAAa;AACTC,sBAAU,IADD;AAETC,kBAAM;AAFG,SADV;AAKHC,iBAAS;AACLF,sBAAU;AADL;AALN,KADoB;AAU3BG,cAAU;AACN,qBAAa;AACTH,sBAAU;AADD,SADP;AAIN,qBAAa;AACTA,sBAAU,YADD;AAETC,kBAAM;AAFG,SAJP;AAQNC,iBAAS;AACLF,sBAAU;AADL;AARH;AAViB,CAAf,CAAhB;;AAwBAN,EAAE,WAAF,EAAeU,cAAf,CAA8B;AAC1BC,cAAU,OADgB;AAE1BC,eAAW,IAFe;AAG1BC,YAAQ,YAHkB;AAI1BC,aAAS;AAJiB,CAA9B;;AAOAd,EAAE,eAAF,EAAmBe,KAAnB,CAAyB,YAAW;AAClC,QAAGZ,UAAUa,IAAV,EAAH,EAAqB;AACnBhB,UAAEiB,IAAF,CAAOf,MAAMgB,IAAN,CAAW,QAAX,CAAP,EAA6BhB,MAAMiB,SAAN,EAA7B,EAAgD,UAASC,IAAT,EAAe;AAC7D,kCAAO,SAAP,EAAiB,SAAjB;AACAC,mBAAOC,QAAP,CAAgBC,MAAhB;AACD,SAHD,EAGGC,KAHH,CAGS,YAAU;AACjB,kCAAO,QAAP,EAAgB,SAAhB;AACD,SALD;AAMD;AACF,CATD;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import notify from \"common/notify\";\n\nvar $modal = $('#member-modal-form').parents('.modal');\nlet $form = $('#member-modal-form');\nlet validator = $form.validate({\n    rules: {\n        '#deadline': {\n            required: true,\n            date: true\n        },\n        levelId: {\n            required: true,\n        }\n    },\n    messages: {\n        '#nickname': {\n            required: '请输入昵称!'\n        },\n        '#deadline': {\n            required: '请输入会员截止日期!',\n            date: '请输入日期!'\n        },\n        levelId: {\n            required: '请选择会员等级!'\n        }\n    }\n});   \n\n$(\"#deadline\").datetimepicker({\n    language: 'zh-CN',\n    autoclose: true,\n    format: 'yyyy-mm-dd',\n    minView: 'month'\n})\n\n$('#add-save-btn').click(function() {\n  if(validator.form()) {\n    $.post($form.attr('action'), $form.serialize(), function(html) {\n      notify('success','新会员添加成功');\n      window.location.reload();\n    }).error(function(){\n      notify('danger','新会员添加失败');\n    });\n  }\n})\n\n\n\n\n\n// var validator = new Validator({\n//     element: '#member-modal-form',\n//     autoSubmit: false,\n//     onFormValidated: function(error, results, $form) {\n//       if (error) {\n//         return false;\n//       }\n//       $.post($form.attr('action'), $form.serialize(), function(html) {\n//         $modal.modal('hide');\n//         Notify.success('用户信息保存成功');\n//                   window.location.reload();\n//       }).error(function(){\n//         Notify.danger('操作失败');\n//       });\n//     }\n// });\n\n// validator.addItem({\n//     element: '#deadline',\n//     rule: 'date',\n//     required: true,\n//     display:'会员截止日期'\n// });\n\n// validator.addItem({\n//     element: '[name=levelId]',\n//     required: true,\n//     errormessageRequired: '请选择会员等级!'\n// });\n\n// $(\"#deadline\").datetimepicker({\n//     language: 'zh-CN',\n//     autoclose: true,\n//     format: 'yyyy-mm-dd',\n//     minView: 'month'\n// });\n"]}