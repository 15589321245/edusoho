source course
{
    type                    = mysql
    sql_host                = localhost
    sql_user                = howzhi
    sql_pass                = q3R2F1CkPSPg7DzkQ9
    sql_db                  = howzhidb
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8

    sql_query                = SELECT id*10+1 AS uuid, id, title, summary, createdTime, 'course' AS docType FROM course WHERE state = 2
    sql_attr_uint            = id
    sql_attr_string          = docType
    sql_attr_timestamp        = createdTime
}

source lesson
{
    type                    = mysql
    sql_host                = localhost
    sql_user                = howzhi
    sql_pass                = q3R2F1CkPSPg7DzkQ9
    sql_db                  = howzhidb
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8
    sql_query                = SELECT l.id*10+2 AS uuid, l.id, l.title, l.content, l.createdTime, 'lesson' AS docType FROM course_lesson AS l, course AS c WHERE l.courseId = c.id AND c.state = 2
    sql_attr_uint            = id
    sql_attr_string          = docType
    sql_attr_timestamp        = createdTime
}

source discussion
{
    type                    = mysql
    sql_host                = localhost
    sql_user                = howzhi
    sql_pass                = q3R2F1CkPSPg7DzkQ9
    sql_db                  = howzhidb
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8

    sql_query                = SELECT id*10+3 AS uuid, id, title, content, createdTime, 'discussion' AS docType FROM discuss
    sql_attr_uint            = id
    sql_attr_string          = docType
    sql_attr_timestamp        = createdTime
}

source user
{
    type                    = mysql
    sql_host                = localhost
    sql_user                = howzhi
    sql_pass                = q3R2F1CkPSPg7DzkQ9
    sql_db                  = howzhidb
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8

    sql_query                = SELECT u.id*10+4 AS uuid, u.id, u.nickname, u.tags, up.darenAbout, up.signature, up.about, u.createdTime, 'user' AS docType FROM user AS u, user_profile AS up WHERE up.id = u.id
    sql_attr_uint            = id
    sql_attr_string          = docType
    sql_attr_timestamp        = createdTime
}

source group
{
    type                    = mysql
    sql_host                = localhost
    sql_user                = howzhi
    sql_pass                = q3R2F1CkPSPg7DzkQ9
    sql_db                  = howzhidb
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8

    sql_query                = SELECT id*10+5 AS uuid, id, name, about, createdTime, 'group' AS docType FROM groups
    sql_attr_uint            = id
    sql_attr_string          = docType
    sql_attr_timestamp       = createdTime
}


index course
{
    source            = course
    path              = /usr/local/coreseek/var/data/course
    docinfo           = extern
    mlock             = 0
    morphology        = none
    min_word_len      = 1
    html_strip        = 0
    charset_dictpath  = /usr/local/mmseg3/etc/
    charset_type      = zh_cn.utf-8
    ngram_len         = 0
}

index lesson
{
    source            = lesson
    path              = /usr/local/coreseek/var/data/lesson
    docinfo           = extern
    mlock             = 0
    morphology        = none
    min_word_len      = 1
    html_strip        = 0
    charset_dictpath  = /usr/local/mmseg3/etc/
    charset_type      = zh_cn.utf-8
    ngram_len         = 0
}

index discussion
{
    source            = discussion
    path              = /usr/local/coreseek/var/data/discussion
    docinfo           = extern
    mlock             = 0
    morphology        = none
    min_word_len      = 1
    html_strip        = 0
    charset_dictpath  = /usr/local/mmseg3/etc/
    charset_type      = zh_cn.utf-8
    ngram_len         = 0
}

index user
{
    source            = user
    path              = /usr/local/coreseek/var/data/user
    docinfo           = extern
    mlock             = 0
    morphology        = none
    min_word_len      = 1
    html_strip        = 0
    charset_dictpath  = /usr/local/mmseg3/etc/
    charset_type      = zh_cn.utf-8
    ngram_len         = 0
}

index group
{
    source            = group
    path              = /usr/local/coreseek/var/data/group
    docinfo           = extern
    mlock             = 0
    morphology        = none
    min_word_len      = 1
    html_strip        = 0
    charset_dictpath  = /usr/local/mmseg3/etc/
    charset_type      = zh_cn.utf-8
    ngram_len         = 0
}

indexer
{
    mem_limit            = 128M
}

searchd
{
    listen                  =   9312
    read_timeout        = 5
    max_children        = 30
    max_matches            = 1000
    seamless_rotate        = 0
    preopen_indexes        = 0
    unlink_old            = 1
    pid_file            = /usr/local/coreseek/var/log/searchd_mysql.pid
    log                 = /usr/local/coreseek/var/log/searchd_mysql.log
    query_log           = /usr/local/coreseek/var/log/query_mysql.log
    binlog_path         =
}