{% extends 'classroom/content-layout.html.twig' %}
{% block title %}{{ parent() }}{% endblock %}
{% block description %}{{ classroomDescription|default('')|plain_text(100) }}{% endblock %}
{% set nav = 'course' %}
{% block main %}
{% do load_script('topxiawebbundle/controller/classroom/course/list') %}
{% include 'seajs_loader_compatible.html.twig' with {'topxiawebbundle':true} %}

  <div class="class-course-list">
    {% for course in courses %}
      <div class="course-item">
        <div class="media">
          <a class="media-left" href="{{ path('course_show', {id:course.id}) }}">
            {{ lazy_img(filepath(course.courseSet.cover.middle|default(null), 'course.png'), '', '') }}
          </a>
          <div class="media-body">
            <div class="title">
              <a href="{{ path('course_show',{id:course.id}) }}">{{ course.title }}</a>
            </div>
            <div class="score">
              {{ web_macro.star(course.rating) }}
            </div>
            <div class="price hidden-xs">
                {{ '原价：'|trans }} 0元
                {# FIXME 由于目前还没有打折、优惠等插件，这里价格先注释掉#}
                {# {% include 'TopxiaWebBundle:Course/Widget:course-price.html.twig' with {shows:['originPrice'] } %} #}
            </div>
            <span class="course-show">
              <i class="es-icon es-icon-keyboardarrowdown" data-lesson-url="{{ path('classrom_course_tasks_list', {courseId:course.id, classroomId:classroom.id}) }}"></i>
            </span>
          </div>
        </div>

      </div>
    {% endfor %}
    
  </div>
{% endblock %}
   
