{"version":3,"sources":["webpack:///./app/Resources/static-src/app/js/message/show/index.js"],"names":["$","on","e","addClass","attr","val","length","Translator","trans","trim","post","serialize","response","prepend","html","find","confirm","$item","parents","data","window","location","href","remove","bind","removeClass"],"mappings":";;;;;;AAAA;;;;;;AAEAA,GAAE,qBAAF,EAAyBC,EAAzB,CAA4B,OAA5B,EAAqC,mBAArC,EAA0D,UAAUC,CAAV,EAAa;AACrEF,KAAE,mBAAF,EAAuBG,QAAvB,CAAgC,UAAhC;AACAH,KAAE,mBAAF,EAAuBI,IAAvB,CAA4B,UAA5B,EAAwC,IAAxC;AACA,OAAIJ,EAAE,wBAAF,EAA4BK,GAA5B,GAAkCC,MAAlC,IAA4C,GAAhD,EAAqD;AACnD,2BAAO,QAAP,EAAgBC,WAAWC,KAAX,CAAiB,0CAAjB,CAAhB;AACA,YAAO,KAAP;AACD;;AAED,OAAIR,EAAES,IAAF,CAAOT,EAAE,wBAAF,EAA4BK,GAA5B,EAAP,EAA0CC,MAA1C,IAAoD,CAAxD,EAA2D;AACzD,2BAAO,QAAP,EAAgBC,WAAWC,KAAX,CAAiB,iBAAjB,CAAhB;AACA,YAAO,KAAP;AACD;;AAEDR,KAAEU,IAAF,CAAOV,EAAE,qBAAF,EAAyBI,IAAzB,CAA8B,QAA9B,CAAP,EAAgDJ,EAAE,qBAAF,EAAyBW,SAAzB,EAAhD,EAAsF,UAAUC,QAAV,EAAoB;AACxGZ,OAAE,eAAF,EAAmBa,OAAnB,CAA2BD,SAASE,IAApC;AACAd,OAAE,wBAAF,EAA4BK,GAA5B,CAAgC,EAAhC;AACAL,OAAE,mBAAF,EAAuBI,IAAvB,CAA4B,UAA5B,EAAwC,KAAxC;AACD,IAJD;;AAMA,UAAO,KAAP;AACD,EApBD;;AAsBAJ,GAAE,eAAF,EAAmBC,EAAnB,CAAsB,OAAtB,EAA+B,iBAA/B,EAAkD,UAAUC,CAAV,EAAa;;AAE7D,OAAIF,EAAE,eAAF,EAAmBe,IAAnB,CAAwB,aAAxB,EAAuCT,MAAvC,IAAiD,CAArD,EAAwD;AACtD,SAAI,CAACU,QAAQT,WAAWC,KAAX,CAAiB,6CAAjB,CAAR,CAAL,EAA+E;AAC7E,cAAO,KAAP;AACD;AACF,IAJD,MAIO;AACL,SAAI,CAACQ,QAAQT,WAAWC,KAAX,CAAiB,wCAAjB,CAAR,CAAL,EAA0E;AACxE,cAAO,KAAP;AACD;AACF;;AAED,OAAIS,QAAQjB,EAAE,IAAF,EAAQkB,OAAR,CAAgB,QAAhB,CAAZ;AACAlB,KAAEU,IAAF,CAAOV,EAAE,IAAF,EAAQmB,IAAR,CAAa,KAAb,CAAP,EAA4B,YAAY;AACtC,SAAInB,EAAE,eAAF,EAAmBe,IAAnB,CAAwB,aAAxB,EAAuCT,MAAvC,IAAiD,CAArD,EAAwD;AACtDc,cAAOC,QAAP,CAAgBC,IAAhB,GAAuBL,MAAMb,IAAN,CAAW,YAAX,CAAvB;AACD;AACDa,WAAMM,MAAN;AACD,IALD;AAOD,EApBD;;AAuBAvB,GAAE,UAAF,EAAcwB,IAAd,CAAmB,sBAAnB,EAA2C,YAAY;AACrD,OAAIxB,EAAE,wBAAF,EAA4BK,GAA5B,GAAkCC,MAAlC,GAA2C,CAA/C,EAAkD;AAChDN,OAAE,mBAAF,EAAuByB,WAAvB,CAAmC,UAAnC;AACD,IAFD,MAEO;AACLzB,OAAE,mBAAF,EAAuBG,QAAvB,CAAgC,UAAhC;AACD;AAEF,EAPD,E","file":"app/js/message/show/index.js","sourcesContent":["import notify from 'common/notify';\n\n$('#message-reply-form').on('click', '#course-reply-btn', function (e) {\n  $(\"#course-reply-btn\").addClass(\"disabled\");\n  $(\"#course-reply-btn\").attr(\"disabled\", true);\n  if ($(\"#message_reply_content\").val().length >= 500) {\n    notify('danger',Translator.trans('notify.private_message_maxlength.message'));\n    return false;\n  }\n\n  if ($.trim($(\"#message_reply_content\").val()).length == 0) {\n    notify('danger',Translator.trans('不好意思，私信内容不允许为空!'));\n    return false;\n  }\n\n  $.post($(\"#message-reply-form\").attr('action'), $(\"#message-reply-form\").serialize(), function (response) {\n    $(\".message-list\").prepend(response.html);\n    $(\"#message_reply_content\").val(\"\");\n    $(\"#course-reply-btn\").attr(\"disabled\", false);\n  });\n\n  return false;\n});\n\n$('.message-list').on('click', '.delete-message', function (e) {\n\n  if ($(\".message-list\").find(\".message-me\").length == 1) {\n    if (!confirm(Translator.trans('confirm.last_private_message_delete.message'))) {\n      return false;\n    }\n  } else {\n    if (!confirm(Translator.trans('confirm.private_message_delete.message'))) {\n      return false;\n    }\n  }\n\n  var $item = $(this).parents('.media');\n  $.post($(this).data('url'), function () {\n    if ($(\".message-list\").find(\".message-me\").length == 1) {\n      window.location.href = $item.attr(\"parent-url\");\n    }\n    $item.remove();\n  });\n\n});\n\n\n$('textarea').bind('input propertychange', function () {\n  if ($(\"#message_reply_content\").val().length > 0) {\n    $(\"#course-reply-btn\").removeClass(\"disabled\");\n  } else {\n    $(\"#course-reply-btn\").addClass(\"disabled\");\n  }\n\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/message/show/index.js"],"sourceRoot":""}