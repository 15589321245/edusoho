webpackJsonp(["app/js/question-manage/form/index"],{b13eefde5dd7af09b834:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function InitOptionData(dataSource,inputValue,validatorDatas,seq,checked){var obj={optionId:Math.random().toString().replace(".",""),optionLabel:"选项"+(0,_unit.numberConvertLetter)(seq),inputValue:inputValue,checked:checked};validatorDatas.Options[obj.optionId]=inputValue.length>0?1:0,checked&&(validatorDatas.checkedNum+=1),dataSource.push(obj)}function _deleteOption(dataSource,validatorDatas,optionId){for(var i=0;i<dataSource.length;i++)dataSource[i].optionId==optionId?(dataSource[i].checked&&(validatorDatas.checkedNum=0),dataSource.splice(i,1),console.log(validatorDatas.Options[optionId]),console.log(dataSource),delete validatorDatas.Options[optionId],i--):dataSource[i].optionLabel="选项"+(0,_unit.numberConvertLetter)(i+1)}function _changeOptionChecked(dataSource,validatorDatas,id,checked,isRadio){var checkedNum=0;dataSource.map(function(item,index){isRadio?item.optionId!=id||checked?checked||(dataSource[index].checked=!1):dataSource[index].checked=!0:item.optionId==id&&(dataSource[index].checked=!checked),console.log(dataSource[index].checked),dataSource[index].checked&&checkedNum++}),console.log(checkedNum),validatorDatas.checkedNum=checkedNum}function updateOption(dataSource,validatorDatas,id,value){dataSource.map(function(item,index){item.optionId==id&&(dataSource[index].inputValue=value)})}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__("c337a14feb9fb812fa40"),_react2=_interopRequireDefault(_react),_option=__webpack_require__("e7f6be29a6dce7725ed1"),_option2=_interopRequireDefault(_option),_notify=__webpack_require__("b334fd7e4c5a19234db2"),_notify2=_interopRequireDefault(_notify),_postal=__webpack_require__("5d0c27d11736d24f7053"),_postal2=_interopRequireDefault(_postal),_unit=__webpack_require__("3c398f87808202f19beb"),QuestionOptions=function(_Component){function QuestionOptions(props){_classCallCheck(this,QuestionOptions);var _this=_possibleConstructorReturn(this,(QuestionOptions.__proto__||Object.getPrototypeOf(QuestionOptions)).call(this,props));_this.state={dataSource:[],isValidator:!1},_this.validatorDatas={checkedNum:0,Options:{}};var dataSource=_this.props.dataSource,dataAnswer=_this.props.dataAnswer;if(dataSource.length>0)dataSource.map(function(item,index){for(var checked=!1,i=0;i<dataAnswer.length;i++)index==dataAnswer[i]&&(checked=!0);InitOptionData(_this.state.dataSource,item,_this.validatorDatas,index+1,checked)});else for(var i=1;i<=_this.props.defaultNum;i++)InitOptionData(_this.state.dataSource,"",_this.validatorDatas,i,!1);return _this.subscriptionMessage(),console.log(_this.validatorOptions),_this}return _inherits(QuestionOptions,_Component),_createClass(QuestionOptions,[{key:"subscriptionMessage",value:function(){var _this2=this;_postal2["default"].subscribe({channel:"manage-question",topic:"question-create-form-validator-start",callback:function(data,envelope){_this2.validatorOptions(data)}})}},{key:"publishMessage",value:function(isValidator){_postal2["default"].publish({channel:"manage-question",topic:"question-create-form-validator-end",data:{isValidator:isValidator}})}},{key:"validatorOptions",value:function(data){var validNum=0;this.setState({isValidator:data.isValidator});for(var option in this.validatorDatas.Options)validNum+=this.validatorDatas.Options[option];return validNum<this.state.dataSource.length?void console.log(" validNum is error "):void(this.validatorDatas.checkedNum<this.props.minCheckedNum?(0,_notify2["default"])("danger","至少选择"+this.props.minCheckedNum+"个答案!"):(console.log("publishMessage"),this.publishMessage(!0)))}},{key:"addOption",value:function(){return this.state.dataSource.length>=this.props.maxNum?void(0,_notify2["default"])("danger","选项最多"+this.props.maxNum+"个!"):(InitOptionData(this.state.dataSource,"",this.validatorDatas,this.state.dataSource.length+1,!1),this.setState({dataSource:this.state.dataSource}),console.log({dataSource:this.state.dataSource}),void console.log({validatorDatas:this.validatorDatas}))}},{key:"changeOptionChecked",value:function(id,checked){_changeOptionChecked(this.state.dataSource,this.validatorDatas,id,checked,this.props.isRadio),this.setState({dataSource:this.state.dataSource}),this.validatorDatas.checkedNum<=0&&this.publishMessage(!1)}},{key:"deleteOption",value:function(id){return this.state.dataSource.length<=this.props.minNum?void(0,_notify2["default"])("danger","选项最少"+this.props.minNum+"个!"):(_deleteOption(this.state.dataSource,this.validatorDatas,id),this.setState({dataSource:this.state.dataSource}),void console.log({validatorDatas:this.validatorDatas}))}},{key:"updateInputValue",value:function(id,value){updateOption(this.state.dataSource,this.validatorDatas,id,value),this.validatorDatas.Options[id]=value.length>0?1:0,value.length<=0&&this.publishMessage(!1),this.setState({dataSource:this.state.dataSource})}},{key:"render",value:function(){var _this3=this;return _react2["default"].createElement("div",{className:"question-options-group"},this.state.dataSource.map(function(item,index){return _react2["default"].createElement(_option2["default"],{imageUploadUrl:_this3.props.imageUploadUrl,imageDownloadUrl:_this3.props.imageDownloadUrl,isRadio:_this3.props.isRadio,publishMessage:function(isValidator){return _this3.publishMessage(isValidator)},validatorDatas:_this3.validatorDatas,isValidator:_this3.state.isValidator,datas:item,key:index,index:index,deleteOption:function(id){return _this3.deleteOption(id)},changeOptionChecked:function(id,checked){return _this3.changeOptionChecked(id,checked)},updateInputValue:function(id,value){return _this3.updateInputValue(id,value)}})}),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-md-8 col-md-offset-2"},_react2["default"].createElement("a",{className:"btn btn-success btn-sm pull-right",onClick:function(){return _this3.addOption()}},"新增选项"))))}}]),QuestionOptions}(_react.Component);exports["default"]=QuestionOptions,QuestionOptions.defaultProps={defaultNum:4,maxNum:10,minNum:2,isRadio:!1,minCheckedNum:1}},"5a8ff9f4ed340a8713f6":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_questionChoice=__webpack_require__("2cf47b8094e4851a7f1f"),_questionChoice2=_interopRequireDefault(_questionChoice),_reactDom=__webpack_require__("9eb83941d980788d78c8"),_reactDom2=_interopRequireDefault(_reactDom),_react=__webpack_require__("c337a14feb9fb812fa40"),_react2=_interopRequireDefault(_react),_questionOptions=__webpack_require__("b13eefde5dd7af09b834"),_questionOptions2=_interopRequireDefault(_questionOptions),SingleChoice=function(_QuestionChoice){function SingleChoice(){return _classCallCheck(this,SingleChoice),_possibleConstructorReturn(this,(SingleChoice.__proto__||Object.getPrototypeOf(SingleChoice)).apply(this,arguments))}return _inherits(SingleChoice,_QuestionChoice),_createClass(SingleChoice,[{key:"initOptions",value:function(){_reactDom2["default"].render(_react2["default"].createElement(_questionOptions2["default"],{imageUploadUrl:this.imageUploadUrl,imageDownloadUrl:this.imageDownloadUrl,dataSource:this.dataSource,dataAnswer:this.dataAnswer}),document.getElementById("question-options"))}}]),SingleChoice}(_questionChoice2["default"]);exports["default"]=SingleChoice},0:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_formBase=__webpack_require__("fed3b995e613c074e80b"),_formBase2=_interopRequireDefault(_formBase),_questionChoice=__webpack_require__("2cf47b8094e4851a7f1f"),_questionChoice2=_interopRequireDefault(_questionChoice),_questionSingleChoice=__webpack_require__("e85a87f5cf404e5d12c1"),_questionSingleChoice2=_interopRequireDefault(_questionSingleChoice),_questionUncertainChoice=__webpack_require__("5a8ff9f4ed340a8713f6"),_questionUncertainChoice2=_interopRequireDefault(_questionUncertainChoice),_questionDetermine=__webpack_require__("3c1fcf442037b440aea5"),_questionDetermine2=_interopRequireDefault(_questionDetermine),_questionFill=__webpack_require__("228720083c8f03b23e6d"),_questionFill2=_interopRequireDefault(_questionFill),_questionEssay=__webpack_require__("7fed9bfb1a62b2d3ee74"),_questionEssay2=_interopRequireDefault(_questionEssay),_questionMaterial=__webpack_require__("d10d1a490b8cc019f3a3"),_questionMaterial2=_interopRequireDefault(_questionMaterial),_selectLinkage=__webpack_require__("1be2a74362f00ba903a0"),_selectLinkage2=_interopRequireDefault(_selectLinkage),QuestionCreator=function(){function QuestionCreator(){_classCallCheck(this,QuestionCreator)}return _createClass(QuestionCreator,null,[{key:"getCreator",value:function(type,$form){switch(type){case"single_choice":QuestionCreator=new _questionSingleChoice2["default"]($form);break;case"uncertain_choice":QuestionCreator=new _questionUncertainChoice2["default"]($form);break;case"choice":QuestionCreator=new _questionChoice2["default"]($form);break;case"determine":QuestionCreator=new _questionDetermine2["default"]($form);break;case"essay":QuestionCreator=new _questionEssay2["default"]($form);break;case"fill":QuestionCreator=new _questionFill2["default"]($form);break;case"material":QuestionCreator=new _questionMaterial2["default"]($form);break;default:QuestionCreator=new _formBase2["default"]($form),QuestionCreator.initTitleEditor(),QuestionCreator.initAnalysisEditor()}return QuestionCreator}}]),QuestionCreator}(),$form=$('[data-role="question-form"]'),type=$('[data-role="question-form"]').find('[name="type"]').val();QuestionCreator.getCreator(type,$form),new _selectLinkage2["default"]($('[data-role="courseId"]'),$('[data-role="lessonId"]'))},fed3b995e613c074e80b:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_attachmentActions=__webpack_require__("d5fb0e67d2d4c1ebaaed"),_attachmentActions2=_interopRequireDefault(_attachmentActions),QuestionFormBase=function(){function QuestionFormBase($form){_classCallCheck(this,QuestionFormBase),this.$form=$form,this.titleFieldId="question-stem-field",this.analysisFieldId="question-analysis-field",this.validator=null,this.titleEditorToolBarName="Minimal",this._init(),this.attachmentActions=new _attachmentActions2["default"]($form)}return _createClass(QuestionFormBase,[{key:"_init",value:function(){this._initEvent(),this._initValidate()}},{key:"_initEvent",value:function(){var _this=this;this.$form.on("click","[data-role=submit]",function(event){return _this.submitForm(event)})}},{key:"submitForm",value:function(event){var submitType=$(event.currentTarget).data("submission");this.$form.find("[name=submission]").val(submitType);var self=this;this.validator.form()&&($(event.currentTarget).button("loading"),self.$form.submit())}},{key:"_initValidate",value:function(){var validator=this.$form.validate({onkeyup:!1,rules:{'[data-role="target"]':{required:!0},difficulty:{required:!0},stem:{required:!0},score:{required:!0,number:!0,max:999,min:0}},messages:{'[data-role="target"]':"请选择从属",difficulty:"请选择难度"}});this.validator=validator}},{key:"initTitleEditor",value:function(validator){var $target=$("#"+this.titleFieldId),editor=CKEDITOR.replace(this.titleFieldId,{toolbar:this.titleEditorToolBarName,filebrowserImageUploadUrl:$target.data("imageUploadUrl"),height:$target.height()});editor.on("change",function(){$target.val(editor.getData())}),editor.on("blur",function(){validator.form()})}},{key:"initAnalysisEditor",value:function(){var $target=$("#"+this.analysisFieldId),editor=CKEDITOR.replace(this.analysisFieldId,{toolbar:this.titleEditorToolBarName,filebrowserImageUploadUrl:$target.data("imageUploadUrl"),height:$target.height()});editor.on("change",function(){$target.val(editor.getData())})}},{key:"titleEditorToolBarName",set:function(toolbarName){this._titleEditorToolBarName=toolbarName},get:function(){return this._titleEditorToolBarName}}]),QuestionFormBase}();exports["default"]=QuestionFormBase},"2cf47b8094e4851a7f1f":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_formBase=__webpack_require__("fed3b995e613c074e80b"),_formBase2=_interopRequireDefault(_formBase),_reactDom=__webpack_require__("9eb83941d980788d78c8"),_reactDom2=_interopRequireDefault(_reactDom),_react=__webpack_require__("c337a14feb9fb812fa40"),_react2=_interopRequireDefault(_react),_questionOptions=__webpack_require__("b13eefde5dd7af09b834"),_questionOptions2=_interopRequireDefault(_questionOptions),_postal=__webpack_require__("5d0c27d11736d24f7053"),_postal2=_interopRequireDefault(_postal),Choice=function(_QuestionFormBase){function Choice($form){_classCallCheck(this,Choice);var _this=_possibleConstructorReturn(this,(Choice.__proto__||Object.getPrototypeOf(Choice)).call(this,$form));return _this.isSubmit=!1,_this.$submit=null,_this.$questionOptions=$("#question-options"),_this.dataSource=_this.$questionOptions.data("choices"),_this.dataAnswer=_this.$questionOptions.data("answer"),_this.dataSource?(_this.dataSource=JSON.parse(_this.dataSource),_this.dataAnswer=JSON.parse(_this.dataAnswer)):(_this.dataSource=[],_this.dataAnswer=[]),_this.imageUploadUrl=_this.$questionOptions.data("imageUploadUrl"),_this.imageDownloadUrl=_this.$questionOptions.data("imageDownloadUrl"),_this.initTitleEditor(_this.validator),_this.initAnalysisEditor(),_this.initOptions(),_this.subscriptionMessage(),_this}return _inherits(Choice,_QuestionFormBase),_createClass(Choice,[{key:"_initEvent",value:function(){var _this2=this;this.$form.on("click","[data-role=submit]",function(event){return _this2.submitForm(event)})}},{key:"submitForm",value:function(event){this.$submit=$(event.currentTarget);var submitType=this.$submit.data("submission");this.$form.find("[name=submission]").val(submitType),this.validator.form()&&this.isSubmit&&this.submit(),this.isSubmit||this.publishMessage()}},{key:"submit",value:function(){this.$submit.button("loading"),this.$form.submit()}},{key:"initOptions",value:function(){_reactDom2["default"].render(_react2["default"].createElement(_questionOptions2["default"],{imageUploadUrl:this.imageUploadUrl,imageDownloadUrl:this.imageDownloadUrl,dataSource:this.dataSource,dataAnswer:this.dataAnswer,minCheckedNum:2}),document.getElementById("question-options"))}},{key:"publishMessage",value:function(){console.log("publishMessage"),_postal2["default"].publish({channel:"manage-question",topic:"question-create-form-validator-start",data:{isValidator:!0}})}},{key:"subscriptionMessage",value:function(){var _this3=this;console.log("subscriptionMessage"),_postal2["default"].subscribe({channel:"manage-question",topic:"question-create-form-validator-end",callback:function(data,envelope){_this3.isSubmit=data.isValidator,console.log({subscriptionMessage:_this3.isSubmit}),_this3.isSubmit&&_this3.validator.form()&&(console.log("submit by subscriptionMessage"),_this3.submit())}})}}]),Choice}(_formBase2["default"]);exports["default"]=Choice},e7f6be29a6dce7725ed1:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__("c337a14feb9fb812fa40"),_react2=_interopRequireDefault(_react),Options=function(_Component){function Options(props){_classCallCheck(this,Options);var _this=_possibleConstructorReturn(this,(Options.__proto__||Object.getPrototypeOf(Options)).call(this,props));return _this.state={datas:_this.props.datas},_this.editor=null,_this.editorBody=null,_this.editorHtml=null,_this}return _inherits(Options,_Component),_createClass(Options,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.initCkeditor()}},{key:"deleteOption",value:function(event){this.editorHtml=null,this.props.deleteOption(event.currentTarget.attributes["data-option-id"].value)}},{key:"onChangeChecked",value:function(event){this.props.changeOptionChecked(event.currentTarget.attributes["data-option-id"].value,this.props.datas.checked)}},{key:"initCkeditor",value:function(dataSourceUi){if(this.editor)this.editor.setData(datas.inputValue);else{this.editor=CKEDITOR.replace(this.props.datas.optionId,{toolbar:"Minimal",filebrowserImageUploadUrl:this.props.imageUploadUrl,height:120});var self=this;this.editor.on("instanceReady",function(){self.editorBody=$("#"+[self.props.datas.optionId]).parent().find("iframe").contents().find("body")}),this.editor.on("change",function(){setTimeout(function(){self.updateInputValue(self.editor.getData())},100)})}}},{key:"updateInputValue",value:function(inputValue){this.editorHtml=inputValue,this.props.updateInputValue(this.props.datas.optionId,inputValue)}},{key:"render",value:function(){var _this2=this,showDanger=this.props.isValidator&&this.props.datas.inputValue.length<=0,type="checkbox";return this.props.isRadio&&(type="radio"),this.editorBody&&this.editorHtml!=this.props.datas.inputValue&&this.editorBody.html(this.props.datas.inputValue),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"col-sm-2 control-label"},_react2["default"].createElement("label",{className:"choice-label control-label-required"},this.props.datas.optionLabel)),_react2["default"].createElement("div",{className:"col-sm-8 controls"},_react2["default"].createElement("textarea",{className:"form-control datas-input col-md-8",id:this.props.datas.optionId,defaultValue:this.props.datas.inputValue,name:"choices[]",value:this.props.datas.inputValue,"data-image-upload-url":this.props.imageUploadUrl,"data-image-download-url":this.props.imageDownloadUrl}),_react2["default"].createElement("div",{className:"mtm"},_react2["default"].createElement("label",null,_react2["default"].createElement("input",{type:type,name:"answer[]","data-option-id":this.props.datas.optionId,value:this.props.index,checked:this.props.datas.checked,className:"answer-checkbox",onChange:function(event){return _this2.onChangeChecked(event)}}),"正确答案")),_react2["default"].createElement("p",{className:showDanger?"color-danger":"hidden"},"请输入选项内容")),_react2["default"].createElement("div",{className:"col-sm-2"},_react2["default"].createElement("a",{className:"btn btn-default btn-sm","data-option-id":this.props.datas.optionId,onClick:function(event){return _this2.deleteOption(event)},href:"javascript:;"},_react2["default"].createElement("i",{className:"glyphicon glyphicon-trash"}))))}}]),Options}(_react.Component);exports["default"]=Options},"7fed9bfb1a62b2d3ee74":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_formBase=__webpack_require__("fed3b995e613c074e80b"),_formBase2=_interopRequireDefault(_formBase),Essay=function(_QuestionFormBase){function Essay($form){_classCallCheck(this,Essay);var _this=_possibleConstructorReturn(this,(Essay.__proto__||Object.getPrototypeOf(Essay)).call(this,$form));return _this.initTitleEditor(_this.validator),_this.initAnalysisEditor(),_this.answerFieldId="question-answer-field",_this.$answerField=$("#"+_this.answerFieldId),_this.init(),_this}return _inherits(Essay,_QuestionFormBase),_createClass(Essay,[{key:"init",value:function(){var _this2=this;this.$answerField.rules("add",{required:!0});var editor=CKEDITOR.replace(this.answerFieldId,{toolbar:"Minimal",filebrowserImageUploadUrl:this.$answerField.data("imageUploadUrl"),height:this.$answerField.height()});editor.on("change",function(){_this2.$answerField.val(editor.getData())}),editor.on("blur",function(){_this2.$answerField.val(editor.getData())})}}]),Essay}(_formBase2["default"]);exports["default"]=Essay},"228720083c8f03b23e6d":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_formBase=__webpack_require__("fed3b995e613c074e80b"),_formBase2=_interopRequireDefault(_formBase);jQuery.validator.addMethod("fillCheck",function(value,element){return this.optional(element)||/(\[\[(.+?)\]\])/i.test(value)},"请输入正确的答案,如今天是[[晴|阴|雨]]天");var Fill=function(_QuestionFormBase){function Fill($form){_classCallCheck(this,Fill);var _this=_possibleConstructorReturn(this,(Fill.__proto__||Object.getPrototypeOf(Fill)).call(this,$form));return _this.titleEditorToolBarName="Question",_this.initTitleEditor(_this.validator),_this.initAnalysisEditor(),_this.$titleField=$("#"+_this.titleFieldId),_this.init(),_this}return _inherits(Fill,_QuestionFormBase),_createClass(Fill,[{key:"init",value:function(){this.$titleField.rules("add",{fillCheck:!0})}}]),Fill}(_formBase2["default"]);exports["default"]=Fill},d10d1a490b8cc019f3a3:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _formBase=__webpack_require__("fed3b995e613c074e80b"),_formBase2=_interopRequireDefault(_formBase),Material=function(_QuestionFormBase){function Material($form){_classCallCheck(this,Material);var _this=_possibleConstructorReturn(this,(Material.__proto__||Object.getPrototypeOf(Material)).call(this,$form));return _this.initTitleEditor(_this.validator),_this.initAnalysisEditor(),_this}return _inherits(Material,_QuestionFormBase),Material}(_formBase2["default"]);exports["default"]=Material},e85a87f5cf404e5d12c1:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_questionChoice=__webpack_require__("2cf47b8094e4851a7f1f"),_questionChoice2=_interopRequireDefault(_questionChoice),_reactDom=__webpack_require__("9eb83941d980788d78c8"),_reactDom2=_interopRequireDefault(_reactDom),_react=__webpack_require__("c337a14feb9fb812fa40"),_react2=_interopRequireDefault(_react),_questionOptions=__webpack_require__("b13eefde5dd7af09b834"),_questionOptions2=_interopRequireDefault(_questionOptions),SingleChoice=function(_QuestionChoice){function SingleChoice(){return _classCallCheck(this,SingleChoice),_possibleConstructorReturn(this,(SingleChoice.__proto__||Object.getPrototypeOf(SingleChoice)).apply(this,arguments))}return _inherits(SingleChoice,_QuestionChoice),_createClass(SingleChoice,[{key:"initOptions",value:function(){_reactDom2["default"].render(_react2["default"].createElement(_questionOptions2["default"],{imageUploadUrl:this.imageUploadUrl,imageDownloadUrl:this.imageDownloadUrl,dataSource:this.dataSource,dataAnswer:this.dataAnswer,isRadio:!0}),document.getElementById("question-options"))}}]),SingleChoice}(_questionChoice2["default"]);exports["default"]=SingleChoice},"3c1fcf442037b440aea5":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_formBase=__webpack_require__("fed3b995e613c074e80b"),_formBase2=_interopRequireDefault(_formBase),Datermine=function(_QuestionFormBase){function Datermine($form){_classCallCheck(this,Datermine);var _this=_possibleConstructorReturn(this,(Datermine.__proto__||Object.getPrototypeOf(Datermine)).call(this,$form));return _this.initTitleEditor(_this.validator),_this.initAnalysisEditor(),_this.$answerField=$('[name="answer[]"]'),_this.init(),_this}return _inherits(Datermine,_QuestionFormBase),_createClass(Datermine,[{key:"init",value:function(){this.$answerField.rules("add",{required:!0,messages:{required:"请选择正确答案"}})}}]),Datermine}(_formBase2["default"]);exports["default"]=Datermine}});