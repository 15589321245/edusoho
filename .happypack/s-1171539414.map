{"version":3,"sources":["web/themes/graceful/static-src/js/theme-edit/index.js"],"names":["themeManage","$","data","$currentItem","getCurrentItem","currentConfig","formInit","on","config","formSerialize","code","split","pop","defaultTitle","id","attr","saveBlock","modal","$form","obj","each","key","item","$item","find","length","val","value"],"mappings":";;AAAA,IAAIA,cAAcC,EAAE,MAAF,EAAUC,IAAV,CAAe,aAAf,CAAlB;;AAEA,IAAIC,eAAeH,YAAYI,cAAZ,EAAnB;AACA,IAAIC,gBAAgBF,aAAaD,IAAb,CAAkB,QAAlB,CAApB;AACAI,SAASL,EAAE,mBAAF,CAAT,EAAiCI,aAAjC;;AAEAJ,EAAE,WAAF,EAAeM,EAAf,CAAkB,OAAlB,EAA2B,YAAU;AACnC,MAAIC,SAASC,cAAcR,EAAEA,EAAE,IAAF,EAAQC,IAAR,CAAa,MAAb,CAAF,CAAd,CAAb;;AAEA,MAAIQ,OAAOP,aAAaD,IAAb,CAAkB,MAAlB,EAA0BS,KAA1B,CAAgC,GAAhC,EAAqCC,GAArC,EAAX;;AAEAJ,SAAOE,IAAP,GAAcA,IAAd;AACAF,SAAOK,YAAP,GAAsBR,cAAcQ,YAApC;AACAL,SAAOM,EAAP,GAAYX,aAAaY,IAAb,CAAkB,IAAlB,CAAZ;;AAEAd,IAAE,MAAIE,aAAaY,IAAb,CAAkB,IAAlB,CAAN,EAA+Bb,IAA/B,CAAoC,QAApC,EAA8CM,MAA9C;;AAEAR,cAAYgB,SAAZ;;AAEAf,IAAE,QAAF,EAAYgB,KAAZ,CAAkB,MAAlB;AACD,CAdD;;AAgBA,SAASX,QAAT,CAAkBY,KAAlB,EAAyBC,GAAzB,EAA8B;AAC5BlB,IAAEmB,IAAF,CAAOD,GAAP,EAAY,UAASE,GAAT,EAAcC,IAAd,EAAmB;AAC7B,QAAIC,QAAQL,MAAMM,IAAN,CAAW,WAAWH,GAAX,GAAiB,GAA5B,CAAZ;AACA,QAAIE,MAAME,MAAN,GAAe,CAAnB,EAAsB;AAClBF,YAAMG,GAAN,CAAUJ,IAAV;AACH;AACF,GALD;AAMD;;AAED,SAASb,aAAT,CAAuBS,KAAvB,EAA8B;AAC5B,MAAIV,SAAS,EAAb;AACAU,QAAMM,IAAN,CAAW,QAAX,EAAqBJ,IAArB,CAA0B,YAAU;AAChC,QAAIC,MAAMpB,EAAE,IAAF,EAAQc,IAAR,CAAa,MAAb,CAAV;AACA,QAAIY,QAAQ1B,EAAE,IAAF,EAAQyB,GAAR,EAAZ;AACAlB,WAAOa,GAAP,IAAcM,KAAd;AACH,GAJD;AAKA,SAAOnB,MAAP;AACD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["let themeManage = $('body').data('themeManage');\n\nlet $currentItem = themeManage.getCurrentItem();\nlet currentConfig = $currentItem.data('config');\nformInit($(\".item-config-form\"), currentConfig);\n\n$(\"#save-btn\").on('click', function(){\n  let config = formSerialize($($(this).data('form')));\n\n  let code = $currentItem.data('code').split('_').pop();\n\n  config.code = code;\n  config.defaultTitle = currentConfig.defaultTitle;\n  config.id = $currentItem.attr('id');\n\n  $(\"#\"+$currentItem.attr('id')).data('config', config);\n\n  themeManage.saveBlock();\n\n  $(\"#modal\").modal('hide');\n}); \n\nfunction formInit($form, obj) {\n  $.each(obj, function(key, item){\n    let $item = $form.find('[name=' + key + ']');\n    if ($item.length > 0) {\n        $item.val(item);\n    }\n  });\n}\n\nfunction formSerialize($form) {\n  let config = {};\n  $form.find('[name]').each(function(){\n      let key = $(this).attr('name');\n      let value = $(this).val();\n      config[key] = value;\n  });\n  return config;\n}\n"]}