{"version":3,"sources":["app/Resources/static-src/app/js/testpaper/widget/part.js"],"names":["initScrollbar","$paneCard","$","perfectScrollbar","testpaperCardFixed","$testpaperCard","length","testpaperCard_top","offset","top","window","scroll","event","scrollTop","addClass","removeClass","testpaperCardLocation","click","$btn","currentTarget","siblings","$current","data","onlyShowError","change","each","index","item","$item","$itemParent","closest","prop","hide","find","show","initWatermark","$testpaperWatermark","get","response","WaterMark"],"mappings":";;;;;;;AAAA;;AACA;;AAEO,IAAMA,wCAAgB,SAAhBA,aAAgB,GAAK;AACjC,KAAIC,YAAYC,EAAE,gBAAF,CAAhB;AACCD,WAAUE,gBAAV;AACDF,WAAUE,gBAAV,CAA2B,QAA3B;AACA,CAJM;;AAMA,IAAMC,kDAAoB,SAApBA,kBAAoB,GAAK;AACrC,KAAIC,iBAAiBH,EAAE,oBAAF,CAArB;AACA,KAAGG,eAAeC,MAAf,IAAuB,CAA1B,EAA6B;AAC5B;AACA;AACD,KAAIC,oBAAoBF,eAAeG,MAAf,GAAwBC,GAAhD;AACAP,GAAEQ,MAAF,EAAUC,MAAV,CAAiB,UAASC,KAAT,EAAgB;AAC/B,MAAIC,YAAYX,EAAEQ,MAAF,EAAUG,SAAV,EAAhB;AACA,MAAIA,aAAaN,iBAAjB,EAAoC;AACnCF,kBAAeS,QAAf,CAAwB,OAAxB;AACA,GAFD,MAEO;AACNT,kBAAeU,WAAf,CAA2B,OAA3B;AACA;AACF,EAPD;AAQA,CAdM;;AAgBA,IAAMC,wDAAwB,SAAxBA,qBAAwB,GAAM;AAC1Cd,GAAE,eAAF,EAAmBe,KAAnB,CAAyB,UAACL,KAAD,EAAS;AACjC,MAAIM,OAAOhB,EAAEU,MAAMO,aAAR,CAAX;AACA,MAAGjB,EAAE,uBAAF,EAA2BI,MAA3B,IAAqC,CAAxC,EAA2C;AAC1CY,QAAKJ,QAAL,CAAc,OAAd,EAAuBM,QAAvB,CAAgC,QAAhC,EAA0CL,WAA1C,CAAsD,OAAtD;AACA;AACC,MAAIM,WAAWnB,EAAEgB,KAAKI,IAAL,CAAU,QAAV,CAAF,CAAf;AACApB,IAAE,MAAF,EAAUW,SAAV,CAAoBQ,SAASb,MAAT,GAAkBC,GAAtC;AACF,EAPD;AAQA,CATM;;AAWA,IAAMc,wCAAgB,SAAhBA,aAAgB,GAAK;AACjCrB,GAAE,YAAF,EAAgBsB,MAAhB,CAAuB,UAACZ,KAAD,EAAS;AAC/B,MAAIS,WAAUnB,EAAEU,MAAMO,aAAR,CAAd;AACAjB,IAAE,qBAAF,EAAyBuB,IAAzB,CAA8B,UAAUC,KAAV,EAAgBC,IAAhB,EAAsB;AACnD,OAAIC,QAAQ1B,EAAEA,EAAEyB,IAAF,EAAQL,IAAR,CAAa,QAAb,CAAF,CAAZ;AACA,OAAIO,cAAcD,MAAME,OAAN,CAAc,8BAAd,CAAlB;AACA,OAAGT,SAASU,IAAT,CAAc,SAAd,CAAH,EAA6B;AAC5BH,UAAMI,IAAN;AACA,QAAGH,YAAYI,IAAZ,CAAiB,gCAAjB,EAAmD3B,MAAnD,IAA2D,CAA9D,EAAiE;AAChEuB,iBAAYG,IAAZ;AACA;AACD,IALD,MAKM;AACLJ,UAAMM,IAAN;AACAL,gBAAYK,IAAZ;AACA;AACD,GAZD;AAaAlC;AACA,EAhBD;AAiBA,CAlBM;;AAoBA,IAAMmC,wCAAgB,SAAhBA,aAAgB,GAAK;AACjC,KAAIC,sBAAsBlC,EAAE,yBAAF,CAA1B;AACC,KAAIkC,oBAAoB9B,MAApB,GAA6B,CAAjC,EAAoC;AAClCJ,IAAEmC,GAAF,CAAMD,oBAAoBd,IAApB,CAAyB,eAAzB,CAAN,EAAiD,UAASgB,QAAT,EAAkB;AACjEF,uBAAoBX,IAApB,CAAyB,YAAU;AACjCvB,MAAE,IAAF,EAAQqC,SAAR,CAAkB;AAChB,kBAAa,QADG;AAEhB,cAAS,EAAC,aAAY,EAAb,EAFO;AAGhB,gBAAW,GAHK;AAIhB,iBAAYD;AAJI,KAAlB;AAMD,IAPD;AAQD,GATD;AAUD;AACF,CAdM","file":"part.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import 'app/common/watermark';\nimport { Browser } from 'common/utils';\n\nexport const initScrollbar = ()=> {\n\tlet $paneCard = $('.js-panel-card');\n  $paneCard.perfectScrollbar();\n\t$paneCard.perfectScrollbar('update');\n}\n\nexport const testpaperCardFixed =()=> {\n\tlet $testpaperCard = $(\".js-testpaper-card\");\n\tif($testpaperCard.length<=0) {\n\t\treturn;\n\t}\n\tlet testpaperCard_top = $testpaperCard.offset().top;\n\t$(window).scroll(function(event) {\n\t\t\tlet scrollTop = $(window).scrollTop();\n\t\t\tif (scrollTop >= testpaperCard_top) {\n\t\t\t\t$testpaperCard.addClass('affix')\n\t\t\t} else {\n\t\t\t\t$testpaperCard.removeClass('affix');\n\t\t\t}\n\t});\n}\n\nexport const testpaperCardLocation = () => {\n\t$('.js-btn-index').click((event)=>{\n\t\tlet $btn = $(event.currentTarget);\n\t\tif($('.js-testpaper-heading').length <= 0) {\n\t\t\t$btn.addClass('doing').siblings('.doing').removeClass('doing');\n\t\t}\n    let $current = $($btn.data('anchor'));\n    $(\"body\").scrollTop($current.offset().top);\n\t})\n}\n\nexport const onlyShowError = ()=> {\n\t$('#showWrong').change((event)=>{\n\t\tlet $current =$(event.currentTarget);\n\t\t$('.js-answer-notwrong').each(function (index,item) {  \n\t\t\tlet $item = $($(item).data('anchor'));\n\t\t\tlet $itemParent = $item.closest('.js-testpaper-question-block');\n\t\t\tif($current.prop('checked')) {\n\t\t\t\t$item.hide();\n\t\t\t\tif($itemParent.find('.js-testpaper-question:visible').length<=0) {\n\t\t\t\t\t$itemParent.hide();\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t$item.show();\n\t\t\t\t$itemParent.show();\n\t\t\t}\n\t\t});\n\t\tinitScrollbar();\n\t})\n}\n\nexport const initWatermark = ()=> {\n\tlet $testpaperWatermark = $('.js-testpaper-watermark');\n  if ($testpaperWatermark.length > 0) {\n    $.get($testpaperWatermark.data('watermark-url'), function(response){\n      $testpaperWatermark.each(function(){\n        $(this).WaterMark({\n          'yPosition': 'center',\n          'style': {'font-size':10},\n          'opacity': 0.6,\n          'contents': response\n        });\n      })\n    });\n  }\n}"]}