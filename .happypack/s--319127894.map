{"version":3,"sources":["app/Resources/static-src/app/js/question-manage/widget/select-linkage.js"],"names":["SelectLinkage","$select1","$select2","select1","select2","_initEvent","on","_selectChange","event","url","data","value","val","self","text","hide","$","post","courseId","result","option","each","index","task","id","title","append","show"],"mappings":";;;;;;;;;;IAAMA,a;AAEJ,yBAAYC,QAAZ,EAAqBC,QAArB,EAA+B;AAAA;;AAC7B,SAAKC,OAAL,GAAeF,QAAf;AACA,SAAKG,OAAL,GAAeF,QAAf;;AAEA,SAAKG,UAAL;AACD;;;;iCAEY;AAAA;;AACX,WAAKF,OAAL,CAAaG,EAAb,CAAgB,QAAhB,EAA0B;AAAA,eAAS,MAAKC,aAAL,CAAmBC,KAAnB,CAAT;AAAA,OAA1B;AACD;;;kCAEaA,K,EACd;AACE,UAAIC,MAAM,KAAKN,OAAL,CAAaO,IAAb,CAAkB,KAAlB,CAAV;AACA,UAAIC,QAAQ,KAAKR,OAAL,CAAaS,GAAb,EAAZ;AACA,UAAIC,OAAO,IAAX;;AAEAA,WAAKT,OAAL,CAAaU,IAAb,CAAkB,EAAlB;;AAEA,UAAIH,SAAS,CAAb,EAAgB;AACd,aAAKP,OAAL,CAAaW,IAAb;AACA;AACD;;AAEDC,QAAEC,IAAF,CAAOR,GAAP,EAAW,EAACS,UAASP,KAAV,EAAX,EAA4B,UAASQ,MAAT,EAAgB;AAC1C,YAAIA,UAAU,EAAd,EAAkB;AAChB,cAAIC,SAAS,gCAAb;AACAJ,YAAEK,IAAF,CAAOF,MAAP,EAAc,UAASG,KAAT,EAAeC,IAAf,EAAoB;AAChCH,sBAAU,oBAAkBG,KAAKC,EAAvB,GAA0B,IAA1B,GAA+BD,KAAKE,KAApC,GAA0C,WAApD;AACD,WAFD;AAGAZ,eAAKT,OAAL,CAAasB,MAAb,CAAoBN,MAApB;AACAP,eAAKT,OAAL,CAAauB,IAAb;AACD,SAPD,MAOO;AACLd,eAAKT,OAAL,CAAaW,IAAb;AACD;AACF,OAXD;AAYD;;;;;;kBAGYf,a","file":"select-linkage.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["class SelectLinkage\n{\n  constructor($select1,$select2) {\n    this.select1 = $select1;\n    this.select2 = $select2;\n\n    this._initEvent();\n  }\n\n  _initEvent() {\n    this.select1.on('change', event => this._selectChange(event));\n  }\n\n  _selectChange(event)\n  {\n    let url = this.select1.data('url');\n    let value = this.select1.val();\n    let self = this;\n\n    self.select2.text('');\n\n    if (value == 0) {\n      this.select2.hide();\n      return;\n    }\n\n    $.post(url,{courseId:value},function(result){\n      if (result != '') {\n        let option = '<option value=\"0\">请选择</option>';\n        $.each(result,function(index,task){\n          option += '<option value=\"'+task.id+'\">'+task.title+'</option>';\n        })\n        self.select2.append(option);\n        self.select2.show();\n      } else {\n        self.select2.hide();\n      }\n    });\n  }\n}\n\nexport default SelectLinkage;"]}