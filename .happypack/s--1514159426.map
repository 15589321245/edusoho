{"version":3,"sources":["app/Resources/static-src/app/js/courseset/show/index.js"],"names":["orderLearnSwiper","initTaskLearnChart","triggerMemberExpired","$","length","on","$this","addClass","data","removeClass","siblings","initSwiper","$chart","easyPieChart","onStep","from","to","percent","el","find","text","Math","round","chart","window","update","random","trigger","pagination","loop","grabCursor","paginationClickable","e","preventDefault","swipePrev","swipeNext"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA;;AAEA;;;;AAGA,IAAIA,mBAAmB,IAAvB;;AAEA;AACAC;AACAC;;AAEA,IAAIC,EAAE,qBAAF,EAAyBC,MAAzB,GAAkC,CAAtC,EAAyC;AACrC,kCAAsBD,EAAE,qBAAF,CAAtB;AACH;;AAEDA,EAAE,oBAAF,EAAwBE,EAAxB,CAA2B,OAA3B,EAAoC,GAApC,EAAyC,YAAW;AAChD,MAAIC,QAAQH,EAAE,IAAF,EAAQI,QAAR,CAAiB,QAAjB,CAAZ;AACAJ,IAAEG,MAAME,IAAN,CAAW,MAAX,CAAF,EAAsBC,WAAtB,CAAkC,QAAlC;AACAN,IAAEG,MAAMI,QAAN,CAAe,GAAf,EAAoBD,WAApB,CAAgC,QAAhC,EAA0CD,IAA1C,CAA+C,MAA/C,CAAF,EAA0DD,QAA1D,CAAmE,QAAnE;AACA,MAAGD,MAAME,IAAN,CAAW,MAAX,KAAsB,OAAtB,IAAgC,CAACR,gBAApC,EAAsD;AACpDW;AACD;AACJ,CAPD;;AASA,SAASV,kBAAT,GAA8B;;AAE1B,MAAIW,SAAST,EAAE,eAAF,CAAb;AACFS,SAAOC,YAAP,CAAoB;AACnBC,YAAQ,gBAASC,IAAT,EAAeC,EAAf,EAAmBC,OAAnB,EAA4B;AACnCd,QAAE,KAAKe,EAAP,EAAWC,IAAX,CAAgB,UAAhB,EAA4BC,IAA5B,CAAiCC,KAAKC,KAAL,CAAWL,OAAX,CAAjC;AACA;AAHkB,GAApB;AAKA,MAAIM,QAAQC,OAAOD,KAAP,GAAeX,OAAOJ,IAAP,CAAY,cAAZ,CAA3B;AACAe,QAAME,MAAN,CAAab,OAAOJ,IAAP,CAAY,SAAZ,CAAb;AACAL,IAAE,YAAF,EAAgBE,EAAhB,CAAmB,OAAnB,EAA4B,YAAW;AACtCkB,UAAME,MAAN,CAAaJ,KAAKK,MAAL,KAAc,GAAd,GAAkB,GAA/B;AACA,GAFD;AAGE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAED,SAASxB,oBAAT,GAAgC;AAC5B,MAAIC,EAAE,gBAAF,EAAoBC,MAAxB,EAAgC;AAC5BD,MAAE,kBAAF,EAAsBwB,OAAtB,CAA8B,OAA9B;AACH;AACJ;;AAED,SAAShB,UAAT,GAAsB;AACpBX,qBAAmB,qBAAW,mBAAX,EAA+B;AAChD4B,gBAAY,eADoC;AAEhDC,UAAK,IAF2C;AAGhDC,gBAAY,IAHoC;AAIhDC,yBAAqB;AAJ2B,GAA/B,CAAnB;AAMA5B,IAAE,aAAF,EAAiBE,EAAjB,CAAoB,OAApB,EAA6B,UAAS2B,CAAT,EAAW;AACtCA,MAAEC,cAAF;AACAjC,qBAAiBkC,SAAjB;AACD,GAHD;AAIA/B,IAAE,cAAF,EAAkBE,EAAlB,CAAqB,OAArB,EAA8B,UAAS2B,CAAT,EAAW;AACvCA,MAAEC,cAAF;AACAjC,qBAAiBmC,SAAjB;AACD,GAHD;;AAKA;AACD","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import { chapterAnimate } from 'app/common/widget/chapter-animate';\nimport Swiper from 'swiper';\nimport AttachmentActions from 'app/js/attachment/widget/attachment-actions';\nimport { Browser } from 'common/utils';\n\nimport 'libs/js/excanvas.compiled';\n\n\nlet orderLearnSwiper = null;\n\nchapterAnimate();\ninitTaskLearnChart();\ntriggerMemberExpired();\n\nif ($('.js-attachment-list').length > 0) {\n    new AttachmentActions($('.js-attachment-list'));\n}\n\n$('.js-task-show-type').on('click', 'a', function() {\n    let $this = $(this).addClass('active');\n    $($this.data('list')).removeClass('hidden');\n    $($this.siblings('a').removeClass('active').data('list')).addClass('hidden');\n    if($this.data('type') == 'chart'&& !orderLearnSwiper) {\n      initSwiper();\n    }\n})\n\nfunction initTaskLearnChart() {\n\n    var $chart = $('#freeprogress');\n\t\t$chart.easyPieChart({\n\t\t\tonStep: function(from, to, percent) {\n\t\t\t\t$(this.el).find('.percent').text(Math.round(percent));\n\t\t\t}\n\t\t});\n\t\tvar chart = window.chart = $chart.data('easyPieChart');\n\t\tchart.update($chart.data('percent'));\n\t\t$('.js_update').on('click', function() {\n\t\t\tchart.update(Math.random()*200-100);\n\t\t});\n    // $('#freeprogress').easyPieChart({\n    //     easing: 'easeOutBounce',\n    //     trackColor: '#ebebeb',\n    //     barColor: '#46c37b',\n    //     scaleColor: false,\n    //     lineWidth: 14,\n    //     size: 145,\n    //     onStep: function(from, to, percent) {\n    //         if (Math.round(percent) == 100) {\n    //             $(this.el).addClass('done');\n    //         }\n    //         $(this.el).find('.percent').html('学习进度' + '<br><span class=\"num\">' + Math.round(percent) + '%</span>');\n    //     }\n    // });\n\n    // $('#orderprogress-plan').easyPieChart({\n    //     easing: 'easeOutBounce',\n    //     trackColor: '#ebebeb',\n    //     barColor: '#fd890c',\n    //     scaleColor: false,\n    //     lineWidth: 14,\n    //     size: 145,\n    // });\n\n    // let bg = $('#orderprogress-plan').length > 0 ? 'transparent' : '#ebebeb';\n\n    // $('#orderprogress').easyPieChart({\n    //     easing: 'easeOutBounce',\n    //     trackColor: bg,\n    //     barColor: '#46c37b',\n    //     scaleColor: false,\n    //     lineWidth: 14,\n    //     size: 145,\n    //     onStep: function(from, to, percent) {\n    //         if (Math.round(percent) == 100) {\n    //             $(this.el).addClass('done');\n    //         }\n    //         $(this.el).find('.percent').html('学习进度' + '<br><span class=\"num\">' + Math.round(percent) + '%</span>');\n    //     }\n    // });\n}\n\nfunction triggerMemberExpired() {\n    if ($('.member-expire').length) {\n        $(\".member-expire a\").trigger('click');\n    }\n}\n\nfunction initSwiper() {\n  orderLearnSwiper = new Swiper('.swiper-container',{\n    pagination: '.swiper-pager',\n    loop:true,\n    grabCursor: true,\n    paginationClickable: true\n  })\n  $('.arrow-left').on('click', function(e){\n    e.preventDefault()\n    orderLearnSwiper.swipePrev()\n  })\n  $('.arrow-right').on('click', function(e){\n    e.preventDefault()\n    orderLearnSwiper.swipeNext()\n  })\n\n  // $('data-toggle=\"tooltip\"').tooTip()\n}\n\n"]}