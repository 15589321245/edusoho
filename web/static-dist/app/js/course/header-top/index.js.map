{"version":3,"sources":["webpack:///./app/Resources/static-src/app/common/widget/qrcode.js?74c0","webpack:///./app/Resources/static-src/app/js/course/header-top/index.js"],"names":["$","on","$this","hasClass","removeClass","ajax","type","url","data","dataType","success","find","attr","img","addClass","$unfavorite","$favorite","bindOperation","discountCountdown","ancelRefund","confirm","Translator","trans","post","window","location","reload","$needHideBtn","$needShowBtn","click","console","log","done","show","hide","remainTime","parseInt","endtime","Date","valueOf","countdown","event","html","strftime","setTimeout","app","crontab"],"mappings":";;;;;;;AAAAA,GAAE,MAAF,EAAUC,EAAV,CAAa,OAAb,EAAsB,YAAtB,EAAoC,YAAY;AAC9C,OAAIC,QAAQF,EAAE,IAAF,CAAZ;AACA,OAAIE,MAAMC,QAAN,CAAe,MAAf,CAAJ,EAA4B;AAC1BD,WAAME,WAAN,CAAkB,MAAlB;AACD,IAFD,MAEO;AACLJ,OAAEK,IAAF,CAAO;AACLC,aAAM,MADD;AAELC,YAAKL,MAAMM,IAAN,CAAW,KAAX,CAFA;AAGLC,iBAAU,MAHL;AAILC,gBAAS,iBAAUF,IAAV,EAAgB;AACvBN,eAAMS,IAAN,CAAW,qBAAX,EAAkCC,IAAlC,CAAuC,KAAvC,EAA8CJ,KAAKK,GAAnD;AACAX,eAAMY,QAAN,CAAe,MAAf;AACD;AAPI,MAAP;AASD;AACF,EAfD,E;;;;;;;;;ACAA;;AAEA,KAAIC,cAAcf,EAAE,oBAAF,CAAlB;AACA,KAAIgB,YAAYhB,EAAE,kBAAF,CAAhB;AACAiB,eAAcF,WAAd,EAA2BC,SAA3B;AACAC,eAAcD,SAAd,EAAyBD,WAAzB;AACAG;AACAC;;AAEA,UAASA,WAAT,GAAuB;AACtBnB,IAAE,gBAAF,EAAoBC,EAApB,CAAuB,OAAvB,EAAgC,YAAY;AAC3C,OAAI,CAACmB,QAAQC,WAAWC,KAAX,CAAiB,+BAAjB,CAAR,CAAL,EAAiE;AAChE,WAAO,KAAP;AACA;AACDtB,KAAEuB,IAAF,CAAOvB,EAAE,IAAF,EAAQQ,IAAR,CAAa,KAAb,CAAP,EAA4B,UAAUA,IAAV,EAAgB;AAC3CgB,WAAOC,QAAP,CAAgBC,MAAhB;AACA,IAFD;AAGA,GAPD;AAQA;;AAED,UAAST,aAAT,CAAuBU,YAAvB,EAAqCC,YAArC,EAAmD;AAClDD,eAAaE,KAAb,CAAmB,YAAM;AACxB,OAAMtB,MAAMoB,aAAanB,IAAb,CAAkB,KAAlB,CAAZ;AACAsB,WAAQC,GAAR,CAAYxB,GAAZ;AACA,OAAI,CAACA,GAAL,EAAU;AACT;AACA;AACDP,KAAEuB,IAAF,CAAOhB,GAAP,EACEyB,IADF,CACO,UAACtB,OAAD,EAAa;AAClB,QAAI,CAACA,OAAL,EAAc;AACdkB,iBAAaK,IAAb;AACAN,iBAAaO,IAAb;AACA,IALF;AAMA,GAZD;AAaA;;AAED,UAAShB,iBAAT,GAA6B;AAC5B,MAAIiB,aAAaC,SAASpC,EAAE,6BAAF,EAAiCQ,IAAjC,CAAsC,YAAtC,CAAT,CAAjB;AACA,MAAI2B,cAAc,CAAlB,EAAqB;AACpB,OAAIE,UAAU,IAAIC,IAAJ,CAAS,IAAIA,IAAJ,GAAWC,OAAX,KAAuBJ,aAAa,IAA7C,CAAd;AACAnC,KAAE,6BAAF,EAAiCwC,SAAjC,CAA2CH,OAA3C,EAAoD,UAAUI,KAAV,EAAiB;AACjE,QAAIvC,QAAQF,EAAE,IAAF,EAAQ0C,IAAR,CAAaD,MAAME,QAAN,CAAetB,WAAWC,KAAX,CAAiB,wCAAjB,CAAf,CAAb,CAAZ;AACH,IAFD,EAEGrB,EAFH,CAEM,kBAFN,EAE0B,YAAY;AACrCD,MAAE,IAAF,EAAQ0C,IAAR,CAAarB,WAAWC,KAAX,CAAiB,kCAAjB,CAAb;AACAsB,eAAW,YAAY;AACtB5C,OAAEuB,IAAF,CAAOsB,IAAIC,OAAX,EAAoB,YAAY;AAC/BtB,aAAOC,QAAP,CAAgBC,MAAhB;AACA,MAFD;AAGA,KAJD,EAIG,IAJH;AAKA,IATD;AAUA;AACD,E","file":"app/js/course/header-top/index.js","sourcesContent":["$(\"body\").on(\"click\", \".es-qrcode\", function () {\n  var $this = $(this);\n  if ($this.hasClass('open')) {\n    $this.removeClass('open');\n  } else {\n    $.ajax({\n      type: \"post\",\n      url: $this.data(\"url\"),\n      dataType: \"json\",\n      success: function (data) {\n        $this.find(\".qrcode-popover img\").attr(\"src\", data.img);\n        $this.addClass('open');\n      }\n    });\n  }\n})\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/common/widget/qrcode.js","import 'app/common/widget/qrcode';\n\nlet $unfavorite = $('.js-unfavorite-btn');\nlet $favorite = $('.js-favorite-btn');\nbindOperation($unfavorite, $favorite);\nbindOperation($favorite, $unfavorite);\ndiscountCountdown();\nancelRefund();\n\nfunction ancelRefund() {\n\t$(\".cancel-refund\").on('click', function () {\n\t\tif (!confirm(Translator.trans('course_set.refund_cancel_hint'))) {\n\t\t\treturn false;\n\t\t}\n\t\t$.post($(this).data('url'), function (data) {\n\t\t\twindow.location.reload();\n\t\t});\n\t});\n}\n\nfunction bindOperation($needHideBtn, $needShowBtn) {\n\t$needHideBtn.click(() => {\n\t\tconst url = $needHideBtn.data('url');\n\t\tconsole.log(url);\n\t\tif (!url) {\n\t\t\treturn;\n\t\t}\n\t\t$.post(url)\n\t\t\t.done((success) => {\n\t\t\t\tif (!success) return;\n\t\t\t\t$needShowBtn.show();\n\t\t\t\t$needHideBtn.hide();\n\t\t\t});\n\t});\n}\n\nfunction discountCountdown() {\n\tvar remainTime = parseInt($('#discount-endtime-countdown').data('remaintime'));\n\tif (remainTime >= 0) {\n\t\tvar endtime = new Date(new Date().valueOf() + remainTime * 1000);\n\t\t$('#discount-endtime-countdown').countdown(endtime, function (event) {\n      var $this = $(this).html(event.strftime(Translator.trans('course_set.show.count_down_format_hint')));\n\t\t}).on('finish.countdown', function () {\n\t\t\t$(this).html(Translator.trans('course_set.show.time_finish_hint'));\n\t\t\tsetTimeout(function () {\n\t\t\t\t$.post(app.crontab, function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t});\n\t\t\t}, 2000);\n\t\t});\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/Resources/static-src/app/js/course/header-top/index.js"],"sourceRoot":""}