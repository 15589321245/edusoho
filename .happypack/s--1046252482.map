{"version":3,"sources":["node_modules/.1.2.7@core-js/modules/es6.weak-map.js"],"names":["$","require","redefine","weak","isObject","has","frozenStore","WEAK","isExtensible","Object","tmp","$WeakMap","get","WeakMap","arguments","length","undefined","key","_i","set","value","def","freeze","each","call","proto","prototype","method","a","b","result"],"mappings":"AAAA;;AACA,IAAIA,IAAeC,QAAQ,KAAR,CAAnB;AAAA,IACIC,WAAeD,QAAQ,cAAR,CADnB;AAAA,IAEIE,OAAeF,QAAQ,qBAAR,CAFnB;AAAA,IAGIG,WAAeH,QAAQ,eAAR,CAHnB;AAAA,IAIII,MAAeJ,QAAQ,SAAR,CAJnB;AAAA,IAKIK,cAAeH,KAAKG,WALxB;AAAA,IAMIC,OAAeJ,KAAKI,IANxB;AAAA,IAOIC,eAAeC,OAAOD,YAAP,IAAuBJ,QAP1C;AAAA,IAQIM,MAAe,EARnB;;AAUA;AACA,IAAIC,WAAWV,QAAQ,gBAAR,EAA0B,SAA1B,EAAqC,UAASW,GAAT,EAAa;AAC/D,SAAO,SAASC,OAAT,GAAkB;AAAE,WAAOD,IAAI,IAAJ,EAAUE,UAAUC,MAAV,GAAmB,CAAnB,GAAuBD,UAAU,CAAV,CAAvB,GAAsCE,SAAhD,CAAP;AAAoE,GAA/F;AACD,CAFc,EAEZ;AACD;AACAJ,OAAK,SAASA,GAAT,CAAaK,GAAb,EAAiB;AACpB,QAAGb,SAASa,GAAT,CAAH,EAAiB;AACf,UAAG,CAACT,aAAaS,GAAb,CAAJ,EAAsB,OAAOX,YAAY,IAAZ,EAAkBM,GAAlB,CAAsBK,GAAtB,CAAP;AACtB,UAAGZ,IAAIY,GAAJ,EAASV,IAAT,CAAH,EAAkB,OAAOU,IAAIV,IAAJ,EAAU,KAAKW,EAAf,CAAP;AACnB;AACF,GAPA;AAQD;AACAC,OAAK,SAASA,GAAT,CAAaF,GAAb,EAAkBG,KAAlB,EAAwB;AAC3B,WAAOjB,KAAKkB,GAAL,CAAS,IAAT,EAAeJ,GAAf,EAAoBG,KAApB,CAAP;AACD;AAXA,CAFY,EAcZjB,IAdY,EAcN,IAdM,EAcA,IAdA,CAAf;;AAgBA;AACA,IAAG,IAAIQ,QAAJ,GAAeQ,GAAf,CAAmB,CAACV,OAAOa,MAAP,IAAiBb,MAAlB,EAA0BC,GAA1B,CAAnB,EAAmD,CAAnD,EAAsDE,GAAtD,CAA0DF,GAA1D,KAAkE,CAArE,EAAuE;AACrEV,IAAEuB,IAAF,CAAOC,IAAP,CAAY,CAAC,QAAD,EAAW,KAAX,EAAkB,KAAlB,EAAyB,KAAzB,CAAZ,EAA6C,UAASP,GAAT,EAAa;AACxD,QAAIQ,QAASd,SAASe,SAAtB;AAAA,QACIC,SAASF,MAAMR,GAAN,CADb;AAEAf,aAASuB,KAAT,EAAgBR,GAAhB,EAAqB,UAASW,CAAT,EAAYC,CAAZ,EAAc;AACjC;AACA,UAAGzB,SAASwB,CAAT,KAAe,CAACpB,aAAaoB,CAAb,CAAnB,EAAmC;AACjC,YAAIE,SAASxB,YAAY,IAAZ,EAAkBW,GAAlB,EAAuBW,CAAvB,EAA0BC,CAA1B,CAAb;AACA,eAAOZ,OAAO,KAAP,GAAe,IAAf,GAAsBa,MAA7B;AACF;AACC,OAAC,OAAOH,OAAOH,IAAP,CAAY,IAAZ,EAAkBI,CAAlB,EAAqBC,CAArB,CAAP;AACH,KAPD;AAQD,GAXD;AAYD","file":"es6.weak-map.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["'use strict';\nvar $            = require('./$')\n  , redefine     = require('./$.redefine')\n  , weak         = require('./$.collection-weak')\n  , isObject     = require('./$.is-object')\n  , has          = require('./$.has')\n  , frozenStore  = weak.frozenStore\n  , WEAK         = weak.WEAK\n  , isExtensible = Object.isExtensible || isObject\n  , tmp          = {};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = require('./$.collection')('WeakMap', function(get){\n  return function WeakMap(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key){\n    if(isObject(key)){\n      if(!isExtensible(key))return frozenStore(this).get(key);\n      if(has(key, WEAK))return key[WEAK][this._i];\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value){\n    return weak.def(this, key, value);\n  }\n}, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){\n  $.each.call(['delete', 'has', 'get', 'set'], function(key){\n    var proto  = $WeakMap.prototype\n      , method = proto[key];\n    redefine(proto, key, function(a, b){\n      // store frozen objects on leaky map\n      if(isObject(a) && !isExtensible(a)){\n        var result = frozenStore(this)[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}"]}