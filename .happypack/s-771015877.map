{"version":3,"sources":["app/Resources/static-src/app/js/courseset/show/index.js"],"names":["orderLearnSwiper","initTaskLearnChart","triggerMemberExpired","initSwiper","$","length","on","$this","addClass","data","removeClass","siblings","easyPieChart","easing","trackColor","barColor","scaleColor","lineWidth","size","onStep","from","to","percent","css","Math","round","el","find","html","bg","trigger","pagination","loop","grabCursor","paginationClickable","e","preventDefault","swipePrev","console","log","swipeNext"],"mappings":"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","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import { chapterAnimate } from 'app/common/widget/chapter-animate';\nimport Swiper from 'swiper';\nimport AttachmentActions from 'app/js/attachment/widget/attachment-actions';\nimport { Browser } from 'common/utils';\n\n\nlet orderLearnSwiper = null;\n\nchapterAnimate();\ninitTaskLearnChart();\ntriggerMemberExpired();\ninitSwiper();\n\nif ($('.js-attachment-list').length > 0) {\n    new AttachmentActions($('.js-attachment-list'));\n}\n\n$('.js-task-show-type').on('click', 'a', function() {\n    let $this = $(this).addClass('active');\n    $($this.data('list')).removeClass('hidden');\n    $($this.siblings('a').removeClass('active').data('list')).addClass('hidden');\n    if($this.data('type') == 'chart'&& !orderLearnSwiper) {\n      initSwiper();\n    }\n})\n\nfunction initTaskLearnChart() {\n    $('#freeprogress').easyPieChart({\n        easing: 'easeOutBounce',\n        trackColor: '#ebebeb',\n        barColor: '#46c37b',\n        scaleColor: false,\n        lineWidth: 14,\n        size: 145,\n        onStep: function(from, to, percent) {\n            $('canvas').css('height','146px');\n            $('canvas').css('width','146px');\n            if (Math.round(percent) == 100) {\n                $(this.el).addClass('done');\n            }\n            $(this.el).find('.percent').html('学习进度' + '<br><span class=\"num\">' + Math.round(percent) + '%</span>');\n        }\n    });\n\n    $('#orderprogress-plan').easyPieChart({\n        easing: 'easeOutBounce',\n        trackColor: '#ebebeb',\n        barColor: '#fd890c',\n        scaleColor: false,\n        lineWidth: 14,\n        size: 145,\n    });\n\n    let bg = $('#orderprogress-plan').length > 0 ? 'transparent' : '#ebebeb';\n\n    $('#orderprogress').easyPieChart({\n        easing: 'easeOutBounce',\n        trackColor: bg,\n        barColor: '#46c37b',\n        scaleColor: false,\n        lineWidth: 14,\n        size: 145,\n        onStep: function(from, to, percent) {\n            if (Math.round(percent) == 100) {\n                $(this.el).addClass('done');\n            }\n            $(this.el).find('.percent').html('学习进度' + '<br><span class=\"num\">' + Math.round(percent) + '%</span>');\n        }\n    });\n}\n\nfunction triggerMemberExpired() {\n    if ($('.member-expire').length) {\n        $(\".member-expire a\").trigger('click');\n    }\n}\n\nfunction initSwiper() {\n  // orderLearnSwiper = $('.swiper-container').swiper({\n  //   pagination: '.swiper-pager',\n  //   loop:true,\n  //   grabCursor: true,\n  //   paginationClickable: true\n  // })\n  orderLearnSwiper = new Swiper('.swiper-container',{\n    pagination: '.swiper-pager',\n    loop:true,\n    grabCursor: true,\n    paginationClickable: true\n  })\n  $('.arrow-left').on('click', function(e){\n    e.preventDefault()\n    orderLearnSwiper.swipePrev()\n  })\n  $('.arrow-right').on('click', function(e){\n    e.preventDefault()\n    console.log('swipeNext');\n    orderLearnSwiper.swipeNext()\n  })\n\n  // $('data-toggle=\"tooltip\"').tooTip()\n}\n\n"]}