<div class="ui-bar" ui-bar>
    <div class="ui-bar-bg">
      <button class="ui-btn btn-outline iconfont icon-fanhui" back="go"></button>
      <h3 class="title">分类搜索</h3>
    </div>
</div>

<div class="ui-tab tab-top" ui-tab select="empty">
    <ul class="ui-tab-nav ui-border-b">
        <li><span class="line">{{ categoryTab.category }}<i class="iconfont icon-keyboardarrowdown"></i></span></li>
        <li><span class="line">{{ categoryTab.type }}<i class="iconfont icon-keyboardarrowdown"></i></span></li>
        <li><span class="line">{{ categoryTab.sort }}<i class="iconfont icon-keyboardarrowdown"></i></span></li>
    </ul>
    <ul class="ui-tab-content tab-display top-tab-header" style="position: fixed;">
        <li modal>
                  <div class="content category-card">
                      <category-tree ng-if="categoryTree" data="categoryTree" listener="categorySelectedListener">
                      </category-tree>
                  </div>
                  <div class="backdrop-bg"></div>
        </li>
        <li modal>
            <div class="content">
              <ul class="ui-list ui-list-text ui-list-cover ui-list-active">
                <li class="ui-border-b" ng-click="selectType(item)" ng-repeat="item in courseListTypes">
                  {{ item.name }}
                </li>
              </ul>
            </div>
            <div class="backdrop-bg"></div>
        </li>
        <li modal>
            <div class="content">
              <ul class="ui-list ui-list-text ui-list-cover ui-list-active">
                <li class="ui-border-b" ng-click="selectSort(item)" ng-repeat="item in courseListSorts">
                  {{ item.name }}
                </li>
              </ul>
            </div>
            <div class="backdrop-bg"></div>
        </li>
    </ul>

    <div class="ui-scroller course-card" ui-scroll data="courses" on-infinite="loadMore()">
      <ul class="ui-list ui-border-tb">
          <li class="ui-border-t" ng-repeat="course in courses" ng-href="#/course/{{ course.id }}">
              <div class="ui-list-img">
                  <img ng-src="{{ course.middlePicture }}" img-error="course" />
                    <span class="discount-label" ng-class="course.discount == 0 ? 'free' : 'rebate' " ng-if="course.discountId > 0">
                            <span class="discount-label-bottom"></span>
                            <span class="discount-label-content" ng-if="course.discount == 0">限时免费</span>
                            <span class="discount-label-content" ng-if="course.discount > 0">限时打折</span>
                    </span>
                    
              </div>
              <div class="ui-list-info">
                  <h2 class="ui-nowrap ui-list-title">{{ course.title }}</h2>
                  <p class="bottom price-body">
                    <span class="origin-price">
                          {{ course.price | formatPrice }}
                          <s class="discount-color" ng-if="course.discountId > 0">
                            {{ course.originPrice | formatPrice }}
                          </s>
                    </span>

                    <span class="right">
                          <i class="iconfont icon-person"></i>
                          {{ course.studentNum }}人在学
                    </span>
                  </p>
              </div>
          </li>
      </ul>

      <list-empty-view data="courses" title="暂时没有课程">
      </list-empty-view>

      <div class="ui-loading-wrap" ng-show="canLoad">
        <p>正在加载中...</p>
        <i class="ui-loading"></i>
      </div>

    </div>
</div>