{% extends 'TopxiaWebBundle::bootstrap-modal-layout.html.twig' %}

{% set modal_class = 'modal-lg' %}

{% block title %}
      上传题目附件
{% endblock %}
  
{% block body %}

<style type="text/css">
  .filePrew {
    display: block;
    position: absolute;
    top: 10;
    left: 0;
    width: 400px;
    height: 40px;
    opacity: 0;
  }
</style>
<div>
  <div id="selectFiles" 
      data-params-url="{{ path('uploadfile_params', {storage:storageSetting.upload_mode, targetType:targetType, targetId:targetId}) }}"
      data-target-type="{{targetType}}" 
      data-target-id="{{targetId}}"
      data-upload-mode="{{ storageSetting.upload_mode }}"
      data-hls-encrypted="{{ setting('developer.hls_encrypted', 1) }}"
      data-callback="{% if storageSetting.upload_mode == 'cloud' %}{{ path('uploadfile_cloud_callback', {targetType:targetType, targetId:targetId}) }}{% endif %}"
      data-get-video-info="{{path('uploadfile_cloud_get_media_info',{type:'video'})}}"
      data-get-audio-info="{{path('uploadfile_cloud_get_media_info',{type:'audio'})}}"
      data-file-exts="{{fileExts}}">
    <button 
      class="btn_addPic uploadBtn btn btn-default btn-lg">
      <span>
          <i class="glyphicon glyphicon-plus ">
          添加待上传文件
          </i>
      </span>
    </button>
    <button id="btn_upload" class="btn_addPic btn btn-default btn-lg">
      <span>
          上传
      </span>
    </button>
    <input data-role='fileSelected' multiple="multiple" name="pic" class="filePrew" type="file" style="display:none"/>
  </div>

  <div id="fileList">
    <table style="margin-top:20px;" class="table table-bordered table-striped table-condensed">
      <thead>
        <tr>
          <td>文件名称</td>
          <td width="15%">文件大小</td>
          <td width="60%">进度</td>
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>

{% endblock %}
{% block footer %}
    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
{% endblock %}
