{"version":3,"sources":["app/Resources/static-src/app/js/course-manage/index.js"],"names":["$","length","element","ajax","data","console","log","post","ids","response","lessonNum","chapterNum","unitNum","find","each","$item","hasClass","text","store"],"mappings":";;AAAA;;AACA;;;;;;AAEA,IAAIA,EAAE,gBAAF,EAAoBC,MAAxB,EAAgC;AAC9B,0BAAS;AACPC,aAAS,gBADF;AAEPC,UAAM;AAFC,GAAT,EAGG,UAACC,IAAD,EAAU;AACXC,YAAQC,GAAR,CAAYF,IAAZ;AACAJ,MAAEO,IAAF,CAAOP,EAAE,gBAAF,EAAoBI,IAApB,CAAyB,SAAzB,CAAP,EAA4C,EAAEI,KAAKJ,IAAP,EAA5C,EAA2D,UAACK,QAAD,EAAc;AACvE,UAAIC,YAAY,CAAhB;AAAA,UACEC,aAAa,CADf;AAAA,UAEEC,UAAU,CAFZ;AAGAZ,QAAE,gBAAF,EAAoBa,IAApB,CAAyB,mBAAzB,EAA8CC,IAA9C,CAAmD,YAAY;AAC7D,YAAIC,QAAQf,EAAE,IAAF,CAAZ;AACA,YAAIe,MAAMC,QAAN,CAAe,qBAAf,CAAJ,EAA2C;AACzCN;AACAK,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BP,SAA3B;AACD,SAHD,MAGO,IAAIK,MAAMC,QAAN,CAAe,kBAAf,CAAJ,EAAwC;AAC7CJ;AACAG,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BL,OAA3B;AACD,SAHM,MAGA,IAAIG,MAAMC,QAAN,CAAe,qBAAf,CAAJ,EAA2C;AAChDL;AACAC,oBAAU,CAAV;AACAG,gBAAMF,IAAN,CAAW,SAAX,EAAsBI,IAAtB,CAA2BN,UAA3B;AACD;AACF,OAbD;AAcD,KAlBD;AAmBD,GAxBD;AAyBD;;AAGD,wBAAa,gBAAb;AACA;AACA;AACA,wBAAaO,KAAb;AACA;AACA;AACA;AACA","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import { taskSortable,courseFunctionRemask, closeCourse, deleteCourse, showSettings, deleteTask, publishTask, unpublishTask } from './help';\nimport sortable from 'common/sortable';\n\nif ($('#sortable-list').length) {\n  sortable({\n    element: '#sortable-list',\n    ajax: false,\n  }, (data) => {\n    console.log(data);\n    $.post($('#sortable-list').data('sortUrl'), { ids: data }, (response) => {\n      let lessonNum = 0,\n        chapterNum = 0,\n        unitNum = 0;\n      $('#sortable-list').find('.task-manage-item').each(function () {\n        var $item = $(this);\n        if ($item.hasClass('js-task-manage-item')) {\n          lessonNum++;\n          $item.find('.number').text(lessonNum);\n        } else if ($item.hasClass('task-manage-unit')) {\n          unitNum++;\n          $item.find('.number').text(unitNum);\n        } else if ($item.hasClass('task-manage-chapter')) {\n          chapterNum++;\n          unitNum = 0;\n          $item.find('.number').text(chapterNum);\n        }\n      });\n    });\n  });\n}\n\n\ntaskSortable('#sortable-list');\ncourseFunctionRemask();\ncloseCourse();\ndeleteCourse(store);\ndeleteTask();\npublishTask();\nunpublishTask();\nshowSettings();\n"]}