{"version":3,"sources":["app/Resources/static-src/app/js/activity/audio/index.js"],"names":["VideoPlay","elment","dom","$","data","player","emitter","messenger","name","project","children","type","on","msg","playing","_onFinishLearnTask","emit","then","console","log","catch","error","videoPlay","play"],"mappings":";;;;AAAA;;;;AACA;;;;;;;;IACMA,S;AACJ,qBAAYC,MAAZ,EAAoB;AAAA;;AAClB,SAAKC,GAAL,GAAWC,EAAEF,MAAF,CAAX;AACA,SAAKG,IAAL,GAAY,KAAKF,GAAL,CAASE,IAAT,EAAZ;AACA,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,OAAL,GAAe,+BAAf;AACD;;;;2BAEM;AAAA;;AACL,UAAIC,YAAY,wBAAgB;AAC9BC,cAAM,QADwB;AAE9BC,iBAAS,eAFqB;AAG9BC,kBAAU,EAHoB;AAI9BC,cAAM;AAJwB,OAAhB,CAAhB;;AAOAJ,gBAAUK,EAAV,CAAa,OAAb,EAAsB,UAACC,GAAD,EAAS;AAC7B,cAAKR,MAAL,CAAYS,OAAZ,GAAsB,KAAtB;AACA,cAAKC,kBAAL,CAAwBF,GAAxB;AACD,OAHD;;AAKAN,gBAAUK,EAAV,CAAa,SAAb,EAAwB,UAACC,GAAD,EAAS;AAC/B,cAAKR,MAAL,CAAYS,OAAZ,GAAsB,IAAtB;AACD,OAFD;;AAIAP,gBAAUK,EAAV,CAAa,QAAb,EAAuB,UAACC,GAAD,EAAS;AAC9B,cAAKR,MAAL,CAAYS,OAAZ,GAAsB,KAAtB;AACD,OAFD;;AAIAP,gBAAUK,EAAV,CAAa,YAAb,EAA2B,UAACC,GAAD,EAAS,CAAE,CAAtC;AACD;;;uCAEkBA,G,EAAK;AACtB,WAAKP,OAAL,CAAaU,IAAb,CAAkB,QAAlB,EAA4B,EAAEZ,MAAMS,GAAR,EAA5B,EAA2CI,IAA3C,CAAgD,YAAM;AACpDC,gBAAQC,GAAR,CAAY,cAAZ;AACD,OAFD,EAEGC,KAFH,CAES,UAACC,KAAD,EAAW;AAClBH,gBAAQG,KAAR,CAAcA,KAAd;AACD,OAJD;AAKD;;;;;;AAIH,IAAIC,YAAY,IAAItB,SAAJ,CAAc,gBAAd,CAAhB;AACAsB,UAAUC,IAAV","file":"index.js","sourceRoot":"/Users/kz/projects/edusoho","sourcesContent":["import EsMessenger from '../../../common/messenger';\nimport ActivityEmitter from '../../activity/activity-emitter';\nclass VideoPlay {\n  constructor(elment) {\n    this.dom = $(elment);\n    this.data = this.dom.data();\n    this.player = {};\n    this.emitter = new ActivityEmitter();\n  }\n\n  play() {\n    var messenger = new EsMessenger({\n      name: 'parent',\n      project: 'PlayerProject',\n      children: [],\n      type: 'parent'\n    });\n\n    messenger.on(\"ended\", (msg) => {\n      this.player.playing = false;\n      this._onFinishLearnTask(msg);\n    });\n\n    messenger.on(\"playing\", (msg) => {\n      this.player.playing = true;\n    });\n\n    messenger.on(\"paused\", (msg) => {\n      this.player.playing = false;\n    });\n\n    messenger.on(\"timechange\", (msg) => {})\n  }\n\n  _onFinishLearnTask(msg) {\n    this.emitter.emit('finish', { data: msg }).then(() => {\n      console.log('audio.finish');\n    }).catch((error) => {\n      console.error(error);\n    });\n  }\n\n\n}\nlet videoPlay = new VideoPlay(\"#audio-content\");\nvideoPlay.play();\n"]}